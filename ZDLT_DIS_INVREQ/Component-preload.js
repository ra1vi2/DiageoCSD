/**
* This file was auto-generated by SAP Web IDE build and includes all
* the source files required by SAPUI5 runtime for performance optimization.
* PLEASE DO NOT EDIT THIS FILE!! Changes will be overwritten the next time the build is run.
*/
jQuery.sap.registerPreloadedModules({
	"version": "2.0",
	"name": "ZDLT_UI5_DIS_INV_REQ/Component-preload",
	"modules": {
		"ZDLT_UI5_DIS_INV_REQ/controller/Edit_View.controller.js": "sap.ui.define([\r\n\t\"sap/ui/core/mvc/Controller\",\r\n\t\"sap/ui/core/format/DateFormat\",\r\n\t\"sap/m/MessageBox\",\r\n\t\"sap/ui/model/json/JSONModel\",\r\n\t\"sap/m/MessageToast\",\r\n\t\"sap/ui/core/BusyIndicator\"\r\n], function(Controller, DateFormat, MessageBox, JSONModel, MessageToast, BusyIndicator) {\r\n\t\"use strict\";\r\n\r\n\tvar that = this;\r\n\tvar oModel = \"\";\r\n\tvar oJModel = \"\";\r\n\tvar oFilters = \"\";\r\n\tvar v_Plant = \"\";\r\n\tvar v_TruckType = \"\";\r\n\tvar v_Pricelist = \"\";\r\n\tvar v_total_qty = \"\";\r\n\tvar v_docketnum = \"\";\r\n\tvar setkey = \"\";\r\n\tvar oIconTabBar = \"\";\r\n\tvar view = \"\";\r\n\treturn Controller.extend(\"ZDLT_UI5_DIS_INV_REQ.controller.Edit_View\", {\r\n\r\n\t\t/**\r\n\t\t * Called when a controller is instantiated and its View controls (if available) are already created.\r\n\t\t * Can be used to modify the View before it is displayed, to bind event handlers and do other one-time initialization.\r\n\t\t * @memberOf ZDLT_UI5_DIS_INV_REQ.view.Edit_view\r\n\t\t */\r\n\t\tonInit: function() {\r\n\t\t\tthat = this;\r\n\t\t\tvar oRouter = sap.ui.core.UIComponent.getRouterFor(this);\r\n\r\n\t\t\toRouter.getRoute(\"Edit_View\").attachPatternMatched(this._onObjectMatched, this);\r\n\r\n\t\t\t//\tvar vServiceUrl = \"http://sapbwdev02.corp.usl.in:8020/sap/opu/odata/sap/ZDLT_SALES_INVOICE_SRV\";\r\n\t\t\tvar vServiceUrl = \"/sap/opu/odata/sap/ZDLT_SALES_INVOICE_SRV\";\r\n\t\t\tvar oModel = new sap.ui.model.odata.v2.ODataModel(vServiceUrl, {\r\n\t\t\t\tdefaultBindingMode: sap.ui.model.BindingMode.TwoWay\r\n\t\t\t});\r\n\t\t\tthis.getView().setModel(oModel);\r\n\t\t\tthis.getView().setModel(new JSONModel(), \"this\");\r\n\t\t\tthis.getView().getModel(\"this\").setProperty(\"/SalesOrderCreated\", true);\r\n\t\t\tthat.getView().getModel(\"this\").setProperty(\"/IsCSDTokenFieldsVisible\", false);\r\n\t\t\tthat.getView().getModel(\"this\").setProperty(\"/IsInvoiceCreated\", false);\r\n\t\t\tthat.getView().getModel(\"this\").setProperty(\"/IsCSDTokenNoVisible\", false);\r\n\r\n\t\t}, //end of init\r\n\r\n\t\t_onObjectMatched: function(oEvent) {\r\n\t\t\tthat = this;\r\n\t\t\tthat.getView().getModel(\"this\").setProperty(\"/IsCSDTokenFieldsVisible\", false);\r\n\t\t\tvar view = this.getView().sId + \"--\";\r\n\t\t\tvar setkey = view + \"__filter2\";\r\n\t\t\tvar oIconTabBar = that.getView().byId(\"__bar1\");\r\n\t\t\toIconTabBar.fireSelect({\r\n\t\t\t\tkey: setkey,\r\n\t\t\t\titem: oIconTabBar.getItems()[0]\r\n\t\t\t});\r\n\t\t\toIconTabBar.setSelectedKey(setkey);\r\n\t\t\tvar setkey = view + \"__filter0\";\r\n\t\t\tvar oIconTabBar = that.getView().byId(\"__bar0\");\r\n\t\t\toIconTabBar.fireSelect({\r\n\t\t\t\tkey: setkey,\r\n\t\t\t\titem: oIconTabBar.getItems()[0]\r\n\t\t\t});\r\n\t\t\toIconTabBar.setSelectedKey(setkey);\r\n\t\t\t/*\tthis.getView().bindElement({\r\n\t\t\t\t\tpath: \"/Edit\" + oEvent.getParameter(\"arguments\").docId,\r\n\t\t\t\t\tmodel: \"\"\r\n\t\t\t\t}); */\r\n\t\t\tv_total_qty = \"\";\r\n\t\t\toFilters = oEvent.getParameter(\"arguments\").docId;\r\n\t\t\tv_docketnum = oFilters;\r\n\t\t\t//\tthat.getView().getId(\"BtSLoc\").\r\n\r\n\t\t\t//start of code\r\n\t\t\t//var vServiceUrl = \"http://sapbwdev02.corp.usl.in:8020/sap/opu/odata/sap/ZDLT_SALES_INVOICE_SRV\";\r\n\t\t\tvar vServiceUrl = \"/sap/opu/odata/sap/ZDLT_SALES_INVOICE_SRV\";\r\n\t\t\tvar oModel = new sap.ui.model.odata.v2.ODataModel(vServiceUrl, {\r\n\t\t\t\tdefaultBindingMode: sap.ui.model.BindingMode.TwoWay\r\n\t\t\t});\r\n\t\t\tthis.getView().setModel(oModel);\r\n\t\t\t/*\tvar url1 = \"/DcktInvEditSet('1006:JAN20:00003')?$expand=DcktEditNavItem,DcktEditNavBat\";\r\n\t\t\t//\tvar url1 = \"/DcktInvEditSet?$filter=(id eq '1006:JAN20:00003')\";\r\n\t\t\t\t\toModel.read(url1, {\r\n\t\t\t\t\tsuccess: function(odata, oResponse) {},\r\n\t\t\t\t\terror: function(oError) {}\r\n\r\n\t\t\t\t});*/\r\n\t\t\t//\tvar oFilters = \"1006:JAN20:00003\"; //DocketNum= ///DcktInvEditSet('1006:JAN20:00003')\"\r\n\t\t\t//\tvar oFilters = oEvent.getParameter(\"arguments\");\r\n\r\n\t\t\t//Start of Code for Truck type dropdown\r\n\t\t\tvar odataModeltr = that.getView().getModel();\r\n\t\t\t//Setting trucktype values based on Plant value\r\n\t\t\tvar filtervalue = v_Plant;\r\n\t\t\todataModeltr.read(\"/TruckTypeSet\", {\r\n\t\t\t\tfilters: [\r\n\t\t\t\t\tnew sap.ui.model.Filter(\"Plant\", sap.ui.model.FilterOperator.EQ, filtervalue)\r\n\t\t\t\t],\r\n\t\t\t\tsuccess: function(oData, oResponse) {\r\n\t\t\t\t\tvar aFiltersComboBoxData = oResponse.data.results;\r\n\t\t\t\t\tvar oJModeltr3 = new sap.ui.model.json.JSONModel();\r\n\t\t\t\t\toJModeltr3.setData(aFiltersComboBoxData);\r\n\t\t\t\t\tthat.getView().byId(\"Combtrcktyp\").setModel(oJModeltr3, \"namedmodel\");\r\n\r\n\t\t\t\t\toModel.read(\"/DcktInvEditSet\", {\r\n\t\t\t\t\t\t// filters: oFilters, // use sap.ui.model.Filter for filters\r\n\t\t\t\t\t\tfilters: [\r\n\t\t\t\t\t\t\tnew sap.ui.model.Filter(\"DocketNum\", sap.ui.model.FilterOperator.EQ, oFilters)\r\n\t\t\t\t\t\t],\r\n\t\t\t\t\t\turlParameters: {\r\n\t\t\t\t\t\t\t\"$expand\": \"DcktEditNavItem,DcktEditNavBat\"\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tsuccess: function(oData, oResponse) {\r\n\t\t\t\t\t\t\tif (oResponse.statusCode == 200 && oData.MsgType == \"E\") {\r\n\t\t\t\t\t\t\t\tvar _errMsg = oData.Msg;\r\n\t\t\t\t\t\t\t\tsap.m.MessageBox.show(_errMsg, sap.m.MessageBox.Icon.ERROR, \"Error\");\r\n\t\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t//\t\t\talert(\"success\"); \r\n\t\t\t\t\t\t\tvar oDateFormat = DateFormat.getDateInstance({\r\n\t\t\t\t\t\t\t\tsource: {\r\n\t\t\t\t\t\t\t\t\tpattern: \"timestamp\"\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\tpattern: \"yyyy-MM-dd\" //\"dd/MM/yyyy\"\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\tvar it = 0;\r\n\t\t\t\t\t\t\t//Converts the dates and set back to oData\r\n\r\n\t\t\t\t\t\t\tfor (var i = 0; i < oData.results.length; i++) {\r\n\t\t\t\t\t\t\t\tvar odata1 = oData.results[i];\r\n\t\t\t\t\t\t\t\todata1.InvDate = (new Date(odata1.InvDate)).getTime() - (it % 10 * 4 * 24 * 60 * 60 * 1000);\r\n\t\t\t\t\t\t\t\todata1.InvDateStr = oDateFormat.format(new Date(odata1.InvDate));\r\n\r\n\t\t\t\t\t\t\t\todata1.TPermitDate = (new Date(odata1.TpPermitDate)).getTime() - (it % 10 * 4 * 24 * 60 * 60 * 1000);\r\n\t\t\t\t\t\t\t\todata1.TPermitDateStr = oDateFormat.format(new Date(odata1.TPermitDate));\r\n\r\n\t\t\t\t\t\t\t\todata1.ExpDate = (new Date(odata1.ExpDate)).getTime() - (it % 10 * 4 * 24 * 60 * 60 * 1000);\r\n\t\t\t\t\t\t\t\todata1.ExpDate = oDateFormat.format(new Date(odata1.ExpDate));\r\n\t\t\t\t\t\t\t\tif (odata1.ExpOrdDate !== null) {\r\n\t\t\t\t\t\t\t\t\todata1.ExpOrdDate = (new Date(odata1.ExpOrdDate)).getTime() - (it % 10 * 4 * 24 * 60 * 60 * 1000);\r\n\t\t\t\t\t\t\t\t\todata1.ExpOrdDate = oDateFormat.format(new Date(odata1.ExpOrdDate));\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tif (odata1.TpOrderDate !== null) {\r\n\t\t\t\t\t\t\t\t\todata1.TpOrderDate = (new Date(odata1.TpOrderDate)).getTime() - (it % 10 * 4 * 24 * 60 * 60 * 1000);\r\n\t\t\t\t\t\t\t\t\todata1.TpOrderDate = oDateFormat.format(new Date(odata1.TpOrderDate));\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\tthat.getView().byId(\"Inpinvdate\").setValue(oData.results[0].InvDateStr);\r\n\t\t\t\t\t\t\tv_Plant = oData.results[0].Plant;\r\n\r\n\t\t\t\t\t\t\tthat.getView().getModel(\"this\").setProperty(\"/TruckInd\", oData.results[0].TruckInd);\r\n\t\t\t\t\t\t\tif (oData.results[0].TruckInd === 'P' && oData.results[0].Status === 0) {\r\n\t\t\t\t\t\t\t\tthat.getView().getModel(\"this\").setProperty(\"/TruckEditable\", true);\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t//ra1vi2 for token38\r\n\t\t\t\t\t\t\tif (oData.results[0].DistributChanId === '12' && oData.results[0].TokenInd === 'Y' && oData.results[0].CusttkInd === 'Y') {\r\n\r\n\t\t\t\t\t\t\t\tthat.getView().getModel(\"this\").setProperty(\"/IsCSDTokenNoVisible\", true);\r\n\t\t\t\t\t\t\t\tthat.getView().byId(\"idToken\").setValue(oData.results[0].TokenNo);\r\n\t\t\t\t\t\t\t\tthat.getView().byId(\"idCSDTokenNumber\").setValue(oData.results[0].TokenNo);\r\n\t\t\t\t\t\t\t\tthat.getView().byId(\"idForm38Input\").setValue(oData.results[0].Form38);\r\n\t\t\t\t\t\t\t\tif (oData.results[0].Status === 2) {\r\n\t\t\t\t\t\t\t\t\tthat.getView().getModel(\"this\").setProperty(\"/IsCSDTokenFieldsVisible\", true);\r\n\t\t\t\t\t\t\t\t\tthat.getView().byId(\"idToken\").setEnabled(false);\r\n\t\t\t\t\t\t\t\t\tif (that.getView().byId(\"idForm38Input\").getValue()) {\r\n\t\t\t\t\t\t\t\t\t\tthat.getView().getModel(\"this\").setProperty(\"/IsInvoiceCreated\", true);\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t//\tthat.getView().getModel(\"this\").setProperty(\"/IsInvoiceCreated\", true);\r\n\t\t\t\t\t\t\t\t\tthat.getView().getModel(\"this\").setProperty(\"/IsCSDTokenFieldsVisible\", false);\r\n\t\t\t\t\t\t\t\t\tthat.getView().getModel(\"this\").setProperty(\"/IsInvoiceCreated\", false);\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t//ra1vi2 for token38\r\n\r\n\t\t\t\t\t\t\t//that.getView().byId(\"Combplant\").setSelectedKey(oData.results[0].Plant);\r\n\t\t\t\t\t\t\tthat.getView().byId(\"Combplant\").setValue(oData.results[0].Plant);\r\n\t\t\t\t\t\t\tthat.getView().byId(\"InpCompNam\").setValue(oData.results[0].Bukrs);\r\n\t\t\t\t\t\t\tthat.getView().byId(\"Inpplntnam\").setValue(oData.results[0].PlantName);\r\n\t\t\t\t\t\t\tthat.getView().byId(\"Inpdckt\").setValue(oData.results[0].DocketNum);\r\n\t\t\t\t\t\t\tthat.getView().byId(\"Inpcust\").setValue(oData.results[0].Customer);\r\n\t\t\t\t\t\t\tthat.getView().byId(\"Inptpnum\").setValue(oData.results[0].TpPermitNum);\r\n\t\t\t\t\t\t\tthat.getView().byId(\"Inpordnum\").setValue(oData.results[0].OrderNum);\r\n\t\t\t\t\t\t\tthat.getView().byId(\"Inpexpnum\").setValue(oData.results[0].ExpNum);\r\n\t\t\t\t\t\t\tthat.getView().byId(\"Inpremarks\").setValue(oData.results[0].Remarks);\r\n\t\t\t\t\t\t\tthat.getView().byId(\"Inpcustname\").setValue(oData.results[0].CustName);\r\n\r\n\t\t\t\t\t\t\tthat.getView().byId(\"Inpslsorg\").setValue(oData.results[0].SalesOrganization);\r\n\t\t\t\t\t\t\tthat.getView().byId(\"Combdistr\").setSelectedKey(oData.results[0].DistributChanId);\r\n\t\t\t\t\t\t\tthat.getView().byId(\"Combdiv\").setSelectedKey(oData.results[0].DivisionId);\r\n\t\t\t\t\t\t\tthat.getView().byId(\"Combslsgrp\").setSelectedKey(oData.results[0].SalesGrp);\r\n\r\n\t\t\t\t\t\t\tthat.getView().byId(\"Inptpdat\").setValue(oData.results[0].TPermitDateStr);\r\n\r\n\t\t\t\t\t\t\tthat.getView().byId(\"Inpexdat\").setValue(oData.results[0].ExpDate);\r\n\t\t\t\t\t\t\tthat.getView().byId(\"Inpexporddat\").setValue(oData.results[0].ExpOrdDate);\r\n\t\t\t\t\t\t\tv_Pricelist = oData.results[0].Pricelist; //v_Plant = oData.results[0].Plant;\r\n\t\t\t\t\t\t\tthat.getView().byId(\"Combprclst\").setSelectedKey(oData.results[0].Pricelist);\r\n\t\t\t\t\t\t\tthat.getView().byId(\"Inpcashdcnt\").setValue(oData.results[0].CashDiscount);\r\n\r\n\t\t\t\t\t\t\t//that.getView().byId(\"Inptrpordnum\").setValue(oData.results[0].TpOrderNum);\r\n\t\t\t\t\t\t\t//that.getView().byId(\"Inptrporddate\").setValue(oData.results[0].TpOrderDate);\r\n\r\n\t\t\t\t\t\t\tthat.getView().byId(\"Inptrpter\").setValue(oData.results[0].Transporter);\r\n\r\n\t\t\t\t\t\t\tthat.getView().byId(\"Inptrpternam\").setValue(oData.results[0].TrpName);\r\n\r\n\t\t\t\t\t\t\tv_TruckType = oData.results[0].TruckType;\r\n\t\t\t\t\t\t\tthat.getView().byId(\"Combtrcktyp\").setSelectedKey(oData.results[0].TruckType);\r\n\t\t\t\t\t\t\tthat.getView().byId(\"Inptrcknum\").setValue(oData.results[0].TruckNumber);\r\n\t\t\t\t\t\t\tthat.getView().byId(\"Inplrnum\").setValue(oData.results[0].LrNumber);\r\n\t\t\t\t\t\t\tthat.getView().byId(\"Combmilkrun\").setSelectedKey(oData.results[0].MilkRun);\r\n\t\t\t\t\t\t\t//Start of change by Ramesh Damera as part of New CR\r\n\t\t\t\t\t\t\tif (oData.results[0].TpOrderNum == '') {\r\n\t\t\t\t\t\t\t\tthat.getView().byId(\"Idoc\").setValue('N/A');\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tthat.getView().byId(\"Idoc\").setValue(oData.results[0].TpOrderNum);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t//End of change\r\n\r\n\t\t\t\t\t\t\tthat.getView().byId(\"InpSaleOrder\").setValue(oData.results[0].SoDocNo);\r\n\t\t\t\t\t\t\tif (that.getView().byId(\"InpSaleOrder\").getValue()) {\r\n\t\t\t\t\t\t\t\tthat.getView().byId(\"idToken\").setEnabled(false);\r\n\t\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\t\tthat.getView().byId(\"idToken\").setEnabled(true);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tthat.getView().byId(\"InpDelivery\").setValue(oData.results[0].DelDocno);\r\n\t\t\t\t\t\t\tthat.getView().byId(\"InpShipment\").setValue(oData.results[0].ShipDocno);\r\n\t\t\t\t\t\t\tthat.getView().byId(\"InpPGINo\").setValue(oData.results[0].PgiDocno);\r\n\t\t\t\t\t\t\tthat.getView().byId(\"InpInvNo\").setValue(oData.results[0].InvDocno);\r\n\t\t\t\t\t\t\t//if the status is 2  disalbe submit\r\n\t\t\t\t\t\t\tif (oData.results[0].Status == 2) {\r\n\t\t\t\t\t\t\t\tthat.getView().byId(\"Idsubmit\").setEnabled(false); //comb distr\r\n\t\t\t\t\t\t\t\t//\tvar oTitle = that.getPage().getTitle();\r\n\t\t\t\t\t\t\t\tthat.getView().byId(\"Idtexth\").setText(\"Display Invoice\");\r\n\t\t\t\t\t\t\t\t//\toTitle.setT(\"Display Invoice\");\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tthat.getView().byId(\"Idsubmit\").setEnabled(true);\r\n\t\t\t\t\t\t\t\tthat.getView().byId(\"Idtexth\").setText(\"Edit Invoice\");\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t//if the plant type is DE disalbe stoage fetch\r\n\t\t\t\t\t\t\tif (oData.results[0].PlantType !== \"DE\") {\r\n\t\t\t\t\t\t\t\tthat.getView().byId(\"BtSLoc\").setEnabled(false); //Fetch Storage Loc\r\n\t\t\t\t\t\t\t\tthat.getView().byId(\"__filter3\").setEnabled(false);\r\n\t\t\t\t\t\t\t\tthat.getView().byId(\"Combprclst\").setEnabled(false);\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tthat.getView().byId(\"BtSLoc\").setEnabled(true); //Fetch storgage loc\r\n\t\t\t\t\t\t\t\tthat.getView().byId(\"__filter3\").setEnabled(true); //sloc tab\r\n\t\t\t\t\t\t\t\tthat.getView().byId(\"Combprclst\").setEnabled(true);\r\n\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t//Sale order validation\r\n\t\t\t\t\t\t\tif (oData.results[0].SoDocNo !== \"\") {\r\n\t\t\t\t\t\t\t\tthat.getView().byId(\"Btadd\").setEnabled(false); //Add Button\r\n\t\t\t\t\t\t\t\tthat.getView().byId(\"Btdelete\").setEnabled(false);\r\n\t\t\t\t\t\t\t\t//that.getView().byId(\"idQtyColumn\").setEditable(false);\r\n\t\t\t\t\t\t\t\t//\tthat.getView().byId(\"Inpinvdate\").setEnabled(false);\r\n\t\t\t\t\t\t\t\tthat.getView().byId(\"Inpcust\").setEnabled(false);\r\n\t\t\t\t\t\t\t\tthat.getView().getModel(\"this\").setProperty(\"/SalesOrderCreated\", false);\r\n\t\t\t\t\t\t\t\t//Commented as per confirmation from Rajesh Shoney\ton 17-09-2021\t\t\r\n\t\t\t\t\t\t\t\t/*\t\t\t\t\t\tif (oData.results[0].DelDocno !== \"\") {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthat.getView().byId(\"Inptpnum\").setEnabled(false);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthat.getView().byId(\"Inptpnum\").setEnabled(true);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}*/\r\n\t\t\t\t\t\t\t\t//End of Comment\r\n\t\t\t\t\t\t\t\t//Start of new change by Ramesh on 17-09-2021\r\n\t\t\t\t\t\t\t\tif (oData.results[0].InvDocno !== \"\") {\r\n\t\t\t\t\t\t\t\t\tthat.getView().byId(\"Inptpnum\").setEnabled(false);\r\n\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\tthat.getView().byId(\"Inptpnum\").setEnabled(true);\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t//End\r\n\r\n\t\t\t\t\t\t\t\tthat.getView().byId(\"Inpordnum\").setEnabled(false);\r\n\t\t\t\t\t\t\t\tthat.getView().byId(\"Inpexpnum\").setEnabled(false);\r\n\t\t\t\t\t\t\t\tthat.getView().byId(\"Inpremarks\").setEnabled(false);\r\n\r\n\t\t\t\t\t\t\t\tthat.getView().byId(\"Combslsgrp\").setEnabled(false);\r\n\t\t\t\t\t\t\t\t// Start of Comment as part of New CR on 6th September 2021\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t//that.getView().byId(\"Inptpdat\").setEnabled(false);\r\n\t\t\t\t\t\t\t\t//that.getView().byId(\"Inpexdat\").setEnabled(false);\r\n\t\t\t\t\t\t\t\t//End of Comment\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\tthat.getView().byId(\"Inpexporddat\").setEnabled(false);\r\n\t\t\t\t\t\t\t\tthat.getView().byId(\"Combprclst\").setEnabled(false);\r\n\t\t\t\t\t\t\t\tthat.getView().byId(\"Inpcashdcnt\").setEnabled(false);\r\n\r\n\t\t\t\t\t\t\t\t//\tthat.getView().byId(\"Inptrpordnum\").setEnabled(false);\r\n\t\t\t\t\t\t\t\t//\tthat.getView().byId(\"Inptrporddate\").setEnabled(false);\r\n\t\t\t\t\t\t\t\tthat.getView().byId(\"Inptrpter\").setEnabled(false);\r\n\t\t\t\t\t\t\t\tthat.getView().byId(\"Combtrcktyp\").setEnabled(false);\r\n\t\t\t\t\t\t\t\tthat.getView().byId(\"Inptrcknum\").setEnabled(false);\r\n\t\t\t\t\t\t\t\tthat.getView().byId(\"Inplrnum\").setEnabled(false);\r\n\t\t\t\t\t\t\t\tthat.getView().byId(\"Combmilkrun\").setEnabled(false);\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tthat.getView().byId(\"Btadd\").setEnabled(true); //Add Button\r\n\t\t\t\t\t\t\t\tthat.getView().byId(\"Btdelete\").setEnabled(true);\r\n\t\t\t\t\t\t\t\tthat.getView().getModel(\"this\").setProperty(\"/SalesOrderCreated\", true);\r\n\t\t\t\t\t\t\t\t//\tthat.getView().byId(\"Inpinvdate\").setEnabled(true);\r\n\t\t\t\t\t\t\t\tthat.getView().byId(\"Inpcust\").setEnabled(true);\r\n\t\t\t\t\t\t\t\t//\tthat.getView().byId(\"Inptpnum\").setEnabled(false);\r\n\t\t\t\t\t\t\t\tthat.getView().byId(\"Inpordnum\").setEnabled(true);\r\n\t\t\t\t\t\t\t\tthat.getView().byId(\"Inpexpnum\").setEnabled(true);\r\n\t\t\t\t\t\t\t\tthat.getView().byId(\"Inpremarks\").setEnabled(true);\r\n\r\n\t\t\t\t\t\t\t\tthat.getView().byId(\"Combslsgrp\").setEnabled(true);\r\n\t\t\t\t\t\t\t\t// Start of Comment as part of New CR on 6th September 2021\r\n\t\t\t\t\t\t\t\t//\tthat.getView().byId(\"Inptpdat\").setEnabled(true);\r\n\t\t\t\t\t\t\t\t//\tthat.getView().byId(\"Inpexdat\").setEnabled(true);\r\n\t\t\t\t\t\t\t\t// End of Comment\r\n\t\t\t\t\t\t\t\tthat.getView().byId(\"Inpexporddat\").setEnabled(true);\r\n\t\t\t\t\t\t\t\tthat.getView().byId(\"Combprclst\").setEnabled(true);\r\n\t\t\t\t\t\t\t\tthat.getView().byId(\"Inpcashdcnt\").setEnabled(true);\r\n\r\n\t\t\t\t\t\t\t\t//\tthat.getView().byId(\"Inptrpordnum\").setEnabled(true);\r\n\t\t\t\t\t\t\t\t//\t\tthat.getView().byId(\"Inptrporddate\").setEnabled(true);\r\n\t\t\t\t\t\t\t\tthat.getView().byId(\"Inptrpter\").setEnabled(true);\r\n\t\t\t\t\t\t\t\tthat.getView().byId(\"Combtrcktyp\").setEnabled(true);\r\n\t\t\t\t\t\t\t\tthat.getView().byId(\"Inptrcknum\").setEnabled(true);\r\n\t\t\t\t\t\t\t\tthat.getView().byId(\"Inplrnum\").setEnabled(true);\r\n\t\t\t\t\t\t\t\tthat.getView().byId(\"Combmilkrun\").setEnabled(true);\r\n\r\n\t\t\t\t\t\t\t} //end of Sale order validation\r\n\t\t\t\t\t\t\t//Item Data\t\r\n\t\t\t\t\t\t\t//\toData.results[0].DcktEditNavItem.results\r\n\t\t\t\t\t\t\tvar tabledata = new sap.ui.model.json.JSONModel({\r\n\t\t\t\t\t\t\t\t\"Result\": oData.results[0].DcktEditNavItem.results\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\tvar tab = that.getView().byId(\"table1\");\r\n\t\t\t\t\t\t\tvar oJModel1 = tab.getModel();\r\n\t\t\t\t\t\t\tvar datamat = oData.results[0].DcktEditNavItem.results;\r\n\t\t\t\t\t\t\ttab.setModel(tabledata);\r\n\r\n\t\t\t\t\t\t\ttabledata.setData({\r\n\t\t\t\t\t\t\t\tdata: datamat\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t//calculation for total qty in cases\r\n\t\t\t\t\t\t\t//\tvar v_iqty = 0;\r\n\t\t\t\t\t\t\tvar v_qty = 0;\r\n\t\t\t\t\t\t\tfor (var iq = 0; iq < oData.results[0].DcktEditNavItem.results.length; iq++) {\r\n\t\t\t\t\t\t\t\tvar v_qty1 = Math.abs(oData.results[0].DcktEditNavItem.results[iq].Quantity);\r\n\t\t\t\t\t\t\t\tvar v_qty2 = Math.abs(oData.results[0].DcktEditNavItem.results[iq].Umren);\r\n\t\t\t\t\t\t\t\tvar v_iquom = Math.abs(oData.results[0].DcktEditNavItem.results[iq].Uom);\r\n\t\t\t\t\t\t\t\tif (v_iquom == \"EA\") {\r\n\t\t\t\t\t\t\t\t\tif (oData.results[0].DcktEditNavItem.results[iq].Umren !== 0) {\r\n\t\t\t\t\t\t\t\t\t\tv_qty1 = v_qty1 / v_qty2;\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t} //end of each condition\r\n\r\n\t\t\t\t\t\t\t\tv_qty = Math.abs(v_qty1);\r\n\t\t\t\t\t\t\t\tv_total_qty = Math.abs(v_total_qty);\r\n\t\t\t\t\t\t\t\tv_total_qty = Math.abs(v_total_qty);\r\n\t\t\t\t\t\t\t\tv_total_qty = v_total_qty + v_qty;\r\n\t\t\t\t\t\t\t} //end for loop for totalqty calculation\r\n\r\n\t\t\t\t\t\t\t//  v_total_qty = v_total_qty.toFixed(3);\r\n\t\t\t\t\t\t\t//calling add method\r\n\t\t\t\t\t\t\tthat.onAddqty(oEvent);\r\n\t\t\t\t\t\t\tthat.getView().byId(\"Txt1\").setValue(v_total_qty);\r\n\r\n\t\t\t\t\t\t\t//Batch Item\r\n\t\t\t\t\t\t\tvar tabledata1 = new sap.ui.model.json.JSONModel({\r\n\t\t\t\t\t\t\t\t\"Result\": oData.results[0].DcktEditNavBat.results\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\tvar tab1 = that.getView().byId(\"table2\");\r\n\t\t\t\t\t\t\tvar oJModel2 = tab1.getModel();\r\n\t\t\t\t\t\t\tvar databatch = oData.results[0].DcktEditNavBat.results;\r\n\t\t\t\t\t\t\ttab1.setModel(tabledata1);\r\n\r\n\t\t\t\t\t\t\ttabledata1.setData({\r\n\t\t\t\t\t\t\t\tdata: databatch\r\n\t\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\t\t\t//Start of Code for Truck type dropdown\r\n\t\t\t\t\t\t\tvar odataModeltr = that.getView().getModel();\r\n\t\t\t\t\t\t\t//Setting trucktype values based on Plant value\r\n\t\t\t\t\t\t\tvar filtervalue = v_Plant;\r\n\t\t\t\t\t\t\todataModeltr.read(\"/TruckTypeSet\", {\r\n\t\t\t\t\t\t\t\tfilters: [\r\n\t\t\t\t\t\t\t\t\tnew sap.ui.model.Filter(\"Plant\", sap.ui.model.FilterOperator.EQ, filtervalue)\r\n\t\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t\t\tsuccess: function(oData, oResponse) {\r\n\t\t\t\t\t\t\t\t\tvar aFiltersComboBoxData = oResponse.data.results;\r\n\t\t\t\t\t\t\t\t\tvar oJModeltr3 = new sap.ui.model.json.JSONModel();\r\n\t\t\t\t\t\t\t\t\toJModeltr3.setData(aFiltersComboBoxData);\r\n\t\t\t\t\t\t\t\t\tthat.getView().byId(\"Combtrcktyp\").setModel(oJModeltr3, \"namedmodel\");\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\terror: function(oError) {} //end of error\r\n\t\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\t\t\t//end of truck type dropdown\r\n\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\terror: function(oError) {\r\n\t\t\t\t\t\t\talert(\"failure\");\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}); //end of read docket\r\n\t\t\t\t},\r\n\t\t\t\terror: function(oError) {} //end of error\r\n\t\t\t});\r\n\r\n\t\t}, //end of onObjectMatched \r\n\t\tonSLoc: function(oEvent) {\r\n\t\t\tthat = this;\r\n\t\t\t//setting icon tab of sloc\r\n\t\t\tvar view = this.getView().sId + \"--\";\r\n\t\t\tvar setkey = view + \"__filter3\";\r\n\t\t\tvar oIconTabBar = that.getView().byId(\"__bar1\");\r\n\t\t\toIconTabBar.fireSelect({\r\n\t\t\t\tkey: setkey,\r\n\t\t\t\titem: oIconTabBar.getItems()[0]\r\n\t\t\t});\r\n\t\t\toIconTabBar.setSelectedKey(setkey);\r\n\r\n\t\t\tvar oTable1 = this.getView().byId(\"table1\");\r\n\r\n\t\t\t// Get the table Model\r\n\t\t\tvar oModel3 = oTable1.getModel();\r\n\r\n\t\t\t// Get Items of the Table\r\n\t\t\tvar aItems = oModel3.getData().data; //oTable.getItems();\r\n\r\n\t\t\tvar oTable2 = this.getView().byId(\"table2\");\r\n\r\n\t\t\t// Get the table Model\r\n\t\t\tvar oModel4 = oTable2.getModel();\r\n\t\t\tvar odataModel = this.getView().getModel();\r\n\t\t\tvar aFilter1 = [];\r\n\t\t\tvar aFiltermat = [];\r\n\t\t\t//Preparing item data\r\n\t\t\tvar v_matcode;\r\n\r\n\t\t\tvar atabledatabatch = [];\r\n\r\n\t\t\tfor (var iRowIndex = 0; iRowIndex < aItems.length; iRowIndex++) {\r\n\r\n\t\t\t\tv_matcode = aItems[iRowIndex].MaterialCode;\r\n\t\t\t\tvar v_Uom = aItems[iRowIndex].Uom;\r\n\t\t\t\tvar v_qty = aItems[iRowIndex].Quantity;\r\n\t\t\t\t//\tnew sap.ui.model.Filter(\"MaterialCode\", sap.ui.model.FilterOperator.EQ, v_matcode);\r\n\t\t\t\t//\taFilter1.push(new sap.ui.model.Filter([(new sap.ui.model.Filter(\"MaterialCode\", sap.ui.model.FilterOperator.EQ, v_matcode))], false));\r\n\t\t\t\taFiltermat.push(new sap.ui.model.Filter(\"MaterialCode\", sap.ui.model.FilterOperator.EQ, v_matcode));\r\n\t\t\t\t//\t\t}\r\n\t\t\t\taFilter1.push(new sap.ui.model.Filter(\"Plant\", sap.ui.model.FilterOperator.EQ, v_Plant));\r\n\t\t\t\tvar materialFilter = new sap.ui.model.Filter(aFiltermat, false);\r\n\t\t\t\tvar plantFilter = new sap.ui.model.Filter(\"Plant\", sap.ui.model.FilterOperator.EQ, v_Plant);\r\n\t\t\t\tvar odataFilter = new sap.ui.model.Filter([materialFilter, plantFilter], true);\r\n\t\t\t\t//startof new\r\n\t\t\t\todataModel.read(\"/MatBatchSet\", {\r\n\t\t\t\t\t//\tfilters: odataFilter,\r\n\t\t\t\t\t//\tfilters: aFilter1,\r\n\t\t\t\t\tfilters: [\r\n\t\t\t\t\t\tnew sap.ui.model.Filter(\"Plant\", sap.ui.model.FilterOperator.EQ, v_Plant),\r\n\t\t\t\t\t\tnew sap.ui.model.Filter(\"MaterialCode\", sap.ui.model.FilterOperator.EQ, v_matcode),\r\n\t\t\t\t\t\tnew sap.ui.model.Filter(\"Uom\", sap.ui.model.FilterOperator.EQ, v_Uom),\r\n\t\t\t\t\t\tnew sap.ui.model.Filter(\"Quantity\", sap.ui.model.FilterOperator.EQ, v_qty),\r\n\t\t\t\t\t\tnew sap.ui.model.Filter(\"DocketNum\", sap.ui.model.FilterOperator.EQ, v_docketnum)\r\n\t\t\t\t\t\t//\tnew sap.ui.model.Filter(\"InvDate\", sap.ui.model.FilterOperator.BT, date1, date2)\r\n\t\t\t\t\t],\r\n\t\t\t\t\t//\tand: false,\r\n\t\t\t\t\tsuccess: function(oData, oResponse) {\r\n\t\t\t\t\t\tif (oResponse.statusCode == 200 && oData.MsgType == \"E\") {\r\n\t\t\t\t\t\t\tvar _errMsg = oData.Msg;\r\n\t\t\t\t\t\t\tsap.m.MessageBox.show(_errMsg, sap.m.MessageBox.Icon.ERROR, \"Error\");\r\n\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t//\talert(\"success - Go SLOc  called. \");\r\n\r\n\t\t\t\t\t\t/* Json Format\r\n\t\t\t\t\t\t\t\t\t\t\t\t// Push this entry into array and bind it to the table\r\n\t\t\t\t\t\t\t\t\t\t\t\tfor (var i = 0; i < oData.results.length; i++) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvar itemRow = {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tMaterialDesc1: oData.results[i].MaterialDesc,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tQuantity1: oData.results[i].Quantity,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tMaterialCode1: oData.results[i].MaterialCode,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tSLoc: oData.results[i].Sloc,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tSLocQty1: oData.results[i].BatchQty,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tStock: oData.results[i].Slocstock,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tUom1: oData.results[i].Uom,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tBottlecase: oData.results[i].Umren\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t};\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvar oJModel = that.getView().byId(\"table2\").getModel();\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvar itemData = oJModel.getProperty(\"/data1\");\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tif (typeof itemData !== \"undefined\" && itemData !== null && itemData.length > 0) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t// Append the data using .push\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\titemData.push(itemRow);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\titemData = [];\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t//\tAppend empty row\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\titemData.push(itemRow);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\titemData.push(itemRow);\r\n\t\t\t\t\t\t\t\t\t\t\t\t} //endloop of odata.results\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\toJModel.setData({\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tdata: itemData\r\n\t\t\t\t\t\t\t\t\t\t\t\t}); \r\n\t\t\t\t\t\t\t\t\t\t\t\t*/\r\n\r\n\t\t\t\t\t\t//Odata Format\r\n\t\t\t\t\t\t//var databatch = oData.results;// oData.results\r\n\t\t\t\t\t\tvar tabledatabatch1 = new sap.ui.model.json.JSONModel({\r\n\t\t\t\t\t\t\t\"Result\": oData.results\r\n\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\t\tvar tabbatch = that.getView().byId(\"table2\");\r\n\t\t\t\t\t\tvar oJModelbatch = tabbatch.getModel();\r\n\t\t\t\t\t\tvar databatch = [];\r\n\t\t\t\t\t\tfor (var id = 0; id < oData.results.length; id++) {\r\n\t\t\t\t\t\t\tdatabatch = oData.results[id];\r\n\t\t\t\t\t\t\tatabledatabatch.push(databatch);\r\n\t\t\t\t\t\t\t//\tdatabatch.push(databatch);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t//\tdata1= oData.results;\r\n\t\t\t\t\t\t//\toJModel1.setData({\r\n\t\t\t\t\t\t//\tdata: data1\r\n\t\t\t\t\t\t//\t});\r\n\t\t\t\t\t\t//\tatabledatabatch.push(databatch);\r\n\t\t\t\t\t\ttabbatch.setModel(tabledatabatch1);\r\n\t\t\t\t\t\t//   oData.results = atabledatabatch;\r\n\t\t\t\t\t\ttabledatabatch1.setData({\r\n\t\t\t\t\t\t\tdata: atabledatabatch\r\n\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\t},\r\n\t\t\t\t\terror: function(oError) {\r\n\t\t\t\t\t\t\tvar _errMsg = oError.message + \";  \" + oError.statusText;\r\n\t\t\t\t\t\t\tsap.m.MessageBox.show(_errMsg, sap.m.MessageBox.Icon.ERROR, \"Error\");\r\n\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t\t//\talert(\"failed - Go SLOc  called. \");\r\n\t\t\t\t\t\t} //end of error\r\n\t\t\t\t});\r\n\t\t\t}\r\n\r\n\t\t},\r\n\t\t//\t************************Delete Function***************************************\r\n\t\t//\t*****************************************************************************\r\n\t\tonItemDelete: function() {\r\n\r\n\t\t\tvar oTable = this.getView().byId(\"table1\");\r\n\t\t\tvar oModel2 = oTable.getModel();\r\n\r\n\t\t\tvar aRows = oModel2.getData().data;\r\n\t\t\tvar oItems = oTable.getSelectedIndices();\r\n\r\n\t\t\tvar i,\r\n\t\t\t\tpath,\r\n\t\t\t\tidx,\r\n\t\t\t\tv_qty_del;\r\n\t\t\tfor (i = oItems.length - 1; i >= 0; --i) {\r\n\r\n\t\t\t\tvar id = oItems[i];\r\n\r\n\t\t\t\tpath = oTable.getContextByIndex(id).sPath; //-- > this line made the difference\r\n\r\n\t\t\t\tidx = parseInt(path.substring(path.lastIndexOf('/') + 1));\r\n\r\n\t\t\t\tvar v_qty_deleted = aRows[idx].Quantity;\r\n\t\t\t\tv_qty_deleted = Math.abs(v_qty_deleted);\r\n\t\t\t\tvar b_case = Math.abs(this.getView().byId(\"InpUmren\").getValue());\r\n\r\n\t\t\t\tvar v_qty = Math.abs(this.getView().byId(\"Txt1\").getValue());\r\n\t\t\t\tvar v_qty_tot = v_qty - (v_qty_deleted / b_case);\r\n\t\t\t\tif (aRows[idx].Uom == \"EA\") {\r\n\t\t\t\t\tif (b_case !== 0) {\r\n\t\t\t\t\t\tv_qty_deleted = (v_qty_deleted / b_case);\r\n\t\t\t\t\t}\r\n\t\t\t\t} //end of each cond\r\n\t\t\t\tv_qty_deleted = Math.abs(v_qty_deleted);\r\n\t\t\t\tv_total_qty = Math.abs(v_total_qty);\r\n\t\t\t\tv_total_qty = v_total_qty - v_qty_deleted;\r\n\t\t\t\t//\tv_total_qty =\tv_total_qty.toFixed(3);\r\n\r\n\t\t\t\t//\tv_qty_del = v_qty + v_qty_tot ;\r\n\t\t\t\t/*\tv_qty_del = Math.round(v_qty_del);\r\n\t\t\t\t\tv_total_qty = v_total_qty - v_qty_del; */\r\n\t\t\t\t//\tthis.getView().byId(\"Txt1\").setValue(v_qty);\r\n\t\t\t\t//\tthis.getView().byId(\"Txt1\").setValue(v_total_qty);\r\n\t\t\t\taRows.splice(idx, 1);\r\n\r\n\t\t\t} // end of for\r\n\t\t\t//\tcalling add qty function\r\n\t\t\tthis.onAddqty();\r\n\t\t\tthis.getView().byId(\"Txt1\").setValue(v_total_qty);\r\n\t\t\toModel2.setData({\r\n\t\t\t\tdata: aRows\r\n\t\t\t});\r\n\t\t\toTable.removeSelectionInterval(oItems.length);\r\n\t\t},\r\n\t\t//\t************************ON Material Input Function***************************************\r\n\t\t//\t*****************************************************************************************\r\n\t\tonMatInput: function(oEvent) {\r\n\t\t\tvar that = this;\r\n\t\t\tvar matnr = oEvent.getSource().getValue();\r\n\t\t\tvar vkorg = this.getView().byId(\"Inpslsorg\").getValue();\r\n\t\t\tvar vtweg = this.getView().byId(\"Combdistr\").getSelectedKey();\r\n\t\t\tvar spart = this.getView().byId(\"Combdiv\").getSelectedKey();\r\n\t\t\t//\tvar werks= this.getView().byId(\"Combdiv\").getSelectedKey(); \r\n\t\t\tif (matnr == \"\") {\r\n\t\t\t\tthat.getView().byId(\"InpMatcode1\").setValue(\"\");\r\n\t\t\t\tthat.getView().byId(\"InpMatdesc1\").setValue(\"\");\r\n\t\t\t\tthat.getView().byId(\"InpBrand1\").setValue(\"\");\r\n\t\t\t\tthat.getView().byId(\"InpPack1\").setValue(\"\");\r\n\t\t\t\tthat.getView().byId(\"InpQty1\").setValue(\"\");\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tvar werks = v_Plant;\r\n\t\t\tvar customer = this.getView().byId(\"Inpcust\").getValue();\r\n\t\t\tvar invDate = this.getView().byId(\"Inpinvdate\").getValue();\r\n\r\n\t\t\tvar odataModel = this.getView().getModel();\r\n\t\t\tvar url = \"/MatGetSet(Matnr='\" + matnr + \"',Vkorg='\" + vkorg + \"',Vtweg='\" + vtweg + \"',Spart='\" + spart + \"',Werks='\" + werks +\r\n\t\t\t\t\"',Customer='\" + customer + \"')\";\r\n\t\t\t//\turl=\"/MatGetSet(Matnr='103584',Vkorg='5001',Vtweg='11',Spart='11',Werks='1006',Customer='11358')\";\r\n\t\t\t// this.showBusyIndicator();\r\n\r\n\t\t\todataModel.read(url, {\r\n\t\t\t\tsuccess: function(odata, oResponse) {\r\n\t\t\t\t\tif (oResponse.statusCode == 200 && odata.MsgType == \"E\") {\r\n\t\t\t\t\t\t//\tthat.getView().byId(\"InpMatcode\").setValue(\"\");\r\n\t\t\t\t\t\tthat.getView().byId(\"InpMatdesc1\").setValue(\"\");\r\n\t\t\t\t\t\tthat.getView().byId(\"InpBrand1\").setValue(\"\");\r\n\t\t\t\t\t\tthat.getView().byId(\"InpPack1\").setValue(\"\");\r\n\t\t\t\t\t\tthat.getView().byId(\"InpQty1\").setValue(\"\");\r\n\t\t\t\t\t\tvar _errMsg = odata.Msg;\r\n\t\t\t\t\t\tsap.m.MessageBox.show(_errMsg, sap.m.MessageBox.Icon.ERROR, \"Error\");\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\t\t\t\t\t// that.hideBusyIndicator();\r\n\t\t\t\t\tthat.getView().byId(\"InpBrand1\").setValue(odata.Brand);\r\n\t\t\t\t\tthat.getView().byId(\"InpMatdesc1\").setValue(odata.Maktxt);\r\n\t\t\t\t\tthat.getView().byId(\"InpPack1\").setValue(odata.Pack);\r\n\t\t\t\t\tthat.getView().byId(\"InpUmren\").setValue(odata.Umren);\r\n\t\t\t\t},\r\n\t\t\t\terror: function(oError) {\r\n\t\t\t\t\tthat.getView().byId(\"InpMatdesc1\").setValue(\"\");\r\n\t\t\t\t\tthat.getView().byId(\"InpBrand1\").setValue(\"\");\r\n\t\t\t\t\tthat.getView().byId(\"InpPack1\").setValue(\"\");\r\n\t\t\t\t\tthat.getView().byId(\"InpQty1\").setValue(\"\");\r\n\t\t\t\t\tvar _errMsg = oError.message + \";  \" + oError.statusText;\r\n\t\t\t\t\t_errMsg = \"Invalid Material\";\r\n\t\t\t\t\tsap.m.MessageBox.show(_errMsg, sap.m.MessageBox.Icon.ERROR, \"Error\");\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t});\r\n\t\t},\r\n\t\t//\t************************ON Invoice Date Input Function***************************************\r\n\t\t//\t*****************************************************************************************\r\n\r\n\t\tonEnterInvDate: function(oEvent) {\r\n\t\t\tvar that = this;\r\n\t\t\tvar tPExpdate = this.getView().byId(\"Inpexdat\").getValue();\r\n\t\t\t//\tvar tPPermitdate = this.getView().byId(\"Inptpdat\").getValue();\r\n\t\t\tvar invdate = this.getView().byId(\"Inpinvdate\").getValue();\r\n\r\n\t\t\tif (tPExpdate < invdate) {\r\n\t\t\t\tif (tPExpdate !== \"\") {\r\n\t\t\t\t\tthis.getView().byId(\"Inpinvdate\").focus();\r\n\t\t\t\t\tvar _errMsg = \" Invoice date should be less than equal to TP expiry Date \";\r\n\t\t\t\t\tsap.m.MessageBox.show(_errMsg, sap.m.MessageBox.Icon.ERROR, \"Error\");\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\t//\t************************ON Customer Input Function***************************************\r\n\t\t//\t*****************************************************************************************\r\n\r\n\t\tonCustInput: function(oEvent) {\r\n\t\t\tvar that = this;\r\n\t\t\tvar customer = oEvent.getSource().getValue();\r\n\t\t\tvar compcode = this.getView().byId(\"InpCompNam\").getValue();\r\n\t\t\tvar sls_org_cust = this.getView().byId(\"Inpslsorg\").getValue();\r\n\t\t\tvar dist_chan_cust = this.getView().byId(\"Combdistr\").getSelectedKey();\r\n\t\t\tvar div_cust = this.getView().byId(\"Combdiv\").getSelectedKey();\r\n\t\t\tif (customer === \"\") {\r\n\t\t\t\tthis.getView().byId(\"Inpcust\").focus();\r\n\t\t\t\tvar _errMsg = \"Enter Customer\";\r\n\t\t\t\tsap.m.MessageBox.show(_errMsg, sap.m.MessageBox.Icon.ERROR, \"Error\");\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tvar odataModel = this.getView().getModel();\r\n\t\t\tvar url = \"/CustCheckSet(CompanyCode='\" + compcode + \"',Customer='\" + customer + \"',Vkorg='\" + sls_org_cust + \"',Vtweg='\" +\r\n\t\t\t\tdist_chan_cust + \"',Spart='\" + div_cust + \"')\";\r\n\t\t\t//\tvar url = \"/CustCheckSet(CompanyCode='\" + compcode + \"',Customer='\" + customer + \"')\";\r\n\t\t\t//\tvar customerName = this.getView().byId(\"Inpcustname\").getValue();\r\n\t\t\t// /sap/opu/odata/sap/ZDLT_SALES_INVOICE_SRV/CustCheckSet(Customer='12354NA' ,CompanyCode='5000')\r\n\r\n\t\t\t// this.showBusyIndicator();\r\n\t\t\t//\turl=\"/MatGetSet(Matnr='103584',Vkorg='5001',Vtweg='11',Spart='11',Werks='1006',Customer='11358')\";\r\n\t\t\todataModel.read(url, {\r\n\t\t\t\tsuccess: function(odata, oResponse) {\r\n\t\t\t\t\tif (oResponse.statusCode == 200 && odata.MsgType == \"E\") {\r\n\t\t\t\t\t\tthat.getView().byId(\"Inpcustname\").setValue(\"\");\r\n\t\t\t\t\t\tvar _errMsg = odata.Msg;\r\n\t\t\t\t\t\tsap.m.MessageBox.show(_errMsg, sap.m.MessageBox.Icon.ERROR, \"Error\");\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\t\t\t\t\t// that.hideBusyIndicator();\r\n\t\t\t\t\tthat.getView().byId(\"Inpcustname\").setValue(odata.CustName);\r\n\r\n\t\t\t\t},\r\n\t\t\t\terror: function(oError) {\r\n\t\t\t\t\tthat.getView().byId(\"Inpcustname\").setValue(\"\");\r\n\t\t\t\t\tvar _errMsg = oError.message;\r\n\t\t\t\t\t_errMsg = \"Invalid Customer\";\r\n\t\t\t\t\tsap.m.MessageBox.show(_errMsg, sap.m.MessageBox.Icon.ERROR, \"Error\");\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t});\r\n\t\t},\r\n\r\n\t\t//\t************************ON TP Permit Validation Function***************************************\r\n\t\t//\t*****************************************************************************************\r\n\r\n\t\tonEnterTPPermit: function(oEvent) {\r\n\t\t\tvar that = this;\r\n\t\t\tvar tPPermit = this.getView().byId(\"Inptpnum\").getValue();\r\n\r\n\t\t\tif (tPPermit === \"\") {\r\n\r\n\t\t\t\tthis.getView().byId(\"Inptpnum\").focus();\r\n\t\t\t\tvar _errMsg = \"Enter TP Permit Number\";\r\n\t\t\t\tsap.m.MessageBox.show(_errMsg, sap.m.MessageBox.Icon.ERROR, \"Error\");\r\n\t\t\t}\r\n\r\n\t\t},\r\n\r\n\t\t//\t************************ON TP Permit Date Validation Function***************************************\r\n\t\t//\t*****************************************************************************************\r\n\r\n\t\tonEnterTPPermitDate: function(oEvent) {\r\n\t\t\tvar that = this;\r\n\t\t\tvar tPPermit = this.getView().byId(\"Inptpdat\").getValue();\r\n\r\n\t\t\tif (tPPermit === \"\") {\r\n\r\n\t\t\t\tthis.getView().byId(\"Inptpdat\").focus();\r\n\t\t\t\tvar _errMsg = \"Enter TP Permit Date\";\r\n\t\t\t\tsap.m.MessageBox.show(_errMsg, sap.m.MessageBox.Icon.ERROR, \"Error\");\r\n\t\t\t}\r\n\r\n\t\t},\r\n\r\n\t\t//\t************************ON Expiry Date Input Function***************************************\r\n\t\t//\t*****************************************************************************************\r\n\r\n\t\tonEnterExpdate: function(oEvent) {\r\n\t\t\tvar that = this;\r\n\t\t\tvar tPExpdate = this.getView().byId(\"Inpexdat\").getValue();\r\n\t\t\tvar tPPermitdate = this.getView().byId(\"Inptpdat\").getValue();\r\n\t\t\tvar invdate = this.getView().byId(\"Inpinvdate\").getValue();\r\n\r\n\t\t\tif (tPExpdate >= tPPermitdate && tPExpdate >= invdate) {\r\n\t\t\t\t//Nothing to write here\r\n\t\t\t} else {\r\n\t\t\t\tthis.getView().byId(\"Inpexdat\").focus();\r\n\t\t\t\tvar _errMsg = \"TP Expiry date should always greater than equal to TP permit date and invoice date\";\r\n\t\t\t\tsap.m.MessageBox.show(_errMsg, sap.m.MessageBox.Icon.ERROR, \"Error\");\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t},\r\n\t\t//\t************************ON Transporter Input Function***************************************\r\n\t\t//----------------------ON Open Document--------------------------------------//\r\n\t\tonOpend: function(oEvent) {\r\n\t\t\tthat = this;\r\n\t\t\tvar view = this.getView().sId + \"--\";\r\n\t\t\tvar setkey = view + \"__filter4\";\r\n\r\n\t\t\tvar oIconTabBar0 = that.getView().byId(\"__bar0\");\r\n\t\t\toIconTabBar0.fireSelect({\r\n\t\t\t\tkey: setkey,\r\n\t\t\t\titem: oIconTabBar0.getItems()[0]\r\n\t\t\t});\r\n\t\t\t//oIconTabBar.setSelectedKey(setkey);\r\n\r\n\t\t\tvar sDoc = that.getView().byId(\"InpSaleOrder\").getValue();\r\n\t\t\tvar iDoc = that.getView().byId(\"InpInvNo\").getValue();\r\n\t\t\tvar docketn = that.getView().byId(\"Inpdckt\").getValue();\r\n\t\t\tiDoc = '';\r\n\t\t\tdocketn = '';\r\n\t\t\t//If Sales Order is empty\r\n\t\t\tif (sDoc == \"undefined\") {\r\n\t\t\t\tvar _errMsg = \"Sale Order number is blank, So action cannot be processed.\";\r\n\t\t\t\tsap.m.MessageBox.show(_errMsg, sap.m.MessageBox.Icon.ERROR, \"Error\");\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\t//var val = oView.byId(\"LblSaleOrder\").getValue();\r\n\t\t\tvar vServiceUrl = \"/sap/opu/odata/sap/ZDLT_SALES_INVOICE_SRV\";\r\n\t\t\tvar oModel = new sap.ui.model.odata.v2.ODataModel(vServiceUrl, {\r\n\t\t\t\tdefaultBindingMode: sap.ui.model.BindingMode.TwoWay\r\n\t\t\t});\r\n\t\t\t//this.getView().setModel(oModel);\t\r\n\t\t\t//var url = \"/InvCancelSet(SoDocno='\" + sDoc + \"',InvDocno='\" + iDoc + \"',DocketNum='\" + docketn + \"')\";\r\n\r\n\t\t\toModel.read(\"/InvCancelSet\", {\r\n\t\t\t\tfilters: [\r\n\t\t\t\t\tnew sap.ui.model.Filter(\"SoDocno\", sap.ui.model.FilterOperator.EQ, sDoc),\r\n\t\t\t\t\tnew sap.ui.model.Filter(\"InvDocno\", sap.ui.model.FilterOperator.EQ, iDoc),\r\n\t\t\t\t\tnew sap.ui.model.Filter(\"DocketNum\", sap.ui.model.FilterOperator.EQ, docketn)\r\n\r\n\t\t\t\t],\r\n\t\t\t\tsuccess: function(odata, oResponse) {\r\n\t\t\t\t\t//\tif (oResponse.statusCode == 200 && odata.MsgType == \"E\") {\r\n\t\t\t\t\tif (oResponse.statusCode == 200) {\r\n\t\t\t\t\t\t//var _errMsg = odata.Msg; && odata.results[0].MsgType == \"E\"\r\n\t\t\t\t\t\tvar _errMsg = odata.results[0].Msg;\r\n\t\t\t\t\t\tsap.m.MessageBox.show(_errMsg, sap.m.MessageBox.Icon.INFORMATION, \"Information\");\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t},\r\n\t\t\t\terror: function(oError) {\r\n\t\t\t\t\tvar _errMsg = oError.message;\r\n\t\t\t\t\tsap.m.MessageBox.show(_errMsg, sap.m.MessageBox.Icon.ERROR, \"Error\");\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t});\r\n\r\n\t\t},\r\n\r\n\t\t//---------------------End Open DOcument-------------------------------------//\r\n\r\n\t\t//---------------------Re-Process Document-------------------------------------//\r\n\t\tonRpdocket: function(oEvent) {\r\n\t\t\tthat = this;\r\n\t\t\tdebugger;\r\n\t\t\tvar view = this.getView().sId + \"--\";\r\n\t\t\tvar setkey = view + \"__filter4\";\r\n\t\t\tvar vData = that.getView().byId(\"table1\").getModel().getProperty(\"/data\");\r\n\t\t\t//var docIdVal = vData[iIndex].DocketNum;\r\n\t\t\tvar oIconTabBar0 = that.getView().byId(\"__bar0\");\r\n\t\t\toIconTabBar0.fireSelect({\r\n\t\t\t\tkey: setkey,\r\n\t\t\t\titem: oIconTabBar0.getItems()[0]\r\n\t\t\t});\r\n\t\t\t//oIconTabBar.setSelectedKey(setkey);\r\n\r\n\t\t\t/*\tvar sDoc = that.getView().byId(\"InpSaleOrder\").getValue();\r\n\t\t\t\tvar iDoc = that.getView().byId(\"InpInvNo\").getValue();*/\r\n\t\t\tvar sDoc = '';\r\n\t\t\tvar iDoc = '';\r\n\t\t\t//var docketn = that.getView().byId(\"Inpdckt\").getValue();\r\n\t\t\tv_docketnum = that.getView().byId(\"Inpdckt\").getValue();\r\n\t\t\t//docketn = '2222';\r\n\t\t\t//v_docketnum = '1006J';\r\n\t\t\t//\tsDoc = '';\r\n\t\t\t//this.getView().setModel(oModel);\t\r\n\t\t\t//\tvar url = \"/InvCancelSet(SoDocno='\" + sDoc + \"',InvDocno='\" + iDoc + \"',DocketNum='\" + v_docketnum + \"')\";\r\n\t\t\t//\tvar url = \"/InvCancelSet(InvDocno='\" + iDoc + \"',SoDocno='\" + sDoc + \"',DocketNum='\" + docketn + \"')\";\r\n\t\t\t//var url1 = \"/InvCancelSet(InvDocno='\" + iDoc + \"',SoDocno='\"+ sDoc + \"',DocketNum='\"+ v_docketnum + \"')\";\r\n\r\n\t\t\tvar vServiceUrl = \"/sap/opu/odata/sap/ZDLT_SALES_INVOICE_SRV\";\r\n\t\t\tvar oModel2 = new sap.ui.model.odata.v2.ODataModel(vServiceUrl, {\r\n\t\t\t\tdefaultBindingMode: sap.ui.model.BindingMode.TwoWay\r\n\t\t\t});\r\n\r\n\t\t\t//\toModel2.read(url1, {\r\n\t\t\toModel2.read(\"/InvCancelSet\", {\r\n\t\t\t\tfilters: [\r\n\t\t\t\t\tnew sap.ui.model.Filter(\"SoDocno\", sap.ui.model.FilterOperator.EQ, sDoc),\r\n\t\t\t\t\tnew sap.ui.model.Filter(\"InvDocno\", sap.ui.model.FilterOperator.EQ, iDoc),\r\n\t\t\t\t\tnew sap.ui.model.Filter(\"DocketNum\", sap.ui.model.FilterOperator.EQ, v_docketnum)\r\n\r\n\t\t\t\t],\r\n\t\t\t\tsuccess: function(odata, oResponse) {\r\n\t\t\t\t\t//\tif (oResponse.statusCode == 200 && odata.MsgType == \"E\") {\r\n\t\t\t\t\tif (oResponse.statusCode == 200) {\r\n\t\t\t\t\t\t//var _errMsg = odata.Msg; && odata.results[0].MsgType == \"E\"\r\n\t\t\t\t\t\tvar _errMsg = odata.results[0].Msg;\r\n\t\t\t\t\t\tsap.m.MessageBox.show(_errMsg, sap.m.MessageBox.Icon.INFORMATION, \"Information\");\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t},\r\n\t\t\t\terror: function(oError) {\r\n\t\t\t\t\tvar _errMsg = oError.message;\r\n\t\t\t\t\tsap.m.MessageBox.show(_errMsg, sap.m.MessageBox.Icon.ERROR, \"Error\");\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t});\r\n\r\n\t\t},\r\n\r\n\t\t//---------------------End of Re-Process Document-------------------------------------//\r\n\r\n\t\t//------------------------Cancel Invoice-----------------------------------------//\r\n\t\tonCancelinv: function(oEvent) {\r\n\t\t\tthat = this;\r\n\t\t\tdebugger;\r\n\t\t\tvar view = this.getView().sId + \"--\";\r\n\t\t\tvar setkey = view + \"__filter4\";\r\n\r\n\t\t\tvar oIconTabBar0 = that.getView().byId(\"__bar0\");\r\n\t\t\toIconTabBar0.fireSelect({\r\n\t\t\t\tkey: setkey,\r\n\t\t\t\titem: oIconTabBar0.getItems()[0]\r\n\t\t\t});\r\n\r\n\t\t\tvar sDoc = that.getView().byId(\"InpSaleOrder\").getValue();\r\n\t\t\tvar iDoc = that.getView().byId(\"InpInvNo\").getValue();\r\n\t\t\tvar docketn = that.getView().byId(\"Inpdckt\").getValue();\r\n\t\t\tvar sNum = that.getView().byId(\"InpShipment\").getValue();\r\n\t\t\tsDoc = '';\r\n\t\t\tdocketn = '';\r\n\t\t\t//If Empty Invoice number\r\n\t\t\tif (iDoc == '') {\r\n\t\t\t\tvar _errMsg = \"Invoice number is blank, So action cannot be processed.\";\r\n\t\t\t\tsap.m.MessageBox.show(_errMsg, sap.m.MessageBox.Icon.ERROR, \"Error\");\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tvar vServiceUrl = \"/sap/opu/odata/sap/ZDLT_SALES_INVOICE_SRV\";\r\n\t\t\tvar oModel1 = new sap.ui.model.odata.v2.ODataModel(vServiceUrl, {\r\n\t\t\t\tdefaultBindingMode: sap.ui.model.BindingMode.TwoWay\r\n\t\t\t});\r\n\t\t\t//\tvar url = \"/InvCancelSet(SoDocno='\" + sDoc + \"',InvDocno='\" + iDoc + \"',DocketNum='\" + docketn + \"')\";\r\n\t\t\toModel1.read(\"/InvCancelSet\", {\r\n\t\t\t\tfilters: [\r\n\t\t\t\t\tnew sap.ui.model.Filter(\"SoDocno\", sap.ui.model.FilterOperator.EQ, sDoc),\r\n\t\t\t\t\tnew sap.ui.model.Filter(\"InvDocno\", sap.ui.model.FilterOperator.EQ, iDoc),\r\n\t\t\t\t\tnew sap.ui.model.Filter(\"DocketNum\", sap.ui.model.FilterOperator.EQ, docketn)\r\n\r\n\t\t\t\t],\r\n\t\t\t\tsuccess: function(odata, oResponse) {\r\n\t\t\t\t\t//\tif (oResponse.statusCode == 200 && odata.MsgType == \"E\") {\r\n\t\t\t\t\tif (oResponse.statusCode == 200) {\r\n\t\t\t\t\t\t//var _errMsg = odata.Msg; && odata.results[0].MsgType == \"E\"\r\n\t\t\t\t\t\tvar _errMsg = odata.results[0].Msg;\r\n\t\t\t\t\t\tsap.m.MessageBox.show(_errMsg, sap.m.MessageBox.Icon.INFORMATION, \"Information\");\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t},\r\n\t\t\t\terror: function(oError) {\r\n\t\t\t\t\tvar _errMsg = oError.message;\r\n\t\t\t\t\tsap.m.MessageBox.show(_errMsg, sap.m.MessageBox.Icon.ERROR, \"Error\");\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t});\r\n\r\n\t\t},\r\n\r\n\t\t//-----------------------End of Cancel Invoice----------------------------------//\r\n\r\n\t\t//\t*****************************************************************************************\r\n\r\n\t\tonTransporterInput: function(oEvent) {\r\n\t\t\tvar that = this;\r\n\t\t\tvar transporter = this.getView().byId(\"Inptrpter\").getValue();\r\n\t\t\tvar compcode = this.getView().byId(\"InpCompNam\").getValue();\r\n\r\n\t\t\tvar odataModel = this.getView().getModel();\r\n\t\t\tvar url = \"/ValidateTransporterSet(CompanyCode='\" + compcode + \"',Transporter='\" + transporter + \"')\";\r\n\t\t\t// /sap/opu/odata/sap/ZDLT_SALES_INVOICE_SRV/ValidateTransporterSet(CompanyCode='5000' ,Transporter='238777')\r\n\t\t\tif (transporter == \"\") {\r\n\t\t\t\tthat.getView().byId(\"Inptrpternam\").setValue(\"\");\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\todataModel.read(url, {\r\n\t\t\t\tsuccess: function(odata, oResponse) {\r\n\t\t\t\t\t// that.hideBusyIndicator();\r\n\t\t\t\t\tif (oResponse.statusCode == 200 && odata.MsgType == \"E\") {\r\n\t\t\t\t\t\tthat.getView().byId(\"Inptrpternam\").setValue(\"\");\r\n\t\t\t\t\t\tvar _errMsg = odata.Msg;\r\n\t\t\t\t\t\tsap.m.MessageBox.show(_errMsg, sap.m.MessageBox.Icon.ERROR, \"Error\");\r\n\t\t\t\t\t\treturn;\r\n\r\n\t\t\t\t\t} //end of If\r\n\t\t\t\t\tthat.getView().byId(\"Inptrpternam\").setValue(odata.TransporterName);\r\n\r\n\t\t\t\t},\r\n\t\t\t\terror: function(oError) {\r\n\t\t\t\t\tthat.getView().byId(\"Inptrpternam\").setValue(\"\");\r\n\t\t\t\t\tvar _errMsg = oError.message;\r\n\t\t\t\t\t_errMsg = \"Invalid Transporter\";\r\n\t\t\t\t\tsap.m.MessageBox.show(_errMsg, sap.m.MessageBox.Icon.ERROR, \"Error\");\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t});\r\n\t\t},\r\n\r\n\t\t//\t************************ON Cash Discount Validation Function***************************************\r\n\t\t//\t*****************************************************************************************\r\n\r\n\t\tonEnterCash: function(oEvent) {\r\n\t\t\tvar that = this;\r\n\t\t\tvar cashDiscount = this.getView().byId(\"Inpcashdcnt\").getValue();\r\n\t\t\tvar cashDiscount = this.getView().byId(\"Inpcashdcnt\").getValue();\r\n\t\t\tif (isNaN(cashDiscount)) {\r\n\t\t\t\tvar _errMsg = \"Input Cash Discount not valid\";\r\n\t\t\t\tsap.m.MessageBox.show(_errMsg, sap.m.MessageBox.Icon.ERROR, \"Error\");\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tif (cashDiscount > 5) {\r\n\r\n\t\t\t\tthis.getView().byId(\"Inpcashdcnt\").focus();\r\n\t\t\t\tvar _errMsg = \"Cash Discount should be less than or equal To 5%\";\r\n\t\t\t\tsap.m.MessageBox.show(_errMsg, sap.m.MessageBox.Icon.ERROR, \"Error\");\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t},\r\n\t\t//\t************************ON TruckNumber Validation Function***************************************\r\n\t\t//\t*****************************************************************************************\r\n\r\n\t\tonTruckNumber: function(oEvent) {\r\n\r\n\t\t\tvar TruckNumber = this.getView().byId(\"Inptrcknum\").getValue();\r\n\t\t\tvar iChars = \"!@#$%^&*()+=-[]\\\\\\';,./{}|\\\":<>?\";\r\n\r\n\t\t\tfor (var i = 0; i < TruckNumber.length; i++) {\r\n\t\t\t\tif (iChars.indexOf(TruckNumber.charAt(i)) != -1) {\r\n\t\t\t\t\tthis.getView().byId(\"Inptrcknum\").focus();\r\n\t\t\t\t\t// alert (\"Your username has special characters. \\nThese are not allowed.\\n Please remove them and try again.\");\r\n\t\t\t\t\tvar _errMsg = \"Truck Number-Enter Only Alpha Numeric Input\";\r\n\t\t\t\t\tsap.m.MessageBox.show(_errMsg, sap.m.MessageBox.Icon.ERROR, \"Error\");\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tthis.getView().byId(\"Inptrcknum\").setValue(TruckNumber.toUpperCase());\r\n\t\t},\r\n\t\t//\t************************ON LRNumber Validation Function***************************************\r\n\t\t//\t*****************************************************************************************\r\n\r\n\t\tonLRNumber: function(oEvent) {\r\n\r\n\t\t\tvar lrNumber = this.getView().byId(\"Inplrnum\").getValue();\r\n\t\t\tif (isNaN(lrNumber)) {\r\n\t\t\t\tthis.getView().byId(\"Inplrnum\").focus();\r\n\t\t\t\tvar _errMsg = \"LR Num-Enter Only Numeric Input\";\r\n\t\t\t\tsap.m.MessageBox.show(_errMsg, sap.m.MessageBox.Icon.ERROR, \"Error\");\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t},\r\n\t\t//\t************************ON select Change Function***************************************\r\n\t\t//\t*****************************************************************************************\r\n\r\n\t\tonSelectChanged: function(oEvent) {\r\n\t\t\tvar that = this;\r\n\t\t\tvar keys = oEvent.getParameters().key.split(\"-\")[2];\r\n\t\t\t// On first tabstrip Invoice\r\n\t\t\tif (keys === \"__filter0\") {\r\n\t\t\t\t//Plant Validation\r\n\t\t\t\t/*\tvar plant1 = this.getView().byId(\"Combplant\").getSelectedKey();\r\n\t\t\t\t\tif (plant1 === \"\") {\r\n\t\t\t\t\t\t//\tthis.getView().byId(\"Combplant\").focus();\r\n\r\n\t\t\t\t\t\tvar _errMsg = \"Plant can not be blank\";\r\n\t\t\t\t\t\tsap.m.MessageBox.show(_errMsg, sap.m.MessageBox.Icon.ERROR, \"Error\");\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}*/\r\n\t\t\t\tvar lrnum = that.getView().byId(\"Inplrnum\").getValue();\r\n\t\t\t\tif (lrnum !== \"\") {\r\n\t\t\t\t\tvar setkey0 = view + \"__filter1\";\r\n\t\t\t\t\tvar oIconTabBar0 = that.getView().byId(\"__bar0\");\r\n\t\t\t\t\tif (isNaN(lrnum)) {\r\n\t\t\t\t\t\toIconTabBar0.fireSelect({\r\n\t\t\t\t\t\t\tkey: setkey0,\r\n\t\t\t\t\t\t\titem: oIconTabBar0.getItems()[0]\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\toIconTabBar0.setSelectedKey(setkey0);\r\n\t\t\t\t\t\tvar _errMsg = \"LR Num-Enter Only Numeric Input\";\r\n\t\t\t\t\t\tsap.m.MessageBox.show(_errMsg, sap.m.MessageBox.Icon.ERROR, \"Error\");\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\t\t\t\t} //end of lrnum validation\r\n\t\t\t} // end of filter0\r\n\t\t\t//On 2nd Tabstrip Transport\r\n\t\t\tif (keys === \"__filter1\") {\r\n\t\t\t\tsetkey = view + \"__filter0\";\r\n\t\t\t\tvar oIconTabBar = that.getView().byId(\"__bar0\");\r\n\t\t\t\t//Plant Validation\r\n\t\t\t\t//var plant1 = this.getView().byId(\"Combplant\").getSelectedKey();\r\n\t\t\t\tvar plant1 = this.getView().byId(\"Combplant\").getValue();\r\n\t\t\t\tif (plant1 === \"\") {\r\n\t\t\t\t\t//\tthis.getView().byId(\"Combplant\").focus();\r\n\t\t\t\t\toIconTabBar.fireSelect({\r\n\t\t\t\t\t\tkey: setkey,\r\n\t\t\t\t\t\titem: oIconTabBar.getItems()[0]\r\n\t\t\t\t\t});\r\n\t\t\t\t\toIconTabBar.setSelectedKey(setkey);\r\n\t\t\t\t\tvar _errMsg = \"Plant can not be blank\";\r\n\t\t\t\t\tsap.m.MessageBox.show(_errMsg, sap.m.MessageBox.Icon.ERROR, \"Error\");\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t//company code validation\r\n\t\t\t\tvar compcode = this.getView().byId(\"InpCompNam\").getValue();\r\n\t\t\t\tif (compcode === \"\") {\r\n\t\t\t\t\tthis.getView().byId(\"InpCompNam\").focus();\r\n\t\t\t\t\tvar _errMsg = \"Company Code can not be blank\";\r\n\t\t\t\t\tsap.m.MessageBox.show(_errMsg, sap.m.MessageBox.Icon.ERROR, \"Error\");\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\t//Plant name validation\r\n\t\t\t\tvar plantname = this.getView().byId(\"Inpplntnam\").getValue();\r\n\t\t\t\tif (plantname === \"\") {\r\n\t\t\t\t\tthis.getView().byId(\"Inpplntnam\").focus();\r\n\t\t\t\t\tvar _errMsg = \"Plant name can not be blank\";\r\n\t\t\t\t\tsap.m.MessageBox.show(_errMsg, sap.m.MessageBox.Icon.ERROR, \"Error\");\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t//invoice date validation\r\n\t\t\t\tvar invdate = this.getView().byId(\"Inpinvdate\").getValue();\r\n\t\t\t\tif (invdate === \"\") {\r\n\r\n\t\t\t\t\tthis.getView().byId(\"Inpinvdate\").focus();\r\n\t\t\t\t\toIconTabBar.fireSelect({\r\n\t\t\t\t\t\tkey: setkey,\r\n\t\t\t\t\t\titem: oIconTabBar.getItems()[0]\r\n\t\t\t\t\t});\r\n\t\t\t\t\toIconTabBar.setSelectedKey(setkey);\r\n\t\t\t\t\tvar _errMsg = \"invoice date can not be blank\";\r\n\t\t\t\t\tsap.m.MessageBox.show(_errMsg, sap.m.MessageBox.Icon.ERROR, \"Error\");\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t//Customer validation\r\n\r\n\t\t\t\tvar customer = this.getView().byId(\"Inpcust\").getValue();\r\n\t\t\t\tif (customer === \"\") {\r\n\t\t\t\t\tthis.getView().byId(\"Inpcust\").focus();\r\n\t\t\t\t\toIconTabBar.fireSelect({\r\n\t\t\t\t\t\tkey: setkey,\r\n\t\t\t\t\t\titem: oIconTabBar.getItems()[0]\r\n\t\t\t\t\t});\r\n\t\t\t\t\toIconTabBar.setSelectedKey(setkey);\r\n\t\t\t\t\tvar _errMsg = \"Customer can not be blank\";\r\n\t\t\t\t\tsap.m.MessageBox.show(_errMsg, sap.m.MessageBox.Icon.ERROR, \"Error\");\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\t//TP/permit Number validation\r\n\t\t\t\tvar tPPermitNum = this.getView().byId(\"Inptpnum\").getValue();\r\n\t\t\t\tif (tPPermitNum === \"\") {\r\n\t\t\t\t\tthis.getView().byId(\"Inptpnum\").focus();\r\n\t\t\t\t\toIconTabBar.fireSelect({\r\n\t\t\t\t\t\tkey: setkey,\r\n\t\t\t\t\t\titem: oIconTabBar.getItems()[0]\r\n\t\t\t\t\t});\r\n\t\t\t\t\toIconTabBar.setSelectedKey(setkey);\r\n\t\t\t\t\tvar _errMsg = \"TP/Permit Number can not be blank\";\r\n\t\t\t\t\tsap.m.MessageBox.show(_errMsg, sap.m.MessageBox.Icon.ERROR, \"Error\");\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t//Sales org validation\r\n\r\n\t\t\t\tvar salesOrg = this.getView().byId(\"Inpslsorg\").getValue();\r\n\t\t\t\tif (salesOrg === \"\") {\r\n\t\t\t\t\tthis.getView().byId(\"Inpslsorg\").focus();\r\n\t\t\t\t\toIconTabBar.fireSelect({\r\n\t\t\t\t\t\tkey: setkey,\r\n\t\t\t\t\t\titem: oIconTabBar.getItems()[0]\r\n\t\t\t\t\t});\r\n\t\t\t\t\toIconTabBar.setSelectedKey(setkey);\r\n\t\t\t\t\tvar _errMsg = \"Sales Organization can not be blank\";\r\n\t\t\t\t\tsap.m.MessageBox.show(_errMsg, sap.m.MessageBox.Icon.ERROR, \"Error\");\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t//Distribution Channel validation\r\n\t\t\t\tvar distrchn = this.getView().byId(\"Combdistr\").getSelectedKey();\r\n\t\t\t\tif (distrchn === \"\") {\r\n\t\t\t\t\t//\tthis.getView().byId(\"Combdistr\").focus();\r\n\t\t\t\t\toIconTabBar.fireSelect({\r\n\t\t\t\t\t\tkey: setkey,\r\n\t\t\t\t\t\titem: oIconTabBar.getItems()[0]\r\n\t\t\t\t\t});\r\n\t\t\t\t\toIconTabBar.setSelectedKey(setkey);\r\n\t\t\t\t\tvar _errMsg = \"Distribution Channel can not be blank\";\r\n\t\t\t\t\tsap.m.MessageBox.show(_errMsg, sap.m.MessageBox.Icon.ERROR, \"Error\");\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t//Division validation\r\n\t\t\t\tvar division = this.getView().byId(\"Combdiv\").getSelectedKey();\r\n\t\t\t\tif (division === \"\") {\r\n\t\t\t\t\t//this.getView().byId(\"Combdiv\").focus();\r\n\t\t\t\t\toIconTabBar.fireSelect({\r\n\t\t\t\t\t\tkey: setkey,\r\n\t\t\t\t\t\titem: oIconTabBar.getItems()[0]\r\n\t\t\t\t\t});\r\n\t\t\t\t\toIconTabBar.setSelectedKey(setkey);\r\n\t\t\t\t\tvar _errMsg = \"Division can not be blank\";\r\n\t\t\t\t\tsap.m.MessageBox.show(_errMsg, sap.m.MessageBox.Icon.ERROR, \"Error\");\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t//TP Permit Date validation\r\n\t\t\t\tvar tPPermitDate = this.getView().byId(\"Inptpdat\").getValue();\r\n\t\t\t\tif (tPPermitDate === \"\") {\r\n\t\t\t\t\tthis.getView().byId(\"Inptpdat\").focus();\r\n\t\t\t\t\toIconTabBar.fireSelect({\r\n\t\t\t\t\t\tkey: setkey,\r\n\t\t\t\t\t\titem: oIconTabBar.getItems()[0]\r\n\t\t\t\t\t});\r\n\t\t\t\t\toIconTabBar.setSelectedKey(setkey);\r\n\t\t\t\t\tvar _errMsg = \"TP/Permit Date can not be blank\";\r\n\t\t\t\t\tsap.m.MessageBox.show(_errMsg, sap.m.MessageBox.Icon.ERROR, \"Error\");\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t//TP Expiry Date validation\r\n\t\t\t\tvar tPExpDate = this.getView().byId(\"Inpexdat\").getValue();\r\n\t\t\t\tif (tPExpDate === \"\") {\r\n\t\t\t\t\tthis.getView().byId(\"Inpexdat\").focus();\r\n\t\t\t\t\toIconTabBar.fireSelect({\r\n\t\t\t\t\t\tkey: setkey,\r\n\t\t\t\t\t\titem: oIconTabBar.getItems()[0]\r\n\t\t\t\t\t});\r\n\t\t\t\t\toIconTabBar.setSelectedKey(setkey);\r\n\t\t\t\t\tvar _errMsg = \"TP/Expiry Date can not be blank\";\r\n\t\t\t\t\tsap.m.MessageBox.show(_errMsg, sap.m.MessageBox.Icon.ERROR, \"Error\");\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tvar cashDiscount = this.getView().byId(\"Inpcashdcnt\").getValue();\r\n\t\t\t\tif (cashDiscount !== \"\") {\r\n\t\t\t\t\tif (isNaN(cashDiscount)) {\r\n\t\t\t\t\t\toIconTabBar.fireSelect({\r\n\t\t\t\t\t\t\tkey: setkey,\r\n\t\t\t\t\t\t\titem: oIconTabBar.getItems()[0]\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\toIconTabBar.setSelectedKey(setkey);\r\n\t\t\t\t\t\tvar _errMsg = \"Input Cash Discount not valid\";\r\n\t\t\t\t\t\tsap.m.MessageBox.show(_errMsg, sap.m.MessageBox.Icon.ERROR, \"Error\");\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t//Start of Code for Truck type dropdown\r\n\t\t\t\tvar odataModeltr = this.getView().getModel();\r\n\t\t\t\t//Setting trucktype values based on Plant value\r\n\t\t\t\tvar filtervalue = v_Plant;\r\n\t\t\t\todataModeltr.read(\"/TruckTypeSet\", {\r\n\t\t\t\t\tfilters: [\r\n\t\t\t\t\t\tnew sap.ui.model.Filter(\"Plant\", sap.ui.model.FilterOperator.EQ, filtervalue)\r\n\t\t\t\t\t],\r\n\t\t\t\t\tsuccess: function(oData, oResponse) {\r\n\t\t\t\t\t\tvar aFiltersComboBoxData = oResponse.data.results;\r\n\t\t\t\t\t\tvar oJModeltr3 = new sap.ui.model.json.JSONModel();\r\n\t\t\t\t\t\toJModeltr3.setData(aFiltersComboBoxData);\r\n\t\t\t\t\t\tthat.getView().byId(\"Combtrcktyp\").setModel(oJModeltr3, \"namedmodel\");\r\n\t\t\t\t\t\tif (!that.getView().byId(\"Combtrcktyp\").getSelectedKey()) {\r\n\t\t\t\t\t\t\tthat.getView().byId(\"Combtrcktyp\").setSelectedKey(v_TruckType);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t},\r\n\t\t\t\t\terror: function(oError) {} //end of error\r\n\t\t\t\t});\r\n\t\t\t\tif (!that.getView().byId(\"Combtrcktyp\").getSelectedKey()) {\r\n\t\t\t\t\tthat.getView().byId(\"Combtrcktyp\").setSelectedKey(v_TruckType);\r\n\t\t\t\t}\r\n\t\t\t\tv_TruckType = that.getView().byId(\"Combtrcktyp\").getSelectedKey();\r\n\t\t\t\t//end of code\r\n\t\t\t\t//that.getView().byId(\"__filter1\").setEnabled(true);\r\n\t\t\t} //endif __filter1\r\n\t\t\t/* {\r\n\t\t\t\tthis.getView().byId(\"Inpexdat\").focus();\r\n\t\t\t\tvar _errMsg = \"TP Expiry date should always greater than equal to TP permit date and invoice date\";\r\n\t\t\t\tsap.m.MessageBox.show(_errMsg, sap.m.MessageBox.Icon.ERROR, \"Error\");\r\n\t\t\t}*/\r\n\r\n\t\t},\r\n\r\n\t\t//\t************************On EnterInvoice tab Function**************************************\r\n\t\t//\t*************************************************************************************\r\n\t\tonEnterInvoice: function(oEvent) {\r\n\t\t\tvar that = this;\r\n\t\t\t//Plant Validation\r\n\t\t\t//\tvar plant1 = this.getView().byId(\"Combplant\").getSelectedKey();\r\n\t\t\tvar plant1 = this.getView().byId(\"Combplant\").getValue();\r\n\t\t\tif (plant1 === \"\") {\r\n\t\t\t\t//\tthis.getView().byId(\"Combplant\").focus();\r\n\t\t\t\tvar _errMsg = \"Plant can not be blank\";\r\n\t\t\t\tsap.m.MessageBox.show(_errMsg, sap.m.MessageBox.Icon.ERROR, \"Error\");\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\t//company code validation\r\n\t\t\tvar compcode = this.getView().byId(\"InpCompNam\").getValue();\r\n\t\t\tif (compcode === \"\") {\r\n\t\t\t\tthis.getView().byId(\"InpCompNam\").focus();\r\n\t\t\t\tvar _errMsg = \"Company Code can not be blank\";\r\n\t\t\t\tsap.m.MessageBox.show(_errMsg, sap.m.MessageBox.Icon.ERROR, \"Error\");\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\t//Plant name validation\r\n\t\t\tvar plantname = this.getView().byId(\"Inpplntnam\").getValue();\r\n\t\t\tif (plantname === \"\") {\r\n\t\t\t\tthis.getView().byId(\"Inpplntnam\").focus();\r\n\t\t\t\tvar _errMsg = \"Plant name can not be blank\";\r\n\t\t\t\tsap.m.MessageBox.show(_errMsg, sap.m.MessageBox.Icon.ERROR, \"Error\");\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\t//invoice date validation\r\n\t\t\tvar invdate = this.getView().byId(\"Inpinvdate\").getValue();\r\n\t\t\tif (invdate === \"\") {\r\n\t\t\t\tthis.getView().byId(\"Inpinvdate\").focus();\r\n\t\t\t\tvar _errMsg = \"invoice date can not be blank\";\r\n\t\t\t\tsap.m.MessageBox.show(_errMsg, sap.m.MessageBox.Icon.ERROR, \"Error\");\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\t//Customer validation\r\n\t\t\tvar customer = this.getView().byId(\"Inpcust\").getValue();\r\n\t\t\tif (customer === \"\") {\r\n\t\t\t\tthis.getView().byId(\"Inpcust\").focus();\r\n\t\t\t\tvar _errMsg = \"Customer can not be blank\";\r\n\t\t\t\tsap.m.MessageBox.show(_errMsg, sap.m.MessageBox.Icon.ERROR, \"Error\");\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\t//TP/permit Number validation\r\n\t\t\tvar tPPermitNum = this.getView().byId(\"Inptpnum\").getValue();\r\n\t\t\tif (tPPermitNum === \"\") {\r\n\t\t\t\tthis.getView().byId(\"Inptpnum\").focus();\r\n\t\t\t\tvar _errMsg = \"TP/Permit Number can not be blank\";\r\n\t\t\t\tsap.m.MessageBox.show(_errMsg, sap.m.MessageBox.Icon.ERROR, \"Error\");\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\t//Sales org validation\r\n\t\t\tvar salesOrg = this.getView().byId(\"Inpslsorg\").getValue();\r\n\t\t\tif (salesOrg === \"\") {\r\n\t\t\t\tthis.getView().byId(\"Inpslsorg\").focus();\r\n\t\t\t\tvar _errMsg = \"Sales Organization can not be blank\";\r\n\t\t\t\tsap.m.MessageBox.show(_errMsg, sap.m.MessageBox.Icon.ERROR, \"Error\");\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\t//Distribution Channel validation\r\n\t\t\tvar distrchn = this.getView().byId(\"Combdistr\").getSelectedKey();\r\n\t\t\tif (distrchn === \"\") {\r\n\t\t\t\t//\tthis.getView().byId(\"Combdistr\").focus();\r\n\t\t\t\tvar _errMsg = \"Distribution Channel can not be blank\";\r\n\t\t\t\tsap.m.MessageBox.show(_errMsg, sap.m.MessageBox.Icon.ERROR, \"Error\");\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\t//Division validation\r\n\t\t\tvar division = this.getView().byId(\"Combdiv\").getSelectedKey();\r\n\t\t\tif (division === \"\") {\r\n\t\t\t\t//this.getView().byId(\"Combdiv\").focus();\r\n\t\t\t\tvar _errMsg = \"Division can not be blank\";\r\n\t\t\t\tsap.m.MessageBox.show(_errMsg, sap.m.MessageBox.Icon.ERROR, \"Error\");\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\t//TP Permit Date validation\r\n\t\t\tvar tPPermitDate = this.getView().byId(\"Inptpdat\").getValue();\r\n\t\t\tif (tPPermitDate === \"\") {\r\n\t\t\t\tthis.getView().byId(\"Inptpdat\").focus();\r\n\t\t\t\tvar _errMsg = \"TP/Permit Date can not be blank\";\r\n\t\t\t\tsap.m.MessageBox.show(_errMsg, sap.m.MessageBox.Icon.ERROR, \"Error\");\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\t//TP Expiry Date validation\r\n\t\t\tvar tPExpDate = this.getView().byId(\"Inpexdat\").getValue();\r\n\t\t\tif (tPExpDate === \"\") {\r\n\t\t\t\tthis.getView().byId(\"Inpexdat\").focus();\r\n\t\t\t\tvar _errMsg = \"TP/Expiry Date can not be blank\";\r\n\t\t\t\tsap.m.MessageBox.show(_errMsg, sap.m.MessageBox.Icon.ERROR, \"Error\");\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tthat.getView().byId(\"__filter1\").setEnabled(true);\r\n\r\n\t\t},\r\n\r\n\t\t//\t************************Add Item Function***************************************\r\n\t\t//\t*****************************************************************************\r\n\t\tonItemAdd: function() {\r\n\t\t\tthat = this;\r\n\t\t\t//Header Data Validations\r\n\t\t\t//\tvar plant1 = this.getView().byId(\"Combplant\").getSelectedKey();\r\n\t\t\tvar plant1 = this.getView().byId(\"Combplant\").getValue();\r\n\t\t\tif (plant1 === \"\") {\r\n\t\t\t\t//\tthis.getView().byId(\"Combplant\").focus();\r\n\t\t\t\tvar _errMsg = \"Plant can not be blank\";\r\n\t\t\t\tsap.m.MessageBox.show(_errMsg, sap.m.MessageBox.Icon.ERROR, \"Error\");\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\t//company code validation\r\n\t\t\tvar compcode = this.getView().byId(\"InpCompNam\").getValue();\r\n\t\t\tif (compcode === \"\") {\r\n\t\t\t\tthis.getView().byId(\"InpCompNam\").focus();\r\n\t\t\t\tvar _errMsg = \"Company Code can not be blank\";\r\n\t\t\t\tsap.m.MessageBox.show(_errMsg, sap.m.MessageBox.Icon.ERROR, \"Error\");\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\t//Plant name validation\r\n\t\t\tvar plantname = this.getView().byId(\"Inpplntnam\").getValue();\r\n\t\t\tif (plantname === \"\") {\r\n\t\t\t\tthis.getView().byId(\"Inpplntnam\").focus();\r\n\t\t\t\tvar _errMsg = \"Plant name can not be blank\";\r\n\t\t\t\tsap.m.MessageBox.show(_errMsg, sap.m.MessageBox.Icon.ERROR, \"Error\");\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\t//invoice date validation\r\n\t\t\tvar invdate = this.getView().byId(\"Inpinvdate\").getValue();\r\n\t\t\tif (invdate === \"\") {\r\n\t\t\t\tthis.getView().byId(\"Inpinvdate\").focus();\r\n\t\t\t\tvar _errMsg = \"invoice date can not be blank\";\r\n\t\t\t\tsap.m.MessageBox.show(_errMsg, sap.m.MessageBox.Icon.ERROR, \"Error\");\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\t//Customer validation\r\n\r\n\t\t\tvar customer = this.getView().byId(\"Inpcust\").getValue();\r\n\t\t\tif (customer === \"\") {\r\n\t\t\t\tthis.getView().byId(\"Inpcust\").focus();\r\n\t\t\t\tvar _errMsg = \"Customer can not be blank\";\r\n\t\t\t\tsap.m.MessageBox.show(_errMsg, sap.m.MessageBox.Icon.ERROR, \"Error\");\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\t//TP/permit Number validation\r\n\t\t\tvar tPPermitNum = this.getView().byId(\"Inptpnum\").getValue();\r\n\t\t\tif (tPPermitNum === \"\") {\r\n\t\t\t\tthis.getView().byId(\"Inptpnum\").focus();\r\n\t\t\t\tvar _errMsg = \"TP/Permit Number can not be blank\";\r\n\t\t\t\tsap.m.MessageBox.show(_errMsg, sap.m.MessageBox.Icon.ERROR, \"Error\");\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\t//Sales org validation\r\n\r\n\t\t\tvar salesOrg = this.getView().byId(\"Inpslsorg\").getValue();\r\n\t\t\tif (salesOrg === \"\") {\r\n\t\t\t\tthis.getView().byId(\"Inpslsorg\").focus();\r\n\t\t\t\tvar _errMsg = \"Sales Organization can not be blank\";\r\n\t\t\t\tsap.m.MessageBox.show(_errMsg, sap.m.MessageBox.Icon.ERROR, \"Error\");\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\t//Distribution Channel validation\r\n\r\n\t\t\tvar distrchn = this.getView().byId(\"Combdistr\").getSelectedKey();\r\n\t\t\tif (distrchn === \"\") {\r\n\t\t\t\t//\tthis.getView().byId(\"Combdistr\").focus();\r\n\t\t\t\tvar _errMsg = \"Distribution Channel can not be blank\";\r\n\t\t\t\tsap.m.MessageBox.show(_errMsg, sap.m.MessageBox.Icon.ERROR, \"Error\");\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\t//Division validation\r\n\r\n\t\t\tvar division = this.getView().byId(\"Combdiv\").getSelectedKey();\r\n\t\t\tif (division === \"\") {\r\n\t\t\t\t//this.getView().byId(\"Combdiv\").focus();\r\n\t\t\t\tvar _errMsg = \"Division can not be blank\";\r\n\t\t\t\tsap.m.MessageBox.show(_errMsg, sap.m.MessageBox.Icon.ERROR, \"Error\");\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\t//TP Permit Date validation\r\n\r\n\t\t\tvar tPPermitDate = this.getView().byId(\"Inptpdat\").getValue();\r\n\t\t\tif (tPPermitDate === \"\") {\r\n\t\t\t\tthis.getView().byId(\"Inptpdat\").focus();\r\n\t\t\t\tvar _errMsg = \"TP/Permit Date can not be blank\";\r\n\t\t\t\tsap.m.MessageBox.show(_errMsg, sap.m.MessageBox.Icon.ERROR, \"Error\");\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\t//TP Expiry Date validation\r\n\r\n\t\t\tvar tPExpDate = this.getView().byId(\"Inpexdat\").getValue();\r\n\t\t\tif (tPExpDate === \"\") {\r\n\t\t\t\tthis.getView().byId(\"Inpexdat\").focus();\r\n\t\t\t\tvar _errMsg = \"TP/Expiry Date can not be blank\";\r\n\t\t\t\tsap.m.MessageBox.show(_errMsg, sap.m.MessageBox.Icon.ERROR, \"Error\");\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\t//TP Expiry Date against inv date and TP permit date\r\n\t\t\tvar tPExpdate = this.getView().byId(\"Inpexdat\").getValue();\r\n\t\t\tvar tPPermitdate = this.getView().byId(\"Inptpdat\").getValue();\r\n\t\t\tvar invdate = this.getView().byId(\"Inpinvdate\").getValue();\r\n\r\n\t\t\tif (tPExpdate >= tPPermitdate && tPExpdate >= invdate) {\r\n\r\n\t\t\t} else {\r\n\t\t\t\tthis.getView().byId(\"Inpexdat\").focus();\r\n\t\t\t\tvar _errMsg = \"TP Expiry date should always greater than equal to TP permit date and invoice date\";\r\n\t\t\t\tsap.m.MessageBox.show(_errMsg, sap.m.MessageBox.Icon.ERROR, \"Error\");\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tvar cashDiscount = this.getView().byId(\"Inpcashdcnt\").getValue();\r\n\t\t\tif (cashDiscount !== \"\") {\r\n\t\t\t\tif (isNaN(cashDiscount)) {\r\n\t\t\t\t\tvar _errMsg = \"Input Cash Discount not valid\";\r\n\t\t\t\t\tsap.m.MessageBox.show(_errMsg, sap.m.MessageBox.Icon.ERROR, \"Error\");\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tvar lrNumber = this.getView().byId(\"Inplrnum\").getValue();\r\n\t\t\tif (lrNumber !== \"\") {\r\n\t\t\t\tif (isNaN(lrNumber)) {\r\n\t\t\t\t\tvar _errMsg = \"LR Num-Enter Only Numeric Input\";\r\n\t\t\t\t\tsap.m.MessageBox.show(_errMsg, sap.m.MessageBox.Icon.ERROR, \"Error\");\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t// Transporter and Truck Number validation\r\n\t\t\tvar transporter = this.getView().byId(\"Inptrpter\").getValue();\r\n\t\t\tvar trucknumber = this.getView().byId(\"Inptrcknum\").getValue();\r\n\t\t\tif (transporter !== \"\" && trucknumber == \"\") {\r\n\t\t\t\tvar _errMsg = \"Enter Truck Number for the Transporter\";\r\n\t\t\t\tsap.m.MessageBox.show(_errMsg, sap.m.MessageBox.Icon.ERROR, \"Error\");\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tif (transporter == \"\" && trucknumber !== \"\") {\r\n\t\t\t\tvar _errMsg = \"Enter  Transporter for the Truck Number\";\r\n\t\t\t\tsap.m.MessageBox.show(_errMsg, sap.m.MessageBox.Icon.ERROR, \"Error\");\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\t// Get the values of the header input fields\r\n\t\t\t// Get the values of the input fields.\r\n\t\t\tvar mat = this.getView().byId(\"InpMatcode1\").getValue();\r\n\t\t\tvar matdesc = this.getView().byId(\"InpMatdesc1\").getValue();\r\n\t\t\tvar brand = this.getView().byId(\"InpBrand1\").getValue();\r\n\t\t\tvar pack = this.getView().byId(\"InpPack1\").getValue();\r\n\t\t\tvar umren = this.getView().byId(\"InpUmren\").getValue();\r\n\t\t\tvar qty = this.getView().byId(\"InpQty1\").getValue();\r\n\t\t\t/*\tif (qty !==0){\r\n\t\t\t\t\t\r\n\t\t\t\tqty = qty + \".000\"\t;\r\n\t\t\t\t} */\r\n\t\t\tvar uom = this.getView().byId(\"combuom1\").getValue();\r\n\t\t\tif (uom === \"Cases\") {\r\n\t\t\t\tuom = \"CS\";\r\n\t\t\t} else if (uom === \"Each\") {\r\n\t\t\t\tuom = \"EA\";\r\n\t\t\t}\r\n\t\t\tif (mat !== \"\" && qty !== \"\" && uom !== \"\") {\r\n\r\n\t\t\t\t// Push this entry into array and bind it to the table\r\n\t\t\t\tvar itemRow = {\r\n\t\t\t\t\tMaterialCode: mat,\r\n\t\t\t\t\tMaterialDesc: matdesc,\r\n\t\t\t\t\tBrand: brand,\r\n\t\t\t\t\tPack: pack,\r\n\t\t\t\t\tQuantity: qty,\r\n\t\t\t\t\tUom: uom,\r\n\t\t\t\t\tUmren: umren\r\n\t\t\t\t};\r\n\t\t\t\t//var oModel1 = this.getView().byId(\"table1\").getModel();\r\n\t\t\t\tvar oJModel = this.getView().byId(\"table1\").getModel();\r\n\t\t\t\tvar itemData = oJModel.getProperty(\"/data\");\r\n\r\n\t\t\t\tif (typeof itemData !== \"undefined\" && itemData !== null && itemData.length > 0) {\r\n\t\t\t\t\tvar oTablematval = this.getView().byId(\"table1\");\r\n\t\t\t\t\t//material validation for the table\r\n\t\t\t\t\tvar oModelmatval = oTablematval.getModel();\r\n\r\n\t\t\t\t\tvar aRowsmatval = oModelmatval.getData().data;\r\n\t\t\t\t\tfor (var imatval = 0; imatval < aRowsmatval.length; imatval++) {\r\n\t\t\t\t\t\tif (mat === aRowsmatval[imatval].MaterialCode) {\r\n\t\t\t\t\t\t\tvar _errMsg = \"Material already existed \" + mat;\r\n\t\t\t\t\t\t\tsap.m.MessageBox.show(_errMsg, sap.m.MessageBox.Icon.ERROR, \"Error\");\r\n\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\t// Append the data using .push\r\n\t\t\t\t\titemData.push(itemRow);\r\n\t\t\t\t} else {\r\n\t\t\t\t\titemData = [];\r\n\t\t\t\t\t//\tAppend empty row\r\n\t\t\t\t\titemData.push(itemRow);\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Set Model\r\n\t\t\t\t/*\r\n\t\t\t\toJModel.attachRequestCompleted(function() {\r\n\t\t\t\t   oJModel.setData(itemData, true);\r\n\t\t\t\t}); */\r\n\t\t\t\t//oJModel.refresh(true);\r\n\t\t\t\toJModel.setData({\r\n\t\t\t\t\tdata: itemData\r\n\t\t\t\t});\r\n\r\n\t\t\t\toJModel.refresh(true);\r\n\t\t\t\t// Clear the input fields.\r\n\t\t\t\tthis.getView().byId(\"InpMatcode1\").setValue(\"\");\r\n\t\t\t\tthis.getView().byId(\"InpMatdesc1\").setValue(\"\");\r\n\t\t\t\tthis.getView().byId(\"InpBrand1\").setValue(\"\");\r\n\t\t\t\tthis.getView().byId(\"InpPack1\").setValue(\"\");\r\n\r\n\t\t\t\tvar v_qty_add = Math.abs(this.getView().byId(\"InpQty1\").getValue());\r\n\t\t\t\tv_qty_add = Math.abs(v_qty_add);\r\n\t\t\t\tvar b_case = Math.abs(this.getView().byId(\"InpUmren\").getValue());\r\n\t\t\t\tb_case = Math.abs(b_case);\r\n\t\t\t\t//\tvar v_qty1 = Math.floor(this.getView().byId(\"Txt1\").getValue());\r\n\t\t\t\tif (uom == \"EA\") {\r\n\t\t\t\t\tif (b_case !== 0) {\r\n\t\t\t\t\t\tv_qty_add = (v_qty_add / b_case);\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t} //End of Each\r\n\t\t\t\t//\tv_qty_add = Math.abs(v_qty_add);\r\n\t\t\t\tv_total_qty = Math.abs(v_total_qty);\r\n\t\t\t\tv_total_qty = v_total_qty + v_qty_add;\r\n\t\t\t\t//\tv_total_qty = v_total_qty.toFixed(3);\r\n\t\t\t\t//\tcalling add qty function\r\n\t\t\t\tthat.onAddqty();\r\n\t\t\t\tthis.getView().byId(\"Txt1\").setValue(v_total_qty);\r\n\t\t\t\tthis.getView().byId(\"InpQty1\").setValue(\"\");\r\n\r\n\t\t\t} else {\r\n\t\t\t\t//\tMessageBox.show(\"Material/Quantity/UOM cannot be blank\");\r\n\t\t\t\tvar _errMsg = \"Material/Quantity/UOM cannot be blank\";\r\n\t\t\t\tsap.m.MessageBox.show(_errMsg, sap.m.MessageBox.Icon.ERROR, \"Error\");\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * Similar to onAfterRendering, but this hook is invoked before the controller's View is re-rendered\r\n\t\t * (NOT before the first rendering! onInit() is used for that one!).\r\n\t\t * @memberOf ZDLT_UI5_DIS_INV_REQ.view.Edit_view\r\n\t\t */\r\n\t\t//\tonBeforeRendering: function() {\r\n\t\t//\r\n\t\t//\t},\r\n\r\n\t\t/**\r\n\t\t * Called when the View has been rendered (so its HTML is part of the document). Post-rendering manipulations of the HTML could be done here.\r\n\t\t * This hook is the same one that SAPUI5 controls get after being rendered.\r\n\t\t * @memberOf ZDLT_UI5_DIS_INV_REQ.view.Edit_view\r\n\t\t */\r\n\t\t//\tonAfterRendering: function() {\r\n\t\t//\r\n\t\t//\t},\r\n\r\n\t\t/**\r\n\t\t * Called when the Controller is destroyed. Use this one to free resources and finalize activities.\r\n\t\t * @memberOf ZDLT_UI5_DIS_INV_REQ.view.Edit_view\r\n\t\t */\r\n\t\t//\tonExit: function() {\r\n\t\t//\r\n\t\t//\t}\r\n\r\n\t\t//\t************************Submit Function***************************************\r\n\t\t//\t******************************************************************************\r\n\t\tonSubmit: function() {\r\n\t\t\tthat = this;\r\n\t\t\tvar cashDiscount = this.getView().byId(\"Inpcashdcnt\").getValue();\r\n\t\t\tif (cashDiscount !== \"\") {\r\n\t\t\t\tif (isNaN(cashDiscount)) {\r\n\t\t\t\t\tvar _errMsg = \"Input Cash Discount not valid\";\r\n\t\t\t\t\tsap.m.MessageBox.show(_errMsg, sap.m.MessageBox.Icon.ERROR, \"Error\");\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t//ra1vi2 token\r\n\t\t\tif (this.getView().byId(\"idToken\").getVisible() && !this.getView().byId(\"idToken\").getValue() && this.getView().byId(\"idToken\").getEnabled()) {\r\n\t\t\t\tvar _errMsg = \"Please Provide Token Number\";\r\n\t\t\t\tsap.m.MessageBox.show(_errMsg, sap.m.MessageBox.Icon.ERROR, \"Error\");\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\t//ra1vi2 token\r\n\t\t\tvar lrNumber = this.getView().byId(\"Inplrnum\").getValue();\r\n\t\t\tif (lrNumber !== \"\") {\r\n\t\t\t\tif (isNaN(lrNumber)) {\r\n\t\t\t\t\tvar _errMsg = \"Enter only Numeric Input\";\r\n\t\t\t\t\tsap.m.MessageBox.show(_errMsg, sap.m.MessageBox.Icon.ERROR, \"Error\");\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t// Transporter and Truck Number validation\r\n\t\t\tvar transporter = this.getView().byId(\"Inptrpter\").getValue();\r\n\t\t\tvar trucknumber = this.getView().byId(\"Inptrcknum\").getValue();\r\n\t\t\tif (transporter !== \"\" && trucknumber == \"\") {\r\n\t\t\t\tvar _errMsg = \"Enter Truck Number for the Transporter\";\r\n\t\t\t\tsap.m.MessageBox.show(_errMsg, sap.m.MessageBox.Icon.ERROR, \"Error\");\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tif (transporter == \"\" && trucknumber !== \"\") {\r\n\t\t\t\tvar _errMsg = \"Enter  Transporter for the Truck Number\";\r\n\t\t\t\tsap.m.MessageBox.show(_errMsg, sap.m.MessageBox.Icon.ERROR, \"Error\");\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\t//Create all the records added to table via Json model\r\n\t\t\tvar oTable = this.getView().byId(\"table1\");\r\n\r\n\t\t\t// Get the table Model\r\n\t\t\tvar oModel1 = oTable.getModel();\r\n\r\n\t\t\t// Get Items of the Table\r\n\t\t\tvar aItems = oModel1.getData().data; //oTable.getItems();\r\n\t\t\tif (typeof aItems == \"undefined\") {\r\n\t\t\t\tvar _errMsg = \"Item data can not be empty\";\r\n\t\t\t\tsap.m.MessageBox.show(_errMsg, sap.m.MessageBox.Icon.ERROR, \"Error\");\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tvar bPlacementUsed = false;\r\n\t\t\tif (this.byId(\"Inptrpter\").getValue() ||\r\n\t\t\t\tthis.byId(\"Inptrcknum\").getValue() ||\r\n\t\t\t\tthis.byId(\"Inplrnum\").getValue()) {\r\n\t\t\t\tbPlacementUsed = true;\r\n\t\t\t}\r\n\r\n\t\t\tif (bPlacementUsed) {\r\n\t\t\t\tif (!this.byId(\"Inptrpter\").getValue() ||\r\n\t\t\t\t\t!this.byId(\"Inptrcknum\").getValue() ||\r\n\t\t\t\t\t!this.byId(\"Inplrnum\").getValue()) {\r\n\t\t\t\t\tBusyIndicator.hide();\r\n\t\t\t\t\tvar _errMsg = \"Please provide all mandatory values for Placement tab\";\r\n\t\t\t\t\tsap.m.MessageBox.show(_errMsg, sap.m.MessageBox.Icon.ERROR, \"Error\");\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t// Define an empty Array\r\n\t\t\tvar itemData = [];\r\n\r\n\t\t\tfor (var iRowIndex = 0; iRowIndex < aItems.length; iRowIndex++) {\r\n\t\t\t\tvar l_material = oModel1.getProperty(\"MaterialCode\", aItems[iRowIndex]);\r\n\t\t\t\tvar l_matdesc = oModel1.getProperty(\"MaterialDesc\", aItems[iRowIndex]);\r\n\t\t\t\tvar l_brand = oModel1.getProperty(\"Brand\", aItems[iRowIndex]);\r\n\t\t\t\tvar l_pack = oModel1.getProperty(\"Pack\", aItems[iRowIndex]);\r\n\t\t\t\tvar l_quantity = oModel1.getProperty(\"Quantity\", aItems[iRowIndex]);\r\n\t\t\t\tvar l_uom = oModel1.getProperty(\"Uom\", aItems[iRowIndex]);\r\n\t\t\t\tvar l_batchqty = oModel1.getProperty(\"BatchQuantity\", aItems[iRowIndex]);\r\n\t\t\t\tif (l_batchqty == undefined) {\r\n\t\t\t\t\tl_batchqty = \"0\";\r\n\t\t\t\t}\r\n\t\t\t\tif (l_uom === \"Cases\") {\r\n\t\t\t\t\tl_uom = \"CS\";\r\n\t\t\t\t} else if (l_uom === \"Each\") {\r\n\t\t\t\t\tl_uom = \"EA\";\r\n\t\t\t\t}\r\n\t\t\t\t//sloc/batch qty and qty validation\r\n\t\t\t\tif (l_batchqty > l_quantity) {\r\n\t\t\t\t\t_errMsg = \"Entered  qty should not be less than Sloc qty for the material \" + l_material;\r\n\t\t\t\t\tsap.m.MessageBox.show(_errMsg, sap.m.MessageBox.Icon.ERROR, \"Error\");\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (l_material !== null) {\r\n\t\t\t\t\titemData.push({\r\n\t\t\t\t\t\tMaterialCode: l_material,\r\n\t\t\t\t\t\tMaterialDesc: l_matdesc,\r\n\t\t\t\t\t\tBrand: l_brand,\r\n\t\t\t\t\t\tPack: l_pack,\r\n\t\t\t\t\t\tQuantity: l_quantity,\r\n\t\t\t\t\t\tUom: l_uom,\r\n\t\t\t\t\t\tBatchQuantity: l_batchqty\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t} //end of forloop for item material data\r\n\r\n\t\t\tvar oTable1 = this.getView().byId(\"table2\");\r\n\r\n\t\t\t// Get the table Model\r\n\t\t\tvar oModel2 = oTable1.getModel();\r\n\r\n\t\t\t// Get Items of the batch Table\r\n\t\t\tvar chck = oModel2.getData();\r\n\t\t\tif (chck !== null) {\r\n\t\t\t\tvar aItems1 = oModel2.getData().data; //oTable.getItems();\r\n\t\t\t\tif (typeof aItems1 !== \"undefined\") {\r\n\t\t\t\t\t/*\tvar _errMsg = \"Item data can not be empty\";\r\n\t\t\t\t\t\tsap.m.MessageBox.show(_errMsg, sap.m.MessageBox.Icon.ERROR, \"Error\"); \r\n\t\t\t\t\t\treturn; \r\n\t\t\t\t\t} */\r\n\r\n\t\t\t\t\t// Define an empty Array\r\n\t\t\t\t\tvar itemData1 = [];\r\n\t\t\t\t\tvar qty_valid = \"\";\r\n\t\t\t\t\tvar batqty1 = \"\";\r\n\t\t\t\t\tfor (var iRowIndex1 = 0; iRowIndex1 < aItems1.length; iRowIndex1++) {\r\n\t\t\t\t\t\tvar l_material1 = oModel2.getProperty(\"MaterialCode\", aItems1[iRowIndex1]);\r\n\t\t\t\t\t\tvar l_matdesc1 = oModel2.getProperty(\"MaterialDesc\", aItems1[iRowIndex1]);\r\n\r\n\t\t\t\t\t\tvar l_quantity1 = oModel2.getProperty(\"Quantity\", aItems1[iRowIndex1]);\r\n\r\n\t\t\t\t\t\tvar l_sloc1 = oModel2.getProperty(\"Sloc\", aItems1[iRowIndex1]);\r\n\r\n\t\t\t\t\t\tvar l_slocquantity1 = oModel2.getProperty(\"BatchQty\", aItems1[iRowIndex1]);\r\n\t\t\t\t\t\tvar l_stock1 = oModel2.getProperty(\"Slocstock\", aItems1[iRowIndex1]);\r\n\r\n\t\t\t\t\t\tif (l_material1 !== \"\" && l_matdesc1 !== \"\") {\r\n\t\t\t\t\t\t\tqty_valid = Math.abs(l_quantity1);\r\n\t\t\t\t\t\t\tbatqty1 = Math.abs(l_slocquantity1);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif (l_matdesc1 !== \"\") {\r\n\t\t\t\t\t\t\t//Storage location qty against Qty validation\r\n\t\t\t\t\t\t\tvar batqty2 = 0;\r\n\t\t\t\t\t\t\tbatqty2 = Math.abs(batqty2);\r\n\t\t\t\t\t\t\tvar ibval = iRowIndex1 + 1;\r\n\t\t\t\t\t\t\tvar batqtytmp1 = Math.abs(l_slocquantity1);\r\n\t\t\t\t\t\t\tvar stock_valid = Math.abs(l_stock1);\r\n\t\t\t\t\t\t\tif (batqtytmp1 > l_stock1) {\r\n\t\t\t\t\t\t\t\t_errMsg = \"Entered Sloc qty should not be greater than Sloc stock for the material \" + l_material1;\r\n\t\t\t\t\t\t\t\tsap.m.MessageBox.show(_errMsg, sap.m.MessageBox.Icon.ERROR, \"Error\");\r\n\t\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tfor (ibval; ibval <= aItems1.length; ibval++) {\r\n\t\t\t\t\t\t\t\tvar batmat = oModel2.getProperty(\"MaterialDesc\", aItems1[ibval]);\r\n\t\t\t\t\t\t\t\tvar sloc_stock_valid = oModel2.getProperty(\"Slocstock\", aItems1[ibval]);\r\n\t\t\t\t\t\t\t\tsloc_stock_valid = Math.abs(sloc_stock_valid);\r\n\t\t\t\t\t\t\t\t/*\tif(batmat == null){\r\n\t\t\t\t\t\t\t\t\t\tbatmat = \"\";\r\n\t\t\t\t\t\t\t\t\t}*/\r\n\t\t\t\t\t\t\t\tif (batmat !== \"\") {\r\n\t\t\t\t\t\t\t\t\tibval = aItems1.length + 1;\r\n\t\t\t\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t\t\t\t\tvar batqtytmp = oModel2.getProperty(\"BatchQty\", aItems1[ibval]);\r\n\t\t\t\t\t\t\t\t\tvar batqtytmp1 = Math.abs(batqtytmp);\r\n\t\t\t\t\t\t\t\t\tif (batqtytmp1 > sloc_stock_valid) {\r\n\t\t\t\t\t\t\t\t\t\t_errMsg = \"Entered Sloc qty should not be greater than Sloc stock for the material \" + l_material1;\r\n\t\t\t\t\t\t\t\t\t\tsap.m.MessageBox.show(_errMsg, sap.m.MessageBox.Icon.ERROR, \"Error\");\r\n\t\t\t\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\tbatqty2 = batqty2 + batqtytmp1;\r\n\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t} //end of for loop of batmat\r\n\t\t\t\t\t\t\tvar batqty = batqty1 + batqty2;\r\n\t\t\t\t\t\t\t//qty valid is material qty; batqty is of total storage loc enter qty\r\n\t\t\t\t\t\t\tif (qty_valid < batqty) {\r\n\t\t\t\t\t\t\t\t_errMsg = \"Entered Sloc qty should not be more than Item Quantity for the material \" + l_material1;\r\n\t\t\t\t\t\t\t\tsap.m.MessageBox.show(_errMsg, sap.m.MessageBox.Icon.ERROR, \"Error\");\r\n\t\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t/*\t\tvar l_uom1 = oModel1.getProperty(\"Uom\", aItems[iRowIndex1]); //.getBindingContext());\r\n\t\t\t\t\t\t\t\tif (l_uom1 === \"Cases\") {\r\n\t\t\t\t\t\t\t\t\tl_uom1 = \"CS\";\r\n\t\t\t\t\t\t\t\t} else if (l_uom1 === \"Each\") {\r\n\t\t\t\t\t\t\t\t\tl_uom1 = \"EA\";\r\n\t\t\t\t\t\t\t\t} */\r\n\t\t\t\t\t\tvar l_invid1 = \"12345\";\r\n\t\t\t\t\t\tvar l_botcase1 = oModel1.getProperty(\"Umren\", aItems1[iRowIndex1]);\r\n\t\t\t\t\t\tif (l_material1 !== null) {\r\n\t\t\t\t\t\t\titemData1.push({\r\n\t\t\t\t\t\t\t\tInvId: l_invid1,\r\n\t\t\t\t\t\t\t\tMaterialCode: l_material1,\r\n\t\t\t\t\t\t\t\tItem: \" \",\r\n\t\t\t\t\t\t\t\tMaterialDesc: l_matdesc1,\r\n\t\t\t\t\t\t\t\tBatchNo: \"\",\r\n\t\t\t\t\t\t\t\tQuantity: l_quantity1,\r\n\t\t\t\t\t\t\t\tBatchQty: l_slocquantity1,\r\n\t\t\t\t\t\t\t\tStatus: \"0\",\r\n\t\t\t\t\t\t\t\tSloc: l_sloc1,\r\n\r\n\t\t\t\t\t\t\t\tSlocstock: l_stock1,\r\n\t\t\t\t\t\t\t\t//\tQuantity1: l_quantity1,\r\n\t\t\t\t\t\t\t\t//\tUom: l_uom1,\r\n\t\t\t\t\t\t\t\tUmren: l_botcase1\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t} //end of undefine\r\n\t\t\t} //end of check\r\n\r\n\t\t\t// Get the values of the header input fields\r\n\r\n\t\t\t// Create one emtpy Object\r\n\t\t\tvar oEntry1 = {};\r\n\r\n\t\t\toEntry1.InvId = \"12345\";\r\n\t\t\tvar invdate = this.getView().byId(\"Inpinvdate\").getValue();\r\n\t\t\toEntry1.InvDate = invdate + \"T00:00:00\"; //\toEntry1.InvDate = \"2019-12-05T00:00:00\";\r\n\t\t\toEntry1.DocketNum = this.getView().byId(\"Inpdckt\").getValue();\r\n\t\t\toEntry1.Plant = v_Plant;\r\n\t\t\toEntry1.PlantName = this.getView().byId(\"Inpplntnam\").getValue();\r\n\t\t\toEntry1.DistributChanId = this.getView().byId(\"Combdistr\").getSelectedKey();\r\n\t\t\toEntry1.DivisionId = this.getView().byId(\"Combdiv\").getSelectedKey();\r\n\t\t\toEntry1.Customer = this.getView().byId(\"Inpcust\").getValue();\r\n\t\t\toEntry1.TpPermitNum = this.getView().byId(\"Inptpnum\").getValue();\r\n\r\n\t\t\toEntry1.TokenNo = this.getView().byId(\"idToken\").getValue(); //ra1vi2\r\n\r\n\t\t\tvar perdate = this.getView().byId(\"Inptpdat\").getValue();\r\n\t\t\tif (perdate !== \"\") {\r\n\t\t\t\toEntry1.TpPermitDate = perdate + \"T00:00:00\";\r\n\t\t\t}\r\n\t\t\tvar expdate = this.getView().byId(\"Inpexdat\").getValue();\r\n\t\t\tif (expdate !== \"\") {\r\n\t\t\t\toEntry1.ExpDate = expdate + \"T00:00:00\";\r\n\t\t\t}\r\n\r\n\t\t\toEntry1.Transporter = this.getView().byId(\"Inptrpter\").getValue();\r\n\t\t\toEntry1.TruckNumber = this.getView().byId(\"Inptrcknum\").getValue();\r\n\t\t\toEntry1.LrNumber = this.getView().byId(\"Inplrnum\").getValue();\r\n\t\t\toEntry1.TruckType = this.getView().byId(\"Combtrcktyp\").getSelectedKey();\r\n\t\t\toEntry1.MilkRun = this.getView().byId(\"Combmilkrun\").getSelectedKey();\r\n\r\n\t\t\toEntry1.CashDiscount = this.getView().byId(\"Inpcashdcnt\").getValue();\r\n\t\t\t//\toEntry1.HisId = \"\";\r\n\t\t\toEntry1.Remarks = this.getView().byId(\"Inpremarks\").getValue();\r\n\r\n\t\t\t//\toEntry1.Status = \"\";\r\n\t\t\t//\toEntry1.RequestType = \"\";\r\n\r\n\t\t\toEntry1.SalesOrganization = this.getView().byId(\"Inpslsorg\").getValue();\r\n\t\t\toEntry1.SalesGrp = this.getView().byId(\"Combslsgrp\").getSelectedKey();\r\n\r\n\t\t\toEntry1.CustName = this.getView().byId(\"Inpcustname\").getValue();\r\n\r\n\t\t\toEntry1.TrpName = this.getView().byId(\"Inptrpternam\").getValue();\r\n\t\t\toEntry1.OrderNum = this.getView().byId(\"Inpordnum\").getValue();\r\n\t\t\t//\toEntry1.TpOrderNum = this.getView().byId(\"Inptrpordnum\").getValue();\r\n\r\n\t\t\t//\tvar tporddate = this.getView().byId(\"Inptrporddate\").getValue();\r\n\t\t\t//\tif (tporddate !== \"\") {\r\n\t\t\t//\toEntry1.TpOrderDate = tporddate + \"T00:00:00\";\r\n\t\t\t//}\r\n\t\t\toEntry1.ExpNum = this.getView().byId(\"Inpexpnum\").getValue();\r\n\r\n\t\t\tvar exporddate = this.getView().byId(\"Inpexporddat\").getValue();\r\n\t\t\tif (exporddate !== \"\") {\r\n\t\t\t\toEntry1.ExpOrdDate = exporddate + \"T00:00:00\";\r\n\t\t\t}\r\n\t\t\tv_Pricelist = this.getView().byId(\"Combprclst\").getSelectedKey();\r\n\t\t\toEntry1.Pricelist = this.getView().byId(\"Combprclst\").getSelectedKey(); // temp comment\r\n\t\t\t/*\r\n\t\t\toEntry1.EmpCode = \"\";\r\n\t\t\toEntry1.BimId = \"\";\r\n\t\r\n\t\toEntry1.ArrvDt = \"\";\r\n\t\t\toEntry1.UnldcmnceDt = \"\";\r\n\t\t\toEntry1.UnldcmpldDt = \"\";\r\n\t\t\toEntry1.GraNo = \"\";\r\n\t\t\toEntry1.GraDt = \"\";\r\n\t\t\toEntry1.ExciseCh = \"\";\r\n\t\t\toEntry1.ExciseDt = \"\";\r\n\t\t\toEntry1.VendCh = \"\";\r\n\t\t\toEntry1.VendDt = \"\";\r\n\t\t\toEntry1.Haltrate = \"\";\r\n\t\t\toEntry1.EvcDt = \"\";\r\n\t\t\toEntry1.EvcNo = \"\";\r\n\t\t\toEntry1.AcctDt = \"\";\r\n\t\t\toEntry1.DocketCrtdt = \"\";\r\n\t\t\toEntry1.PlacementNo = \"\";\r\n\t\t\toEntry1.MasterinvoiceNumber = \"\"; */\r\n\r\n\t\t\t//Using Deep entity the data is posted as shown below .\r\n\t\t\t// Link  items to the  header\r\n\t\t\t// Very very Important. Here the name should be exactly like the Entity Set at Backend OData\r\n\t\t\t// DcktInvNavItem is the same name at back end\r\n\t\t\t//\toEntry1.SoDocNo = \"\";\r\n\t\t\toEntry1.DcktEditNavItem = itemData;\r\n\t\t\tif (itemData1.length > 0) {\r\n\t\t\t\toEntry1.DcktEditNavBat = itemData1;\r\n\t\t\t}\r\n\r\n\t\t\t//Set the Model and call the .create function to call the OData Service.\r\n\t\t\t//\tvar oModel1 = new sap.ui.model.odata.ODataModel(\"http://sapbwdev02.corp.usl.in:8020/sap/opu/odata/sap/ZDLT_SALES_INVOICE_SRV\");\r\n\t\t\tvar oModel1 = new sap.ui.model.odata.ODataModel(\"/sap/opu/odata/sap/ZDLT_SALES_INVOICE_SRV\");\r\n\r\n\t\t\tthis.getView().setModel(oModel1);\r\n\r\n\t\t\toModel1.setHeaders({\r\n\t\t\t\t\"X-Requested-With\": \"X\"\r\n\t\t\t});\r\n\t\t\t//DcktInvDstlSet  DcktInvNavItem\r\n\t\t\toModel1.create(\"/DcktInvEditSet\", oEntry1, {\r\n\r\n\t\t\t\tsuccess: function(oData, oResponse) {\r\n\t\t\t\t\t//alert(\"The backend SAP System is Connected Successfully\");\r\n\t\t\t\t\tthat.getView().byId(\"Combtrcktyp\").setSelectedKey(v_TruckType);\r\n\t\t\t\t\tthat.getView().byId(\"Combprclst\").setSelectedKey(v_Pricelist);\r\n\t\t\t\t\t//that.getView().byId(\"Combplant\").setSelectedKey(v_Plant);\r\n\t\t\t\t\tthat.getView().byId(\"Combplant\").setValue(v_Plant);\r\n\t\t\t\t\tif (oResponse.statusCode == 201 && oData.MsgType == \"E\") {\r\n\t\t\t\t\t\tvar _errMsg = oData.Msg;\r\n\t\t\t\t\t\tsap.m.MessageBox.show(_errMsg, sap.m.MessageBox.Icon.ERROR, \"Error\");\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tvar successObj = oResponse.data.DocketNum;\r\n\t\t\t\t\tvar message = \"Docket Number : \" + successObj + \"  \" + \"updated successfully\";\r\n\r\n\t\t\t\t\tjQuery.sap.require(\"sap.m.MessageBox\");\r\n\r\n\t\t\t\t\tsap.m.MessageBox.show(message, {\r\n\t\t\t\t\t\ticon: sap.m.MessageBox.Icon.SUCCESS,\r\n\t\t\t\t\t\ttitle: \"Docket number Update Status\",\r\n\t\t\t\t\t\tactions: [sap.m.MessageBox.Action.OK],\r\n\t\t\t\t\t\tonClose: function(oAction) {\r\n\t\t\t\t\t\t\tthat.getOwnerComponent().getRouter().navTo(\"Main_View\");\r\n\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\r\n\t\t\t\t\t//\tthat.getOwnerComponent().getRouter().navTo(\"\");\r\n\r\n\t\t\t\t},\r\n\t\t\t\terror: function(oError) {\r\n\t\t\t\t\t/*var _errMsg = \"Failure - OData Service could not be called.\";\r\n\t\t\t\t\tsap.m.MessageBox.show(_errMsg, sap.m.MessageBox.Icon.ERROR, \"Error\");\r\n\t\t\t\t\treturn;*/\r\n\t\t\t\t\tvar _errMsg = oError.message + \";  \" + oError.statusText;\r\n\t\t\t\t\tsap.m.MessageBox.show(_errMsg, sap.m.MessageBox.Icon.ERROR, \"Error\");\r\n\t\t\t\t\treturn;\r\n\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t}, // end of submit\r\n\t\tonAddqty: function(oEvent) {\r\n\t\t\t//that = this;\r\n\t\t\tvar oTableAdd = this.getView().byId(\"table1\");\r\n\r\n\t\t\t// Get the table Model\r\n\t\t\tvar oModelAdd = oTableAdd.getModel();\r\n\r\n\t\t\t// Get Items of the Table\r\n\t\t\tvar aItemsAdd = oModelAdd.getData().data; //oTable.getItems();\r\n\t\t\tv_total_qty = 0;\r\n\t\t\tfor (var iadd = 0; iadd < aItemsAdd.length; iadd++) {\r\n\r\n\t\t\t\tvar v_qty_add = Math.abs(aItemsAdd[iadd].Quantity);\r\n\t\t\t\tvar v_bot_case = Math.abs(aItemsAdd[iadd].Umren);\r\n\t\t\t\tif ((aItemsAdd[iadd].Uom) == \"EA\") {\r\n\t\t\t\t\tif (v_bot_case !== 0) {\r\n\t\t\t\t\t\tv_qty_add = v_qty_add / v_bot_case;\r\n\r\n\t\t\t\t\t} //endif v_bot\r\n\t\t\t\t}\r\n\r\n\t\t\t\tv_total_qty = v_total_qty + v_qty_add;\r\n\r\n\t\t\t} //end of for iadd\r\n\t\t\tv_total_qty = v_total_qty.toFixed(3);\r\n\t\t\t//\tthat.getView().byId(\"Txt1\").setValue(v_total_qty);\r\n\t\t}, //end of onAddqty\r\n\t\t//Qtychange\r\n\t\tonQtyChange: function(oEvent) {\r\n\r\n\t\t\tthis.onAddqty(oEvent);\r\n\t\t\tthis.getView().byId(\"Txt1\").setValue(v_total_qty);\r\n\t\t}, //end of qty change\r\n\t\tonCancel: function() {\r\n\t\t\tthis.getOwnerComponent().getRouter().navTo(\"Main_View\");\r\n\t\t},\r\n\t\tonPressSaveFileButton: function(oEvent) {\r\n\t\t\tBusyIndicator.show();\r\n\t\t\tvar sThis = this;\r\n\t\t\tvar oUploader = this.byId(\"idTokenFileUploader\");\r\n\r\n\t\t\t//validate required fields\r\n\t\t\tif (!this.byId(\"idForm38Input\").getValue()) {\r\n\t\t\t\tthis.byId(\"idForm38Input\").setValueState(\"Error\");\r\n\t\t\t\tthis.byId(\"idForm38Input\").setValueStateText(\"Please provide value for Form 38\");\r\n\t\t\t\tBusyIndicator.hide();\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tif (!oUploader.getValue()) {\r\n\t\t\t\tMessageToast.show(\"Please Choose any File\");\r\n\t\t\t\tBusyIndicator.hide();\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tvar sInvoiceNo = this.getView().byId(\"InpInvNo\").getValue();\r\n\t\t\tvar sDocketNo = this.getView().byId(\"Inpdckt\").getValue();\r\n\t\t\tvar sForm38 = this.byId(\"idForm38Input\").getValue();\r\n\t\t\tvar sFileName = oUploader.getProperty(\"value\");\r\n\t\t\t//upload\r\n\r\n\t\t\toUploader.addHeaderParameter(new sap.ui.unified.FileUploaderParameter({\r\n\t\t\t\tname: \"slug\",\r\n\t\t\t\tvalue: sInvoiceNo + \",\" + sForm38 + \",\" + sDocketNo + \",\" + sFileName\r\n\t\t\t}));\r\n\t\t\tvar sToken = sThis.getView().getModel().getSecurityToken();\r\n\t\t\toUploader.addHeaderParameter(new sap.ui.unified.FileUploaderParameter({\r\n\t\t\t\tname: \"x-csrf-token\",\r\n\t\t\t\tvalue: sToken\r\n\t\t\t}));\r\n\r\n\t\t\toUploader.setSendXHR(true);\r\n\t\t\toUploader.setUploadUrl(\"/sap/opu/odata/sap/ZDLT_SALES_INVOICE_SRV/From38fileSet\");\r\n\t\t\toUploader.upload();\r\n\t\t},\r\n\t\tonBeforeUploadStart: function() {\r\n\t\t\t//set the upload url \r\n\t\t\t//uploader.setUploadUrl(/sap/fileSet(key=value)/$value\r\n\t\t},\r\n\t\tonUploadComplete: function() {\r\n\t\t\t//handle upload complete here \r\n\t\t\tMessageToast.show(\"File Upload Completed\");\r\n\t\t\tBusyIndicator.hide();\r\n\t\t\tthis.getOwnerComponent().getRouter().navTo(\"Main_View\");\r\n\t\t},\r\n\t\tonPressDownloadAttachment: function() {\r\n\t\t\tvar sInvoiceNo = this.getView().byId(\"InpInvNo\").getValue();\r\n\t\t\tvar sURL = \"/sap/opu/odata/sap/ZDLT_SALES_INVOICE_SRV/From38fileSet('\" + sInvoiceNo + \"')/$value\";\r\n\t\t\twindow.open(sURL.trim(), \"_blank\");\r\n\t\t}\r\n\t});\r\n\r\n});",
		"ZDLT_UI5_DIS_INV_REQ/controller/Main_View.controller.js": "sap.ui.define([\r\n\t\"sap/ui/core/mvc/Controller\",\r\n\t\"sap/ui/core/format/DateFormat\",\r\n\t\"sap/m/MessageBox\",\r\n\t\"sap/ui/layout/Grid\",\r\n\t\"sap/ui/commons/Panel\",\r\n\t\"sap/ui/core/HTML\",\r\n\t\"sap/m/PDFViewer\",\r\n\t\"sap/m/Dialog\",\r\n\t\"sap/m/DialogType\",\r\n\t\"sap/m/List\",\r\n\t\"sap/m/StandardListItem\",\r\n\t\"sap/ui/core/Fragment\"\r\n\r\n], function(Controller, DateFormat, MessageBox, Grid, Panel, HTML, PDFViewer, Dialog, DialogType, List, StandardListItem, Fragment) {\r\n\t\"use strict\";\r\n\tvar that = this;\r\n\tvar Plant = \"\";\r\n\tvar oJModel = \"\";\r\n\tvar oModel = \"\";\r\n\tvar itemData = \"\";\r\n\tvar _that1 = \"\";\r\n\tvar oJModel = \"\";\r\n\tvar oModel1 = \"\";\r\n\tvar oModel2 = \"\";\r\n\tvar oModel = \"\";\r\n\tvar v_Plant = \"\";\r\n\tvar v_date1 = \"\";\r\n\tvar v_date2 = \"\";\r\n\tvar v_Status = \"\";\r\n\tvar v_dlist;\r\n\treturn Controller.extend(\"ZDLT_UI5_DIS_INV_REQ.controller.Main_View\", {\r\n\t\tonInit: function() {\r\n\t\t\tthat = this;\r\n\t\t\t//---------------PRINT button enable only for Invoice option--------------//\r\n\t\t\tvar v_Sts = this.getView().byId(\"Combstatus\").getSelectedKey();\r\n\t\t\tvar v_bInvdis = this.getView().byId(\"btInvldis\");\r\n\t\t\tvar v_bPrint = this.getView().byId(\"btPrint\");\r\n\t\t\tif (v_Sts !== '2') {\r\n\t\t\t\t//if (v_bPrint.getVisible()) {\r\n\t\t\t\tv_bPrint.setVisible(false);\r\n\t\t\t\tv_bInvdis.setVisible(false);\r\n\t\t\t\t//\t}\r\n\t\t\t}\r\n\t\t\t//----------------End of PRINT enable---------------------------------------//\r\n\t\t\t//--------------------------Defualt Button for TMS Process----------------//\r\n\t\t\tvar v_inv = this.getView().byId(\"RB3-1\").getSelected();\r\n\t\t\tvar inv = this.getView().byId(\"btRqinv\");\r\n\r\n\t\t\tif (v_inv == true) {\r\n\t\t\t\tv_inv = 'X';\r\n\t\t\t}\r\n\r\n\t\t\tif (v_inv == 'X') {\r\n\t\t\t\tif (inv.getVisible()) {\r\n\t\t\t\t\tinv.setVisible(false);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t//-------------------------End of Button for TMS Process-------------------//\r\n\t\t\t// create dialog via fragment factory\r\n\t\t\t//var oDialog1 = sap.ui.xmlfragment( \"ZDLT_UI5_DIS_INV_REQ.InvoiceList\");\r\n\t\t\t//Accessing the table from the fragment by it's Id\t\r\n\t\t\tvar oTable = that.byId(\"detailList\");\r\n\t\t\tvar oDateFormatinit = DateFormat.getDateInstance({\r\n\t\t\t\tsource: {\r\n\t\t\t\t\tpattern: \"timestamp\"\r\n\t\t\t\t},\r\n\t\t\t\tpattern: \"yyyy-MM-dd\" //\"dd/MM/yyyy\"\r\n\t\t\t});\r\n\r\n\t\t\tvar dateinit = new Date();\r\n\t\t\tvar firstDay = new Date(dateinit.getFullYear(), dateinit.getMonth(), 1);\r\n\t\t\tvar iinit = 0;\r\n\t\t\tvar dateFrom = (new Date(firstDay)).getTime() - (iinit % 10 * 4 * 24 * 60 * 60 * 1000);\r\n\t\t\tdateFrom = oDateFormatinit.format(new Date(dateFrom));\r\n\t\t\tthis.getView().byId(\"Inpreqfrmdat\").setValue(dateFrom);\r\n\t\t\tvar lastDay = new Date(dateinit.getFullYear(), dateinit.getMonth() + 1, 0);\r\n\t\t\tvar dateTo = (new Date(lastDay)).getTime() - (iinit % 10 * 4 * 24 * 60 * 60 * 1000);\r\n\t\t\tdateTo = oDateFormatinit.format(new Date(dateTo));\r\n\t\t\tthis.getView().byId(\"Inpreqtodat\").setValue(dateTo);\r\n\r\n\t\t\tvar oRouter = sap.ui.core.UIComponent.getRouterFor(this);\r\n\r\n\t\t\toRouter.getRoute(\"Main_View\").attachPatternMatched(this._onObjectMatched1, this);\r\n\r\n\t\t\t//\tvar vServiceUrl = \"http://sapbwdev02.corp.usl.in:8020/sap/opu/odata/sap/ZDLT_SALES_INVOICE_SRV\";\r\n\t\t\tvar vServiceUrl = \"/sap/opu/odata/sap/ZDLT_SALES_INVOICE_SRV\";\r\n\t\t\tvar oModel = new sap.ui.model.odata.v2.ODataModel(vServiceUrl, {\r\n\t\t\t\tdefaultBindingMode: sap.ui.model.BindingMode.TwoWay\r\n\t\t\t});\r\n\t\t\t//\tvar oModel = new sap.ui.model.odata.v2.ODataModel();\r\n\t\t\tthis.getView().setModel(oModel);\r\n\t\t\tvar url1 = \"/GetPlantsSet\";\r\n\t\t\toModel.read(url1, {\r\n\t\t\t\tsuccess: function(odata, oResponse) {\r\n\t\t\t\t\t//if (odata.results.length === 1) {\r\n\t\t\t\t\tthat.getView().byId(\"Combplant\").setSelectedKey(odata.results[0].Plant);\r\n\t\t\t\t\tif (odata.results[0].TruckInd === 'P' || odata.results[0].TruckInd === 'N') {\r\n\t\t\t\t\t\tthat.getView().byId(\"rbg3\").setEnabled(false);\r\n\t\t\t\t\t\tthat.getView().byId(\"rbg3\").setSelectedButton(that.getView().byId(\"RB3-2\"));\r\n\t\t\t\t\t}\r\n\t\t\t\t\t//\t}\r\n\t\t\t\t},\r\n\t\t\t\terror: function(oError) {\r\n\t\t\t\t\t//\tvar _errMsg = JSON.parse(oError.response.body).error.message.value;\r\n\t\t\t\t\t/*\tvar _errMsg = \"No Authorized plants for the user\";\r\n\t\t\t\t\t\tsap.m.MessageBox.show(_errMsg, sap.m.MessageBox.Icon.ERROR, \"Error\");*/\r\n\t\t\t\t\tvar message = \"No Authorized plants for the user\";\r\n\t\t\t\t\tjQuery.sap.require(\"sap.m.MessageBox\");\r\n\t\t\t\t\tsap.m.MessageBox.show(message, {\r\n\t\t\t\t\t\ticon: sap.m.MessageBox.Icon.SUCCESS,\r\n\t\t\t\t\t\ttitle: \"Authorization Status\",\r\n\t\t\t\t\t\tactions: [sap.m.MessageBox.Action.OK]\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t}, //end of on it\r\n\t\tonEnterPlant: function(oEvent) {\r\n\t\t\tvar oContext = this.byId(\"Combplant\").getSelectedItem().getBindingInfo(\"key\").binding.getContext();\r\n\t\t\tvar sPath = oContext.getPath();\r\n\t\t\tvar oData = oContext.getObject(sPath);\r\n\t\t\tif (oData.TruckInd === 'P' || oData.TruckInd === 'N') {\r\n\t\t\t\tthat.getView().byId(\"rbg3\").setEnabled(false);\r\n\t\t\t\tthat.getView().byId(\"rbg3\").setSelectedButton(that.getView().byId(\"RB3-2\"));\r\n\t\t\t} else {\r\n\t\t\t\tthat.getView().byId(\"rbg3\").setEnabled(true);\r\n\t\t\t\tthat.getView().byId(\"rbg3\").setSelectedButton(that.getView().byId(\"RB3-1\"));\r\n\t\t\t}\r\n\t\t},\r\n\t\t//----------------------------Radio button changes----------------------------------------//\r\n\t\thandleSelect: function(oEvent) {\r\n\t\t\tdebugger;\r\n\t\t\tvar v_tms = this.getView().byId(\"RB3-2\").getSelected();\r\n\t\t\tvar tms = this.getView().byId(\"btRqtms\");\r\n\t\t\tvar v_inv = this.getView().byId(\"RB3-1\").getSelected();\r\n\t\t\tvar inv = this.getView().byId(\"btRqinv\");\r\n\t\t\tv_Status = this.getView().byId(\"Combstatus\").getSelectedKey();\r\n\t\t\tif (v_Status == '0' || v_Status == '9') {\r\n\t\t\t\ttms.setVisible(false);\r\n\t\t\t\tinv.setVisible(true);\r\n\t\t\t}\r\n\t\t},\r\n\t\t//---------------------------End of Radio button changes--------------------------------//\r\n\t\t//\t************************ON Object Matched***************************************\r\n\t\t//\t*****************************************************************************************\r\n\t\t_onObjectMatched1: function(oEvent) {\r\n\t\t\tthat = this;\r\n\t\t\tvar plantnav = this.getView().byId(\"Combplant\").getSelectedKey();\r\n\t\t\tif (plantnav !== \"\") {\r\n\t\t\t\tthat.onSubmit();\r\n\t\t\t}\r\n\t\t},\r\n\t\t//\t************************Hide Busy Indicator Function**************************************\r\n\t\t//\t*************************************************************************************\r\n\t\thideBusyIndicator: function() {\r\n\t\t\tsap.ui.core.BusyIndicator.hide();\r\n\t\t},\r\n\t\t//\t************************Show Busy Indicator Function**************************************\r\n\t\t//\t*************************************************************************************\r\n\t\tshowBusyIndicator: function() {\r\n\t\t\tsap.ui.core.BusyIndicator.show();\r\n\t\t},\r\n\r\n\t\t//\t---------------------------------------------------------------------------------------//\r\n\t\t//\t\t\t\t\t\t Click on PRINT Button                                             //\r\n\t\t//\t---------------------------------------------------------------------------------------//\r\n\t\tonItemPrint: function(oEvent) {\r\n\t\t\tvar print = this;\r\n\t\t\t//window.print();\r\n\t\t\tvar select = this.getView().byId(\"table1\")._oSelection.aSelectedIndices.length;\r\n\t\t\tif (select == 0) {\r\n\t\t\t\tvar _errMsg = \"Please select atleast one row to Print Invoice.\";\r\n\t\t\t\tsap.m.MessageBox.show(_errMsg, sap.m.MessageBox.Icon.ERROR, \"Error\");\r\n\t\t\t\treturn;\r\n\t\t\t} else if (select > 1) {\r\n\t\t\t\tvar _errMsg = \"Select only one row to Print\";\r\n\t\t\t\tsap.m.MessageBox.show(_errMsg, sap.m.MessageBox.Icon.ERROR, \"Error\");\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\t/************************Get selected Invoice number to Print*********************/\r\n\t\t\tvar sIndex = this.getView().byId(\"table1\")._oSelection.iLeadIndex;\r\n\t\t\tvar vData = this.getView().byId(\"table1\").getModel().getProperty(\"/data\");\r\n\t\t\tvar vInvoicenum = vData[sIndex].ReqInv;\r\n\t\t\tvar vSrvUrl = \"/sap/opu/odata/sap/ZDLT_SALES_INVOICE_SRV\";\r\n\t\t\tvar oModel = new sap.ui.model.odata.v2.ODataModel(vSrvUrl, {\r\n\t\t\t\tdefaultBindingMode: sap.ui.model.BindingMode.TwoWay\r\n\t\t\t});\r\n\t\t\t//\tthis.getView().setModel(oModel);\r\n\t\t\t// added on 22 June\r\n\t\t\tvar opdfViewer = new PDFViewer();\r\n\t\t\tthis.getView().addDependent(opdfViewer);\r\n\t\t\tvar sServiceURL = this.getView().getModel().sServiceUrl;\r\n\t\t\tvar sSource = sServiceURL + \"/InvPdfSet('\" + vInvoicenum + \"')\" + \"/NavPdfToDoc\" + \"/$value\";\r\n\t\t\topdfViewer.setSource(sSource);\r\n\t\t\topdfViewer.setTitle(\"Invoice Print\");\r\n\t\t\topdfViewer.open();\r\n\t\t},\r\n\t\t//------------------------End of PRINT Button---------------------------------------------//\r\n\t\t//------------------------------Invoice LIst Display----------------------------------------------//\r\n\t\tonInvlist: function(oEvent) {\r\n\r\n\t\t\tvar that = this;\r\n\t\t\tvar select = this.getView().byId(\"table1\")._oSelection.aSelectedIndices.length;\r\n\t\t\tif (select == 0) {\r\n\t\t\t\tvar _errMsg = \"Please select atleast one row to see Invoice List.\";\r\n\t\t\t\tsap.m.MessageBox.show(_errMsg, sap.m.MessageBox.Icon.ERROR, \"Error\");\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tvar oTable = this.byId(\"table1\");\r\n\t\t\t//Index  number for Selected Row\r\n\t\t\tvar iIndex = oTable.getSelectedIndex();\r\n\t\t\t// Indices for Selected Row\r\n\t\t\tvar aIndices = this.byId(\"table1\").getSelectedIndices();\r\n\t\t\t//Get selected Row Records\r\n\t\t\tvar vSrdata = oTable.getContextByIndex(iIndex).getObject();\r\n\t\t\tvar vData = that.getView().byId(\"table1\").getModel().getProperty(\"/data\");\r\n\t\t\tvar docIdVal = vData[iIndex].DocketNum;\r\n\t\t\tvar vSrvUrl = \"/sap/opu/odata/sap/ZDLT_SALES_INVOICE_SRV\";\r\n\t\t\tvar oModel = new sap.ui.model.odata.v2.ODataModel(vSrvUrl, {\r\n\t\t\t\tdefaultBindingMode: sap.ui.model.BindingMode.TwoWay\r\n\t\t\t});\r\n\t\t\t//\tvar sServiceURL = that.getView().getModel().sServiceUrl;\r\n\t\t\t//var sSource = \"/HouListSet('\" + docIdVal + \"')\";\r\n\t\t\t//sap.ui.getCore().setModel(oModel);\r\n\t\t\t// Get the table Model\r\n\t\t\toModel.read(\"/HouListSet\", {\r\n\t\t\t\tfilters: [\r\n\t\t\t\t\tnew sap.ui.model.Filter(\"DocketNum\", sap.ui.model.FilterOperator.EQ, docIdVal)\r\n\r\n\t\t\t\t],\r\n\t\t\t\tsuccess: function(oData, oResponse) {\r\n\t\t\t\t\tvar trr = new sap.ui.model.json.JSONModel({\r\n\t\t\t\t\t\t\"Result\": oData.results\r\n\t\t\t\t\t});\r\n\t\t\t\t\t//var tab = that.getView().byId(\"detailList\");\r\n\t\t\t\t\tvar oform = sap.ui.getCore().byId(\"detailList\");\r\n\t\t\t\t\t// oform.setModel(oModel);\r\n\t\t\t\t\tvar oModel = oform.getModel();\r\n\t\t\t\t\tvar data1 = oData.results;\r\n\t\t\t\t\toform.setModel(trr);\r\n\r\n\t\t\t\t\ttrr.setData({\r\n\t\t\t\t\t\tldata: data1\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\t//After creation of Order, Delivery and PGI - Start of change by 1st July 2021 by Ramesh\r\n\t\t\t// access List from the fragment by its ID\r\n\t\t\tvar oView = that.getView();\r\n\t\t\t//\tvar oDialog = oForm.byId(\"iDialog\");\r\n\t\t\tvar oDialog = oView.byId(\"iDialog\");\r\n\t\t\t//\tvar path = oEvent.getSource().getBindingContext(\"sample\").getPath();\r\n\t\t\tif (!that.iDialog) {\r\n\t\t\t\tthat.iDialog = sap.ui.core.Fragment.load({\r\n\t\t\t\t\tname: \"ZDLT_UI5_DIS_INV_REQ.view.InvoiceList\",\r\n\t\t\t\t\t//\tname: \"ZDLT_UI5_DIS_INV_REQ.view.detailList\",\r\n\t\t\t\t\t//path: sSource,\r\n\t\t\t\t\t//containingView: \"ZDLT_UI5_DIS_INV_REQ.controller.Main_View\",\r\n\t\t\t\t\tcontroller: that\r\n\t\t\t\t}).then(function(oDialog) {\r\n\t\t\t\t\t// connect dialog to the root view of this component (models, lifecycle)\r\n\t\t\t\t\toView.addDependent(oDialog);\r\n\t\t\t\t\t//var oForm = sap.ui.getCore().byId(\"detailList\");\r\n\t\t\t\t\toDialog.setModel(oModel);\r\n\t\t\t\t\t// Get Data and fill List\t\r\n\t\t\t\t\t//oDialog.bindElement('/HouListSet', v_dlist);\r\n\t\t\t\t\toDialog.open();\r\n\t\t\t\t\treturn oDialog;\r\n\t\t\t\t});\r\n\t\t\t}\r\n\r\n\t\t\t//\t}\r\n\t\t\tthat.iDialog.then(function(iDialog) {\r\n\t\t\t\tiDialog.open();\r\n\t\t\t});\r\n\r\n\t\t},\r\n\r\n\t\t//-----------------------------End of Invoice List Display---------------------------------------//\r\n\r\n\t\t//\t************************ON enterPlant Function***************************************\r\n\t\t//\t*****************************************************************************************\r\n\r\n\t\tonEnterStatus: function(oEvent) {\r\n\t\t\tv_Status = this.getView().byId(\"Combstatus\").getSelectedKey();\r\n\t\t\tvar v_bPrint = this.getView().byId(\"btPrint\");\r\n\t\t\tvar v_bInvdis = this.getView().byId(\"btInvldis\");\r\n\t\t\tvar v_tms = this.getView().byId(\"RB3-2\").getSelected();\r\n\t\t\tvar tms = this.getView().byId(\"btRqtms\");\r\n\t\t\tvar v_inv = this.getView().byId(\"RB3-1\").getSelected();\r\n\t\t\tvar v_bDel = this.getView().byId(\"Btdelete\");\r\n\t\t\tvar v_bReqa = this.getView().byId(\"btReqapprvl\");\r\n\t\t\tvar inv = this.getView().byId(\"btRqinv\");\r\n\t\t\t//---------------PRINT button enable only for Invoice option--------------//\t\t\t\r\n\t\t\tif (v_Status == '2') {\r\n\t\t\t\t//if (v_bPrint.getVisible()) {\r\n\t\t\t\tv_bPrint.setVisible(true);\r\n\t\t\t\tv_bInvdis.setVisible(true);\r\n\t\t\t\t//}\r\n\t\t\t} else if (v_Status === '0' || v_Status === '9') {\r\n\t\t\t\tthis.getView().byId(\"rbg3\").setVisible(true);\r\n\t\t\t}\r\n\t\t\t/*else if (v_Status == '12') {\r\n\t\t\t\t\t\t\tv_bInvdis.setVisible(true);\r\n\t\t\t\t\t\t}*/\r\n\t\t\telse {\r\n\t\t\t\t//if (v_bPrint.getVisible()) {\r\n\t\t\t\tthis.getView().byId(\"rbg3\").setVisible(false);\r\n\t\t\t\tv_bPrint.setVisible(false);\r\n\t\t\t\tv_bInvdis.setVisible(false);\r\n\t\t\t\t//}\t\t\t\r\n\t\t\t}\r\n\t\t\t//------------------------------------------------------------------------//\t\t\t\r\n\t\t\t//Make Buttons Invisible when Status has selected as \"Invoice\"\r\n\t\t\tif (v_Status == '2') {\r\n\t\t\t\tinv.setVisible(false);\r\n\t\t\t\ttms.setVisible(false);\r\n\t\t\t\tv_bDel.setVisible(false);\r\n\t\t\t\tv_bReqa.setVisible(false);\r\n\t\t\t\tthis.getView().byId(\"rbg3\").setVisible(false);\r\n\t\t\t} else {\r\n\t\t\t\tif (v_tms == true) {\r\n\t\t\t\t\tv_tms = 'X';\r\n\t\t\t\t}\r\n\t\t\t\tif (v_tms == 'X') {\r\n\t\t\t\t\ttms.setVisible(false);\r\n\t\t\t\t\tinv.setVisible(true);\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (v_inv == true) {\r\n\t\t\t\t\tv_inv = 'X';\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (v_inv == 'X') {\r\n\t\t\t\t\tinv.setVisible(false);\r\n\t\t\t\t\ttms.setVisible(true);\r\n\r\n\t\t\t\t}\r\n\t\t\t\tv_bDel.setVisible(true);\r\n\t\t\t\tv_bReqa.setVisible(true);\r\n\t\t\t}\r\n\t\t\t//---------------------In-Process TMS------------------------//\r\n\t\t\tif (v_Status == '12') {\r\n\t\t\t\tinv.setVisible(false);\r\n\t\t\t\ttms.setVisible(false);\r\n\t\t\t\tv_bDel.setVisible(false);\r\n\t\t\t\tv_bReqa.setVisible(false);\r\n\t\t\t\tv_bInvdis.setVisible(true);\r\n\t\t\t}\r\n\t\t\t//----------------End of In-Process TMS----------------------//\r\n\r\n\t\t\t//---------------------Credit Check Rejected------------------------//\r\n\t\t\tif (v_Status == '10') {\r\n\t\t\t\tinv.setVisible(false);\r\n\t\t\t\ttms.setVisible(false);\r\n\t\t\t\tv_bDel.setVisible(false);\r\n\t\t\t\tv_bReqa.setVisible(false);\r\n\t\t\t\tv_bInvdis.setVisible(false);\r\n\t\t\t}\r\n\t\t\t//----------------End of Credit Check Rejected----------------------//\r\n\r\n\t\t\t//---------------------Cancelled Invoice------------------------//\r\n\t\t\tif (v_Status == '20') {\r\n\t\t\t\tinv.setVisible(false);\r\n\t\t\t\ttms.setVisible(false);\r\n\t\t\t\tv_bDel.setVisible(false);\r\n\t\t\t\tv_bReqa.setVisible(false);\r\n\t\t\t\tv_bInvdis.setVisible(false);\r\n\t\t\t}\r\n\t\t\t//----------------End of Cancelled Invoice----------------------//\t\t\t\r\n\t\t},\r\n\r\n\t\t//\t************************ON submit Go Function***************************************\r\n\t\t//\t*****************************************************************************************\r\n\r\n\t\tonSubmit: function(oEvent) {\r\n\r\n\t\t\tvar that = this;\r\n\t\t\t//Plant Validation\r\n\t\t\tvar plant1 = this.getView().byId(\"Combplant\").getSelectedKey();\r\n\t\t\tif (plant1 === \"\") {\r\n\t\t\t\t//\tthis.getView().byId(\"Combplant\").focus();\r\n\r\n\t\t\t\tvar _errMsg = \"Plant can not be blank\";\r\n\t\t\t\tsap.m.MessageBox.show(_errMsg, sap.m.MessageBox.Icon.ERROR, \"Error\");\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\t//Status Validation\r\n\t\t\tvar status1 = this.getView().byId(\"Combstatus\").getSelectedKey();\r\n\t\t\tif (status1 === \"\") {\r\n\t\t\t\t//this.getView().byId(\"Combstatus\").focus();\r\n\r\n\t\t\t\tvar _errMsg = \"Status can not be blank\";\r\n\t\t\t\tsap.m.MessageBox.show(_errMsg, sap.m.MessageBox.Icon.ERROR, \"Error\");\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tvar datefrom = this.getView().byId(\"Inpreqfrmdat\").getValue();\r\n\r\n\t\t\tvar date1 = datefrom;\r\n\t\t\tif (date1 !== \"\") {\r\n\t\t\t\tdate1 = date1 + \"T00:00:00\";\r\n\t\t\t} else {\r\n\t\t\t\tthis.getView().byId(\"Inpreqfrmdat\").focus();\r\n\r\n\t\t\t\tvar _errMsg = \"From date can not be blank\";\r\n\t\t\t\tsap.m.MessageBox.show(_errMsg, sap.m.MessageBox.Icon.ERROR, \"Error\");\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tvar dateto = this.getView().byId(\"Inpreqtodat\").getValue();\r\n\r\n\t\t\tvar date2 = dateto;\r\n\t\t\tif (date2 !== \"\") {\r\n\t\t\t\tdate2 = date2 + \"T00:00:00\";\r\n\t\t\t} else {\r\n\r\n\t\t\t\tthis.getView().byId(\"Inpreqtodat\").focus();\r\n\r\n\t\t\t\tvar _errMsg = \"To date can not be blank\";\r\n\t\t\t\tsap.m.MessageBox.show(_errMsg, sap.m.MessageBox.Icon.ERROR, \"Error\");\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tif (dateto < datefrom) {\r\n\t\t\t\tvar _errMsg = \"To Date should not be less than From Date\";\r\n\t\t\t\tsap.m.MessageBox.show(_errMsg, sap.m.MessageBox.Icon.ERROR, \"Error\");\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tvar v_plant = that.getView().byId(\"Combplant\").getSelectedKey();\r\n\t\t\tvar v_status = that.getView().byId(\"Combstatus\").getSelectedKey();\r\n\r\n\t\t\t//Added by Ramesh on 27-07-2021 for Distribution Channel\r\n\t\t\tvar v_dc = that.getView().byId(\"Combdistr\").getSelectedKey();\r\n\t\t\t//end by Ramesh on 27-07-2021\r\n\r\n\t\t\t//TMS Process\r\n\t\t\tvar v_nontmsprocess = this.getView().byId(\"RB3-2\").getSelected();\r\n\t\t\tvar v_tmsprocess = this.getView().byId(\"RB3-1\").getSelected();\r\n\t\t\t//TMS Process Selected\r\n\t\t\tif (v_tmsprocess == 'true') {\r\n\t\t\t\tv_tmsprocess = 'X';\r\n\t\t\t}\r\n\t\t\t//Non-TMS Process Selected\r\n\t\t\tif (v_nontmsprocess == 'true') {\r\n\t\t\t\tv_nontmsprocess = 'X';\r\n\t\t\t}\r\n\r\n\t\t\tif (v_nontmsprocess == true) {\r\n\t\t\t\t//Create all the records added to table via Json model\r\n\t\t\t\tvar oTable = this.getView().byId(\"table1\");\r\n\r\n\t\t\t\t// Get the table Model\r\n\t\t\t\tvar oModel1 = oTable.getModel();\r\n\r\n\t\t\t\t//start of new\r\n\t\t\t\tvar odataModel = this.getView().getModel();\r\n\t\t\t\t//if ( v_nontmsprocess = 'X'){\r\n\t\t\t\todataModel.read(\"/InvReqGrpSet\", {\r\n\t\t\t\t\tfilters: [\r\n\t\t\t\t\t\tnew sap.ui.model.Filter(\"Plant\", sap.ui.model.FilterOperator.EQ, v_plant),\r\n\t\t\t\t\t\tnew sap.ui.model.Filter(\"Status\", sap.ui.model.FilterOperator.EQ, v_status),\r\n\t\t\t\t\t\tnew sap.ui.model.Filter(\"InvDate\", sap.ui.model.FilterOperator.BT, date1, date2),\r\n\t\t\t\t\t\tnew sap.ui.model.Filter(\"DistributChanId\", sap.ui.model.FilterOperator.EQ, v_dc),\r\n\t\t\t\t\t\t//For NOn-TMS process\r\n\t\t\t\t\t\tnew sap.ui.model.Filter(\"TMSProcess\", sap.ui.model.FilterOperator.EQ, '')\r\n\r\n\t\t\t\t\t],\r\n\t\t\t\t\tsuccess: function(oData, oResponse) {\r\n\r\n\t\t\t\t\t\tvar tabledata = new sap.ui.model.json.JSONModel({\r\n\t\t\t\t\t\t\t\"Result\": oData.results\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\tvar oDateFormat = DateFormat.getDateInstance({\r\n\t\t\t\t\t\t\tsource: {\r\n\t\t\t\t\t\t\t\tpattern: \"timestamp\"\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\tpattern: \"dd/MM/yyyy\"\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\tvar it = 0;\r\n\t\t\t\t\t\t//Converts the dates and set back to oData\r\n\t\t\t\t\t\tfor (var i = 0; i < oData.results.length; i++) {\r\n\t\t\t\t\t\t\tvar odata1 = oData.results[i];\r\n\t\t\t\t\t\t\todata1.InvDate = (new Date(odata1.InvDate)).getTime() - (it % 10 * 4 * 24 * 60 * 60 * 1000);\r\n\t\t\t\t\t\t\todata1.InvDateStr = oDateFormat.format(new Date(odata1.InvDate));\r\n\t\t\t\t\t\t\t//   oData.results[i].InvDate = odata1.InvDateStr ;\r\n\t\t\t\t\t\t\todata1.TPermitDate = (new Date(odata1.TPermitDate)).getTime() - (it % 10 * 4 * 24 * 60 * 60 * 1000);\r\n\t\t\t\t\t\t\todata1.TPermitDateStr = oDateFormat.format(new Date(odata1.TPermitDate));\r\n\t\t\t\t\t\t\t//\toData.results[i].TPermitDate = odata1.TPermitDateStr ;\r\n\t\t\t\t\t\t\t//Update to request type\r\n\t\t\t\t\t\t\tif (odata1.Status == 2) {\r\n\t\t\t\t\t\t\t\todata1.ReqInv = odata1.RequestType;\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tvar tab = that.getView().byId(\"table1\");\r\n\t\t\t\t\t\tvar oJModel1 = tab.getModel();\r\n\t\t\t\t\t\tvar data1 = oData.results;\r\n\t\t\t\t\t\t//\tdata1= oData.results;\r\n\t\t\t\t\t\t//\toJModel1.setData({\r\n\t\t\t\t\t\t//\tdata: data1\r\n\t\t\t\t\t\t//\t});\r\n\t\t\t\t\t\ttab.setModel(tabledata);\r\n\r\n\t\t\t\t\t\ttabledata.setData({\r\n\t\t\t\t\t\t\tdata: data1\r\n\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\t},\r\n\t\t\t\t\terror: function(oError) {\r\n\t\t\t\t\t\t//\tthat.hideBusyIndicator();\r\n\t\t\t\t\t\tvar _errMsg1 = JSON.parse(oError.response.body).error.message.value;\r\n\t\t\t\t\t\tsap.m.MessageBox.show(_errMsg1, sap.m.MessageBox.Icon.ERROR, \"Error\");\r\n\t\t\t\t\t\t//\tthat.hideBusyIndicator();\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t\t//end of new \r\n\t\t\t//TMS Process\r\n\t\t\tif (v_tmsprocess == true) {\r\n\t\t\t\t//Create all the records added to table via Json model\r\n\t\t\t\tvar oTable = this.getView().byId(\"table1\");\r\n\r\n\t\t\t\t// Get the table Model\r\n\t\t\t\tvar oModel1 = oTable.getModel();\r\n\r\n\t\t\t\t//start of new\r\n\t\t\t\tvar odataModel = this.getView().getModel();\r\n\t\t\t\t//if ( v_nontmsprocess = 'X'){\r\n\t\t\t\todataModel.read(\"/InvReqGrpSet\", {\r\n\t\t\t\t\tfilters: [\r\n\t\t\t\t\t\tnew sap.ui.model.Filter(\"Plant\", sap.ui.model.FilterOperator.EQ, v_plant),\r\n\t\t\t\t\t\tnew sap.ui.model.Filter(\"Status\", sap.ui.model.FilterOperator.EQ, v_status),\r\n\t\t\t\t\t\tnew sap.ui.model.Filter(\"InvDate\", sap.ui.model.FilterOperator.BT, date1, date2),\r\n\t\t\t\t\t\tnew sap.ui.model.Filter(\"TMSProcess\", sap.ui.model.FilterOperator.EQ, 'X'),\r\n\t\t\t\t\t\tnew sap.ui.model.Filter(\"DistributChanId\", sap.ui.model.FilterOperator.EQ, v_dc)\r\n\r\n\t\t\t\t\t],\r\n\t\t\t\t\tsuccess: function(oData, oResponse) {\r\n\r\n\t\t\t\t\t\tvar tabledata = new sap.ui.model.json.JSONModel({\r\n\t\t\t\t\t\t\t\"Result\": oData.results\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\tvar oDateFormat = DateFormat.getDateInstance({\r\n\t\t\t\t\t\t\tsource: {\r\n\t\t\t\t\t\t\t\tpattern: \"timestamp\"\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\tpattern: \"dd/MM/yyyy\"\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\tvar it = 0;\r\n\t\t\t\t\t\t//Converts the dates and set back to oData\r\n\t\t\t\t\t\tfor (var i = 0; i < oData.results.length; i++) {\r\n\t\t\t\t\t\t\tvar odata1 = oData.results[i];\r\n\t\t\t\t\t\t\todata1.InvDate = (new Date(odata1.InvDate)).getTime() - (it % 10 * 4 * 24 * 60 * 60 * 1000);\r\n\t\t\t\t\t\t\todata1.InvDateStr = oDateFormat.format(new Date(odata1.InvDate));\r\n\t\t\t\t\t\t\t//   oData.results[i].InvDate = odata1.InvDateStr ;\r\n\t\t\t\t\t\t\todata1.TPermitDate = (new Date(odata1.TPermitDate)).getTime() - (it % 10 * 4 * 24 * 60 * 60 * 1000);\r\n\t\t\t\t\t\t\todata1.TPermitDateStr = oDateFormat.format(new Date(odata1.TPermitDate));\r\n\t\t\t\t\t\t\t//\toData.results[i].TPermitDate = odata1.TPermitDateStr ;\r\n\t\t\t\t\t\t\t//Update to request type\r\n\t\t\t\t\t\t\tif (odata1.Status == 2) {\r\n\t\t\t\t\t\t\t\todata1.ReqInv = odata1.RequestType;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tvar tab = that.getView().byId(\"table1\");\r\n\t\t\t\t\t\tvar oJModel1 = tab.getModel();\r\n\t\t\t\t\t\tvar data1 = oData.results;\r\n\t\t\t\t\t\ttab.setModel(tabledata);\r\n\r\n\t\t\t\t\t\ttabledata.setData({\r\n\t\t\t\t\t\t\tdata: data1\r\n\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\t},\r\n\t\t\t\t\terror: function(oError) {\r\n\t\t\t\t\t\t//\tthat.hideBusyIndicator();\r\n\t\t\t\t\t\tvar _errMsg1 = JSON.parse(oError.response.body).error.message.value;\r\n\t\t\t\t\t\tsap.m.MessageBox.show(_errMsg1, sap.m.MessageBox.Icon.ERROR, \"Error\");\r\n\t\t\t\t\t\t//\tthat.hideBusyIndicator();\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t}\r\n\r\n\t\t\t// Newly added this by Ramesh D\r\n\t\t},\r\n\r\n\t\t//\t************************On Edit Docket Function***************************************\r\n\t\t//\t*****************************************************************************************\r\n\t\tonItemEdit: function(oEvent) {\r\n\t\t\tvar select = this.getView().byId(\"table1\")._oSelection.aSelectedIndices.length;\r\n\t\t\tif (select == 0) {\r\n\t\t\t\tvar _errMsg = \"Please select atleast one row to Edit/Display record.\";\r\n\t\t\t\tsap.m.MessageBox.show(_errMsg, sap.m.MessageBox.Icon.ERROR, \"Error\");\r\n\t\t\t\treturn;\r\n\t\t\t} else if (select > 1) {\r\n\t\t\t\tvar _errMsg = \"Please select only one row to Edit/Display record.\";\r\n\t\t\t\tsap.m.MessageBox.show(_errMsg, sap.m.MessageBox.Icon.ERROR, \"Error\");\r\n\t\t\t\treturn;\r\n\t\t\t} else {\r\n\t\t\t\tvar selectindex = this.getView().byId(\"table1\")._oSelection.iLeadIndex;\r\n\t\t\t\tvar itemedit = this.getView().byId(\"table1\").getModel().getProperty(\"/data\");\r\n\t\t\t\tvar docIdVal = itemedit[selectindex].DocketNum;\r\n\t\t\t\t/*  for (var iedit = selectindex; iedit < itemedit.length + 1; iedit++) {\r\n\t\t\t\t  if(selectindex == iedit){\r\n\t\t\t\t  \tvar docIdVal= itemedit[selectindex].DocketNum\t;\r\n\t\t\t\t  }\r\n\t\t\t\t  }*/\r\n\t\t\t}\r\n\r\n\t\t\t//\tvar docIdVal=\"1006:JAN20:00003\"\t;\r\n\t\t\tthis.getOwnerComponent().getRouter().navTo(\"Edit_View\", {\r\n\t\t\t\tdocId: docIdVal\r\n\t\t\t});\r\n\t\t},\r\n\r\n\t\t//\t************************On Delete Docket Function***************************************\r\n\t\t//\t*****************************************************************************************\r\n\t\tonItemDelete: function(oEvent) {\r\n\t\t\tthat = this;\r\n\t\t\tvar select = this.getView().byId(\"table1\")._oSelection.aSelectedIndices.length;\r\n\t\t\tif (select == 0) {\r\n\t\t\t\tvar _errMsg = \"Please select atleast one row to delete a record.\";\r\n\t\t\t\tsap.m.MessageBox.show(_errMsg, sap.m.MessageBox.Icon.ERROR, \"Error\");\r\n\t\t\t\treturn;\r\n\t\t\t} else if (select > 1) {\r\n\t\t\t\tvar _errMsg = \"Please select only one row to delete a record.\";\r\n\t\t\t\tsap.m.MessageBox.show(_errMsg, sap.m.MessageBox.Icon.ERROR, \"Error\");\r\n\t\t\t\treturn;\r\n\t\t\t} else {\r\n\t\t\t\tvar selectindex = this.getView().byId(\"table1\")._oSelection.iLeadIndex;\r\n\t\t\t\tvar itemedit = this.getView().byId(\"table1\").getModel().getProperty(\"/data\");\r\n\t\t\t\tvar docIdVal = itemedit[selectindex].DocketNum;\r\n\t\t\t\tif (itemedit[selectindex].SoDocno !== \"\") {\r\n\t\t\t\t\tvar _errMsg = \"Sale Order-\" + itemedit[selectindex].SoDocno + \" is exists for the Docket Id-\" + docIdVal + \" Cannot delete\";\r\n\t\t\t\t\tsap.m.MessageBox.show(_errMsg, sap.m.MessageBox.Icon.INFORMATION, \"Information\");\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tsap.m.MessageBox.show(\"Are you sure to delete Docket-\" + docIdVal, {\r\n\t\t\t\t\ticon: sap.m.MessageBox.Icon.SUCCESS,\r\n\t\t\t\t\ttitle: \"Deletion of Document\",\r\n\t\t\t\t\tactions: [sap.m.MessageBox.Action.YES, sap.m.MessageBox.Action.NO],\r\n\t\t\t\t\tonClose: function(oAction) {\r\n\t\t\t\t\t\t\tif (oAction === \"YES\") {\r\n\r\n\t\t\t\t\t\t\t\t/*  code to delete document id */\r\n\t\t\t\t\t\t\t\tvar oModel = that.getView().getModel();\r\n\t\t\t\t\t\t\t\tvar delurl = \"/DcktInvEditSet(DocketNum='\" + docIdVal + \"')\";\r\n\t\t\t\t\t\t\t\toModel.setUseBatch(false);\r\n\t\t\t\t\t\t\t\t/*\toModel.setHeaders({\r\n\t\t\t\t\t\t\t\t\t\t\"X-Requested-With\": \"X\"\r\n\t\t\t\t\t\t\t\t\t}); */\r\n\t\t\t\t\t\t\t\toModel.remove(delurl, {\r\n\t\t\t\t\t\t\t\t\tsuccess: function(oData, oResponse) {\r\n\t\t\t\t\t\t\t\t\t\tvar message = \"Docket-\" + docIdVal + \" Removed successfully\";\r\n\t\t\t\t\t\t\t\t\t\tjQuery.sap.require(\"sap.m.MessageBox\");\r\n\t\t\t\t\t\t\t\t\t\tsap.m.MessageBox.show(message, {\r\n\t\t\t\t\t\t\t\t\t\t\ticon: sap.m.MessageBox.Icon.SUCCESS,\r\n\t\t\t\t\t\t\t\t\t\t\ttitle: \"Status\",\r\n\t\t\t\t\t\t\t\t\t\t\tactions: [sap.m.MessageBox.Action.OK],\r\n\t\t\t\t\t\t\t\t\t\t\tonClose: function(oAction) {\r\n\t\t\t\t\t\t\t\t\t\t\t\tthat.onSubmit();\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\terror: function(err, oResponse) {\r\n\t\t\t\t\t\t\t\t\t\tvar _errMsg = \"Error-\" + err.response.statusText;\r\n\t\t\t\t\t\t\t\t\t\tsap.m.MessageBox.show(_errMsg, sap.m.MessageBox.Icon.ERROR, \"Error\");\r\n\t\t\t\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}); //end of remove docket\r\n\t\t\t\t\t\t\t} //End of Action-Yes\r\n\t\t\t\t\t\t} //End of Action\r\n\t\t\t\t}); //end of delete doc id message box\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t//\t************************On ItemRefresh Function***************************************\r\n\t\t//\t*****************************************************************************************\r\n\t\tonItemRefresh: function(oEvent) {\r\n\t\t\tvar that = this;\r\n\t\t\t//Plant Validation\r\n\t\t\tvar plant1 = this.getView().byId(\"Combplant\").getSelectedKey();\r\n\t\t\tif (plant1 === \"\") {\r\n\t\t\t\t//\tthis.getView().byId(\"Combplant\").focus();\r\n\r\n\t\t\t\tvar _errMsg = \"Plant can not be blank\";\r\n\t\t\t\tsap.m.MessageBox.show(_errMsg, sap.m.MessageBox.Icon.ERROR, \"Error\");\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\t//Status Validation\r\n\t\t\tvar status1 = this.getView().byId(\"Combstatus\").getSelectedKey();\r\n\t\t\tif (status1 === \"\") {\r\n\t\t\t\t//this.getView().byId(\"Combstatus\").focus();\r\n\r\n\t\t\t\tvar _errMsg = \"Status can not be blank\";\r\n\t\t\t\tsap.m.MessageBox.show(_errMsg, sap.m.MessageBox.Icon.ERROR, \"Error\");\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tvar datefrom = this.getView().byId(\"Inpreqfrmdat\").getValue();\r\n\t\t\tvar date1 = datefrom;\r\n\t\t\tif (date1 !== \"\") {\r\n\t\t\t\tdate1 = date1 + \"T00:00:00\";\r\n\t\t\t} else {\r\n\t\t\t\tthis.getView().byId(\"Inpreqfrmdat\").focus();\r\n\r\n\t\t\t\tvar _errMsg = \"From date can not be blank\";\r\n\t\t\t\tsap.m.MessageBox.show(_errMsg, sap.m.MessageBox.Icon.ERROR, \"Error\");\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tvar dateto = this.getView().byId(\"Inpreqtodat\").getValue();\r\n\t\t\tvar date2 = dateto;\r\n\t\t\tif (date2 !== \"\") {\r\n\t\t\t\tdate2 = date2 + \"T00:00:00\";\r\n\t\t\t} else {\r\n\r\n\t\t\t\tthis.getView().byId(\"Inpreqtodat\").focus();\r\n\r\n\t\t\t\tvar _errMsg = \"To date can not be blank\";\r\n\t\t\t\tsap.m.MessageBox.show(_errMsg, sap.m.MessageBox.Icon.ERROR, \"Error\");\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tif (dateto < datefrom) {\r\n\t\t\t\tvar _errMsg = \"To Date should not be less than From Date\";\r\n\t\t\t\tsap.m.MessageBox.show(_errMsg, sap.m.MessageBox.Icon.ERROR, \"Error\");\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tvar v_plant = that.getView().byId(\"Combplant\").getSelectedKey();\r\n\t\t\tvar v_status = that.getView().byId(\"Combstatus\").getSelectedKey();\r\n\t\t\t//Create all the records added to table via Json model\r\n\t\t\tvar oTable = this.getView().byId(\"table1\");\r\n\r\n\t\t\t// Get the table Model\r\n\t\t\tvar oModel1 = oTable.getModel();\r\n\r\n\t\t\tvar odataModel = this.getView().getModel();\r\n\t\t\t/*\t\t\todataModel.read(\"/InvReqGrpSet\", {\r\n\t\t\t\t\t\t\tfilters: [\r\n\t\t\t\t\t\t\t\tnew sap.ui.model.Filter(\"Plant\", sap.ui.model.FilterOperator.EQ, v_plant),\r\n\t\t\t\t\t\t\t\tnew sap.ui.model.Filter(\"Status\", sap.ui.model.FilterOperator.EQ, v_status),\r\n\t\t\t\t\t\t\t\tnew sap.ui.model.Filter(\"InvDate\", sap.ui.model.FilterOperator.BT, date1, date2)\r\n\r\n\t\t\t\t\t\t\t\t/* new Filter(\"EndDate\", FilterOperator.EQ, \"9999.12.31\"),\r\n\t\t\t\t\t\t\t\t new Filter(\"DayOfWeek\", FilterOperator.EQ, \"0\"),\r\n\t\t\t\t\t\t\t\t new Filter(\"SequenceNumber\", FilterOperator.EQ, \"00\"), */\r\n\t\t\t/*\t],\r\n\t\t\t\tsuccess: function(oData, oResponse) {\r\n\t\t\t\t\t//\talert(\" Refresh  called. \");\r\n\t\t\t\t\t//  oTable.setModel(oModel1);\r\n\t\t\t\t\t// oTable.setEntitySet(\"/InvReqGrpSet\");\r\n\t\t\t\t\tif (oResponse.statusCode == 200 && oData.MsgType == \"E\") {\r\n\t\t\t\t\t\tvar _errMsg = oData.Msg;\r\n\t\t\t\t\t\tsap.m.MessageBox.show(_errMsg, sap.m.MessageBox.Icon.ERROR, \"Error\");\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tvar tabledata = new sap.ui.model.json.JSONModel({\r\n\t\t\t\t\t\t\"Result\": oData.results\r\n\t\t\t\t\t});\r\n\t\t\t\t\tvar oDateFormat = DateFormat.getDateInstance({\r\n\t\t\t\t\t\tsource: {\r\n\t\t\t\t\t\t\tpattern: \"timestamp\"\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tpattern: \"dd/MM/yyyy\"\r\n\t\t\t\t\t});\r\n\t\t\t\t\tvar it = 0;\r\n\t\t\t\t\t//Converts the date and set back to the oData\r\n\t\t\t\t\tfor (var i = 0; i < oData.results.length; i++) {\r\n\t\t\t\t\t\tvar odata1 = oData.results[i];\r\n\t\t\t\t\t\todata1.InvDate = (new Date(odata1.InvDate)).getTime() - (it % 10 * 4 * 24 * 60 * 60 * 1000);\r\n\t\t\t\t\t\todata1.InvDateStr = oDateFormat.format(new Date(odata1.InvDate));\r\n\r\n\t\t\t\t\t\todata1.TPermitDate = (new Date(odata1.TPermitDate)).getTime() - (it % 10 * 4 * 24 * 60 * 60 * 1000);\r\n\t\t\t\t\t\todata1.TPermitDateStr = oDateFormat.format(new Date(odata1.TPermitDate));\r\n\t\t\t\t\t}\r\n\t\t\t\t\tvar tab = that.getView().byId(\"table1\");\r\n\t\t\t\t\tvar oJModel1 = tab.getModel();\r\n\t\t\t\t\tvar data1 = oData.results;\r\n\t\t\t\t\ttab.setModel(tabledata);\r\n\r\n\t\t\t\t\ttabledata.setData({\r\n\t\t\t\t\t\tdata: data1\r\n\t\t\t\t\t});\r\n\r\n\t\t\t\t},\r\n\t\t\t\terror: function(oError) {\r\n\t\t\t\t\t//\tthat.hideBusyIndicator();\r\n\t\t\t\t\tvar _errMsg1 = JSON.parse(oError.response.body).error.message.value;\r\n\t\t\t\t\tsap.m.MessageBox.show(_errMsg1, sap.m.MessageBox.Icon.ERROR, \"Error\");\r\n\t\t\t\t\t//\tthat.hideBusyIndicator();\r\n\t\t\t\t}\r\n\t\t\t});*/\r\n\r\n\t\t},\r\n\r\n\t\t//-------------------------on Proforma Invoice Request-----------------------------------//\r\n\r\n\t\tonProrequest: function(oEvent) {\r\n\t\t\tthat = this;\r\n\t\t\t//Create all the records added to table via Json model\r\n\t\t\tvar oTable1 = this.getView().byId(\"table1\");\r\n\t\t\t// Get the table Model\r\n\t\t\tvar oModel3 = oTable1.getModel();\r\n\t\t\t// Get Items of the Table\r\n\t\t\tvar aItems = oModel3.getData().data; //oTable.getItems();\r\n\t\t\tvar i = 0,\r\n\t\t\t\tpath,\r\n\t\t\t\tidx;\r\n\t\t\tpath = oEvent.getSource().getBindingContext().sPath;\r\n\t\t\tidx = parseInt(path.substring(path.lastIndexOf('/') + 1));\r\n\t\t\tvar selRow = oEvent.getSource().getBindingContext().getObject();\r\n\t\t\t// Define an empty Array\r\n\t\t\tvar sel_truckNumber = selRow.TruckNumber;\r\n\t\t\tvar oDateFormat = DateFormat.getDateInstance({\r\n\t\t\t\tsource: {\r\n\t\t\t\t\tpattern: \"timestamp\"\r\n\t\t\t\t},\r\n\t\t\t\tpattern: \"yyyy-MM-dd\"\r\n\t\t\t});\r\n\t\t\tvar itemData = [];\r\n\t\t\t//Preparing item data\r\n\t\t\tfor (var iRowIndex = idx; iRowIndex < aItems.length; iRowIndex++) {\r\n\t\t\t\tvar l_Status = oModel3.getProperty(\"Status\", aItems[iRowIndex]);\r\n\t\t\t\tvar l_ReqInv = oModel3.getProperty(\"ReqInv\", aItems[iRowIndex]);\r\n\t\t\t\tvar l_Plant = oModel3.getProperty(\"Plant\", aItems[iRowIndex]);\r\n\t\t\t\tvar l_TruckNumber = oModel3.getProperty(\"TruckNumber\", aItems[iRowIndex]);\r\n\t\t\t\tvar l_DocketNum = oModel3.getProperty(\"DocketNum\", aItems[iRowIndex]);\r\n\t\t\t\tif ((sel_truckNumber !== \"\" && sel_truckNumber == l_TruckNumber) ||\r\n\t\t\t\t\t(sel_truckNumber == \"\" && selRow.DocketNum == l_DocketNum)) {\r\n\t\t\t\t\t//\tif (sel_truckNumber == l_TruckNumber) {\r\n\t\t\t\t\tvar l_InvDate = oModel3.getProperty(\"InvDate\", aItems[iRowIndex]);\r\n\t\t\t\t\tl_InvDate = oDateFormat.format(new Date(l_InvDate));\r\n\r\n\t\t\t\t\tif (l_InvDate !== \"\") {\r\n\t\t\t\t\t\tl_InvDate = l_InvDate + \"T00:00:00\";\r\n\t\t\t\t\t}\r\n\t\t\t\t\t//\tvar l_DocketNum = oModel3.getProperty(\"DocketNum\", aItems[iRowIndex]);\r\n\t\t\t\t\tvar l_SoDocno = oModel3.getProperty(\"SoDocno\", aItems[iRowIndex]);\r\n\t\t\t\t\tvar l_VendorCode = oModel3.getProperty(\"VendorCode\", aItems[iRowIndex]);\r\n\r\n\t\t\t\t\tvar l_TruckType = oModel3.getProperty(\"TruckType\", aItems[iRowIndex]);\r\n\t\t\t\t\tvar l_MilkRun = oModel3.getProperty(\"MilkRun\", aItems[iRowIndex]);\r\n\t\t\t\t\tvar l_Customer = oModel3.getProperty(\"Customer\", aItems[iRowIndex]);\r\n\t\t\t\t\tvar l_CustName = oModel3.getProperty(\"CustName\", aItems[iRowIndex]);\r\n\r\n\t\t\t\t\tvar l_TPermitNum = oModel3.getProperty(\"TPermitNum\", aItems[iRowIndex]);\r\n\t\t\t\t\tvar l_TPermitDate = oModel3.getProperty(\"TPermitDate\", aItems[iRowIndex]);\r\n\t\t\t\t\tl_TPermitDate = oDateFormat.format(new Date(l_TPermitDate));\r\n\t\t\t\t\tif (l_TPermitDate !== \"\") {\r\n\t\t\t\t\t\tl_TPermitDate = l_TPermitDate + \"T00:00:00\";\r\n\t\t\t\t\t}\r\n\t\t\t\t\tvar l_RequestType = oModel3.getProperty(\"RequestType\", aItems[iRowIndex]);\r\n\r\n\t\t\t\t\titemData.push({\r\n\t\t\t\t\t\tDocketNum: l_DocketNum,\r\n\t\t\t\t\t\tSoDocno: l_SoDocno,\r\n\t\t\t\t\t\tVendorCode: l_VendorCode,\r\n\t\t\t\t\t\tTruckType: l_TruckType,\r\n\t\t\t\t\t\tMilkRun: l_MilkRun,\r\n\t\t\t\t\t\tCustomer: l_Customer,\r\n\t\t\t\t\t\tCustName: l_CustName,\r\n\t\t\t\t\t\tTruckNumber: l_TruckNumber,\r\n\t\t\t\t\t\tTPermitNum: l_TPermitNum,\r\n\t\t\t\t\t\tTPermitDate: l_TPermitDate,\r\n\t\t\t\t\t\tRequestType: l_RequestType,\r\n\t\t\t\t\t\tStatus: l_Status,\r\n\t\t\t\t\t\tInvDate: l_InvDate,\r\n\t\t\t\t\t\tReqInv: l_ReqInv,\r\n\t\t\t\t\t\tPlant: l_Plant\r\n\r\n\t\t\t\t\t}); // end item datapush\r\n\t\t\t\t} //end of truck number\r\n\t\t\t} //end forloop\r\n\t\t\t//adding on 31 st May by Ramesh D \r\n\t\t\t//Getting Invoice Process \r\n\t\t\tvar v_ProformaInv = '';\r\n\t\t\tvar v_ProformaInv = selRow.Profermaind;\r\n\t\t\t// End of change by Ramesh D\r\n\t\t\t// Create one emtpy Object\r\n\t\t\tvar oEntry1 = {};\r\n\t\t\tif (selRow.Status !== \"\") {\r\n\t\t\t\toEntry1.Status = selRow.Status;\r\n\t\t\t}\r\n\t\t\tvar invdate = selRow.InvDate;\r\n\t\t\tinvdate = oDateFormat.format(new Date(invdate));\r\n\t\t\tif (invdate !== \"\") {\r\n\t\t\t\toEntry1.InvDate = invdate + \"T00:00:00\";\r\n\t\t\t}\r\n\t\t\tif (selRow.DocketNum !== \"\") {\r\n\t\t\t\toEntry1.DocketNum = selRow.DocketNum;\r\n\t\t\t}\r\n\t\t\tif (selRow.SoDocno !== \"\") {\r\n\t\t\t\toEntry1.SoDocno = selRow.SoDocno;\r\n\t\t\t}\r\n\t\t\tif (selRow.VendorCode !== \"\") {\r\n\t\t\t\toEntry1.VendorCode = selRow.VendorCode;\r\n\t\t\t}\r\n\t\t\tif (selRow.TruckType !== \"\") {\r\n\t\t\t\toEntry1.TruckType = selRow.TruckType;\r\n\t\t\t}\r\n\t\t\tif (selRow.MilkRun !== \"\") {\r\n\t\t\t\toEntry1.MilkRun = selRow.MilkRun;\r\n\t\t\t}\r\n\t\t\tif (selRow.Customer !== \"\") {\r\n\t\t\t\toEntry1.Customer = selRow.Customer;\r\n\t\t\t}\r\n\t\t\tif (selRow.CustName !== \"\") {\r\n\t\t\t\toEntry1.CustName = selRow.CustName;\r\n\t\t\t}\r\n\t\t\tif (selRow.TruckNumber !== \"\") {\r\n\t\t\t\toEntry1.TruckNumber = selRow.TruckNumber;\r\n\t\t\t}\r\n\t\t\tif (selRow.TPermitNum !== \"\") {\r\n\t\t\t\toEntry1.TPermitNum = selRow.TPermitNum;\r\n\t\t\t}\r\n\t\t\tvar tpermitdate = selRow.TPermitDate;\r\n\t\t\ttpermitdate = oDateFormat.format(new Date(tpermitdate));\r\n\t\t\tif (tpermitdate !== \"\") {\r\n\t\t\t\toEntry1.TPermitDate = tpermitdate + \"T00:00:00\";\r\n\t\t\t}\r\n\t\t\tif (selRow.RequestType !== \"\") {\r\n\t\t\t\toEntry1.RequestType = selRow.RequestType;\r\n\t\t\t}\r\n\t\t\tif (selRow.Plant !== \"\") {\r\n\t\t\t\toEntry1.Plant = selRow.Plant;\r\n\t\t\t}\r\n\t\t\t//This is for Proforma Invoice creation\r\n\t\t\tif (v_ProformaInv == 'SalesOrder') {\r\n\t\t\t\tif (itemData.length > 0) {\r\n\t\t\t\t\toEntry1.SlsGrpNavReq = itemData;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t// End of Proforma condition\r\n\t\t\t// New condition for creating Sales Order Invoice for Proforma\r\n\t\t\tif (v_ProformaInv == 'SalesOrder') {\r\n\t\t\t\t//Set the Model and call the .create function to call the OData Service.\r\n\t\t\t\t//\tvar oModel3 = new sap.ui.model.odata.ODataModel(\"http://sapbwdev02.corp.usl.in:8020/sap/opu/odata/sap/ZDLT_SALES_INVOICE_SRV\");\r\n\t\t\t\tvar oModel3 = new sap.ui.model.odata.ODataModel(\"/sap/opu/odata/sap/ZDLT_SALES_INVOICE_SRV\");\r\n\r\n\t\t\t\tthis.getView().setModel(oModel3);\r\n\r\n\t\t\t\toModel3.setHeaders({\r\n\t\t\t\t\t\"X-Requested-With\": \"X\"\r\n\t\t\t\t});\r\n\t\t\t\tsap.m.MessageBox.show(\"Sales Order is requested\", {\r\n\t\t\t\t\ticon: sap.m.MessageBox.Icon.SUCCESS,\r\n\t\t\t\t\ttitle: \"Status\",\r\n\t\t\t\t\tactions: [sap.m.MessageBox.Action.OK],\r\n\t\t\t\t\tonClose: function(oAction) {\r\n\r\n\t\t\t\t\t\t//DcktInvDstlSet  DcktInvNavItem\r\n\t\t\t\t\t\toModel3.create(\"/SlsReqGrpSet\", oEntry1, {\r\n\r\n\t\t\t\t\t\t\tsuccess: function(oData, oResponse) {\r\n\t\t\t\t\t\t\t\t//Update the table\r\n\t\t\t\t\t\t\t\tthat.getView().byId(\"Combplant\").setSelectedKey(l_Plant);\r\n\t\t\t\t\t\t\t\tthat.getView().byId(\"Combstatus\").setSelectedKey(l_Status);\r\n\t\t\t\t\t\t\t\tif (oResponse.statusCode == 201 && oData.MsgType == \"E\") {\r\n\t\t\t\t\t\t\t\t\tthat.onSubmit();\r\n\t\t\t\t\t\t\t\t\tvar _errMsg = oData.Msg;\r\n\t\t\t\t\t\t\t\t\tsap.m.MessageBox.show(_errMsg, sap.m.MessageBox.Icon.ERROR, \"Error\");\r\n\t\t\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t//End of Invoice List Dialog\r\n\t\t\t\t\t\t\t\t\tvar successObj = \"\"; //oResponse.data.DocketNum;\r\n\t\t\t\t\t\t\t\t\tvar message = \"Sales Order : \" + successObj + \"  \" + \"created successfully\";\r\n\r\n\t\t\t\t\t\t\t\t\tjQuery.sap.require(\"sap.m.MessageBox\");\r\n\r\n\t\t\t\t\t\t\t\t\tsap.m.MessageBox.show(message, {\r\n\t\t\t\t\t\t\t\t\t\ticon: sap.m.MessageBox.Icon.SUCCESS,\r\n\t\t\t\t\t\t\t\t\t\ttitle: \"Sales Order Update Status\",\r\n\t\t\t\t\t\t\t\t\t\tactions: [sap.m.MessageBox.Action.OK],\r\n\t\t\t\t\t\t\t\t\t\tonClose: function(oAction) {\r\n\t\t\t\t\t\t\t\t\t\t\tthat.onSubmit();\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\terror: function(oError) {\r\n\t\t\t\t\t\t\t\tvar _errMsg = oError.message + \";  \" + oError.statusText;\r\n\t\t\t\t\t\t\t\tsap.m.MessageBox.show(_errMsg, sap.m.MessageBox.Icon.ERROR, \"Error\");\r\n\t\t\t\t\t\t\t\t//that.getView().setBusy(false);\r\n\t\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t}); //end of create Proforma request method\r\n\t\t\t\t\t}\r\n\t\t\t\t}); //end of message on request ok button\r\n\t\t\t}\r\n\t\t}, //End of On  Proforma Invoice Request\r\n\t\t//-----------------------End of Proforma Invoice Request------------------------------//\r\n\r\n\t\t//\t************************Submit Function***************************************\r\n\t\t//\t******************************************************************************\r\n\t\t//onRequest: function(oEvent) {\r\n\t\tonRqinv: function(oEvent) {\r\n\t\t\tthat = this;\r\n\t\t\t//Condition to trigger when No record is selected for process by Ramesh on 25-07-2021\r\n\t\t\tvar select = this.getView().byId(\"table1\")._oSelection.aSelectedIndices.length;\r\n\t\t\tif (select == 0) {\r\n\t\t\t\tvar _errMsg = \"Please select atleast one row to Process Document.\";\r\n\t\t\t\tsap.m.MessageBox.show(_errMsg, sap.m.MessageBox.Icon.ERROR, \"Error\");\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\t//added on 26-07-2021 by Ramesh\r\n\t\t\tvar oForm = sap.ui.getCore().byId(\"detailList\");\r\n\t\t\t//end on 26-07-2021 by Ramesh\r\n\t\t\t//End of Selected for process by Ramesh on 25-07-2021\r\n\t\t\tvar oTable = this.byId(\"table1\");\r\n\t\t\t//Index  number for Selected Row\r\n\t\t\tvar iIndex = oTable.getSelectedIndex();\r\n\t\t\t// Indices for Selected Row\r\n\t\t\tvar aIndices = this.byId(\"table1\").getSelectedIndices();\r\n\t\t\t//Get selected Row Records\r\n\t\t\tvar vSrdata = oTable.getContextByIndex(iIndex).getObject();\r\n\t\t\t//\tsap.ui.core.BusyIndicator.show(0);\r\n\t\t\tvar vData = that.getView().byId(\"table1\").getModel().getProperty(\"/data\");\r\n\t\t\tvar docIdVal = vData[iIndex].DocketNum;\r\n\t\t\tvar vSrvUrl = \"/sap/opu/odata/sap/ZDLT_SALES_INVOICE_SRV\";\r\n\t\t\tvar oModel = new sap.ui.model.odata.v2.ODataModel(vSrvUrl, {\r\n\t\t\t\tdefaultBindingMode: sap.ui.model.BindingMode.TwoWay\r\n\t\t\t});\r\n\t\t\tthat.getView().setModel(oModel);\r\n\t\t\t//\tvar sServiceURL = that.getView().getModel().sServiceUrl;\r\n\t\t\tvar sSource = \"/HouListSet('\" + docIdVal + \"')\";\r\n\t\t\tsap.ui.getCore().setModel(oModel);\r\n\t\t\t// Get the table Model\r\n\t\t\toModel.read(sSource, {\r\n\t\t\t\t/*\tfilters: [\r\n\t\t\t\t\t\tnew sap.ui.model.Filter(\"DocketNum\", sap.ui.model.FilterOperator.EQ, docIdVal)\r\n\r\n\t\t\t\t\t],*/\r\n\t\t\t\tsuccess: function(oData, oResponse) {\r\n\t\t\t\t\tvar trr = new sap.ui.model.json.JSONModel({\r\n\t\t\t\t\t\t\"list\": oData.results\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\tvar oTable1 = this.getView().byId(\"table1\");\r\n\t\t\t// Get the table Model\r\n\t\t\tvar oModel3 = oTable1.getModel();\r\n\t\t\t// Get Items of the Table\r\n\t\t\tvar aItems = oModel3.getData().data; //oTable.getItems();\r\n\t\t\t//Local Variable Declarations\r\n\t\t\tvar i = 0,\r\n\t\t\t\tpath,\r\n\t\t\t\tidx;\r\n\t\t\t//Commented by Ramesh on 25-07-2021\r\n\t\t\t//\tpath = oEvent.getSource().getBindingContext().sPath;\r\n\t\t\t//\tidx = parseInt(path.substring(path.lastIndexOf('/') + 1));\r\n\t\t\t//var selRow = oEvent.getSource().getBindingContext().getObject();\r\n\t\t\t//End 25-07-2021\r\n\t\t\tidx = oTable1.getSelectedIndex();\r\n\t\t\tvar selRow = oTable.getContextByIndex(idx).getObject();\r\n\t\t\t// Define an empty Array\r\n\t\t\tvar sel_truckNumber = selRow.TruckNumber;\r\n\t\t\tvar oDateFormat = DateFormat.getDateInstance({\r\n\t\t\t\tsource: {\r\n\t\t\t\t\tpattern: \"timestamp\"\r\n\t\t\t\t},\r\n\t\t\t\tpattern: \"yyyy-MM-dd\"\r\n\t\t\t});\r\n\t\t\tvar itemData = [];\r\n\t\t\t/*\tif(idx == 0){\r\n\t\t\t\t\tidx = -1;\r\n\t\t\t\t}*/\r\n\t\t\t//Added by Ramesh Damera as part New CR on 31st August 2021\r\n\t\t\tvar l_Ctms = this.getView().byId(\"RB3-1\").getSelected();\r\n\t\t\tif (l_Ctms == true) {\r\n\t\t\t\tvar l_Tms = 'X';\r\n\t\t\t}\r\n\t\t\t//End\r\n\t\t\t//Preparing item data\r\n\t\t\tfor (var iRowIndex = idx; iRowIndex < aItems.length; iRowIndex++) {\r\n\t\t\t\t//\tvar l_material = oModel3.getProperty(\"MaterialCode\", aItems[iRowIndex]); \r\n\r\n\t\t\t\tvar l_Status = oModel3.getProperty(\"Status\", aItems[iRowIndex]);\r\n\t\t\t\tvar l_ReqInv = oModel3.getProperty(\"ReqInv\", aItems[iRowIndex]);\r\n\t\t\t\tvar l_Plant = oModel3.getProperty(\"Plant\", aItems[iRowIndex]);\r\n\t\t\t\tvar l_TruckNumber = oModel3.getProperty(\"TruckNumber\", aItems[iRowIndex]);\r\n\t\t\t\tvar l_DocketNum = oModel3.getProperty(\"DocketNum\", aItems[iRowIndex]);\r\n\t\t\t\tif ((sel_truckNumber !== \"\" && sel_truckNumber == l_TruckNumber) ||\r\n\t\t\t\t\t(sel_truckNumber == \"\" && selRow.DocketNum == l_DocketNum)) {\r\n\t\t\t\t\t//\tif (sel_truckNumber == l_TruckNumber) {\r\n\t\t\t\t\tvar l_InvDate = oModel3.getProperty(\"InvDate\", aItems[iRowIndex]);\r\n\t\t\t\t\tl_InvDate = oDateFormat.format(new Date(l_InvDate));\r\n\r\n\t\t\t\t\tif (l_InvDate !== \"\") {\r\n\t\t\t\t\t\tl_InvDate = l_InvDate + \"T00:00:00\";\r\n\t\t\t\t\t}\r\n\t\t\t\t\t//\tvar l_DocketNum = oModel3.getProperty(\"DocketNum\", aItems[iRowIndex]);\r\n\t\t\t\t\tvar l_SoDocno = oModel3.getProperty(\"SoDocno\", aItems[iRowIndex]);\r\n\t\t\t\t\tvar l_VendorCode = oModel3.getProperty(\"VendorCode\", aItems[iRowIndex]);\r\n\r\n\t\t\t\t\tvar l_TruckType = oModel3.getProperty(\"TruckType\", aItems[iRowIndex]);\r\n\t\t\t\t\tvar l_MilkRun = oModel3.getProperty(\"MilkRun\", aItems[iRowIndex]);\r\n\t\t\t\t\tvar l_Customer = oModel3.getProperty(\"Customer\", aItems[iRowIndex]);\r\n\t\t\t\t\tvar l_CustName = oModel3.getProperty(\"CustName\", aItems[iRowIndex]);\r\n\r\n\t\t\t\t\tvar l_TPermitNum = oModel3.getProperty(\"TPermitNum\", aItems[iRowIndex]);\r\n\t\t\t\t\tvar l_TPermitDate = oModel3.getProperty(\"TPermitDate\", aItems[iRowIndex]);\r\n\t\t\t\t\tl_TPermitDate = oDateFormat.format(new Date(l_TPermitDate));\r\n\t\t\t\t\tif (l_TPermitDate !== \"\") {\r\n\t\t\t\t\t\tl_TPermitDate = l_TPermitDate + \"T00:00:00\";\r\n\t\t\t\t\t}\r\n\t\t\t\t\tvar l_RequestType = oModel3.getProperty(\"RequestType\", aItems[iRowIndex]);\r\n\t\t\t\t\t//\tvar l_Plant= oModel3.getProperty(\"Plant\", aItems[iRowIndex]); \r\n\r\n\t\t\t\t\titemData.push({\r\n\t\t\t\t\t\t//\tMaterialCode: l_material,\r\n\r\n\t\t\t\t\t\tDocketNum: l_DocketNum,\r\n\t\t\t\t\t\tSoDocno: l_SoDocno,\r\n\t\t\t\t\t\tVendorCode: l_VendorCode,\r\n\t\t\t\t\t\tTruckType: l_TruckType,\r\n\t\t\t\t\t\tMilkRun: l_MilkRun,\r\n\t\t\t\t\t\tCustomer: l_Customer,\r\n\t\t\t\t\t\tCustName: l_CustName,\r\n\t\t\t\t\t\tTruckNumber: l_TruckNumber,\r\n\t\t\t\t\t\tTPermitNum: l_TPermitNum,\r\n\t\t\t\t\t\tTPermitDate: l_TPermitDate,\r\n\t\t\t\t\t\tRequestType: l_RequestType,\r\n\t\t\t\t\t\tStatus: l_Status,\r\n\t\t\t\t\t\tInvDate: l_InvDate,\r\n\t\t\t\t\t\tReqInv: l_ReqInv,\r\n\t\t\t\t\t\tPlant: l_Plant\r\n\r\n\t\t\t\t\t}); // end item datapush\r\n\r\n\t\t\t\t} //end of truck number\r\n\t\t\t\t//if truck num is initial; then take docket number as group\r\n\t\t\t\t/*\tif(sel_truckNumber == \"\" && selRow.DocketNum == l_DocketNum) {\r\n\t\t\t\t\tvar l_InvDate = oModel3.getProperty(\"InvDate\", aItems[iRowIndex]);\r\n\t\t\t\t\tl_InvDate = oDateFormat.format(new Date(l_InvDate));\r\n\r\n\t\t\t\t\tif (l_InvDate !== \"\") {\r\n\t\t\t\t\t\tl_InvDate = l_InvDate + \"T00:00:00\";\r\n\t\t\t\t\t}\r\n\t\t\t\t//\tvar l_DocketNum = oModel3.getProperty(\"DocketNum\", aItems[iRowIndex]);\r\n\t\t\t\t\tvar l_SoDocno = oModel3.getProperty(\"SoDocno\", aItems[iRowIndex]);\r\n\t\t\t\t\tvar l_VendorCode = oModel3.getProperty(\"VendorCode\", aItems[iRowIndex]);\r\n\r\n\t\t\t\t\tvar l_TruckType = oModel3.getProperty(\"TruckType\", aItems[iRowIndex]);\r\n\t\t\t\t\tvar l_MilkRun = oModel3.getProperty(\"MilkRun\", aItems[iRowIndex]);\r\n\t\t\t\t\tvar l_Customer = oModel3.getProperty(\"Customer\", aItems[iRowIndex]);\r\n\t\t\t\t\tvar l_CustName = oModel3.getProperty(\"CustName\", aItems[iRowIndex]);\r\n\r\n\t\t\t\t\tvar l_TPermitNum = oModel3.getProperty(\"TPermitNum\", aItems[iRowIndex]);\r\n\t\t\t\t\tvar l_TPermitDate = oModel3.getProperty(\"TPermitDate\", aItems[iRowIndex]);\r\n\t\t\t\t\tl_TPermitDate = oDateFormat.format(new Date(l_TPermitDate));\r\n\t\t\t\t\tif (l_TPermitDate !== \"\") {\r\n\t\t\t\t\t\tl_TPermitDate = l_TPermitDate + \"T00:00:00\";\r\n\t\t\t\t\t}\r\n\t\t\t\t\tvar l_RequestType = oModel3.getProperty(\"RequestType\", aItems[iRowIndex]);\r\n\t\t\t\t\t//\tvar l_Plant= oModel3.getProperty(\"Plant\", aItems[iRowIndex]); \r\n\r\n\t\t\t\t\titemData.push({\r\n\t\t\t\t\t\t//\tMaterialCode: l_material,\r\n\r\n\t\t\t\t\t\tDocketNum: l_DocketNum,\r\n\t\t\t\t\t\tSoDocno: l_SoDocno,\r\n\t\t\t\t\t\tVendorCode: l_VendorCode,\r\n\t\t\t\t\t\tTruckType: l_TruckType,\r\n\r\n\t\t\t\t\t\tMilkRun: l_MilkRun,\r\n\t\t\t\t\t\tCustomer: l_Customer,\r\n\t\t\t\t\t\tCustName: l_CustName,\r\n\t\t\t\t\t\tTruckNumber: l_TruckNumber,\r\n\t\t\t\t\t\tTPermitNum: l_TPermitNum,\r\n\t\t\t\t\t\tTPermitDate: l_TPermitDate,\r\n\t\t\t\t\t\tRequestType: l_RequestType,\r\n\t\t\t\t\t\tStatus: l_Status,\r\n\t\t\t\t\t\tInvDate: l_InvDate,\r\n\t\t\t\t\t\tReqInv: l_ReqInv,\r\n\t\t\t\t\t\tPlant: l_Plant\r\n\r\n\t\t\t\t\t}); // end item datapush\r\n\t\t\t\t\t}*/ //endif \r\n\t\t\t} //end forloop\r\n\t\t\t//adding on 31 st May by Ramesh D \r\n\t\t\t//Getting Invoice Process \r\n\t\t\tvar v_Reqinv = '';\r\n\t\t\tvar v_Reqinv = itemData[0].ReqInv;\r\n\t\t\tvar v_ProformaInv = '';\r\n\t\t\tvar v_ProformaInv = itemData[0].Profermaind;\r\n\t\t\t// End of change by Ramesh D\r\n\t\t\t// Create one emtpy Object\r\n\t\t\tvar oEntry1 = {};\r\n\t\t\tif (selRow.Status !== \"\") {\r\n\t\t\t\toEntry1.Status = selRow.Status;\r\n\t\t\t}\r\n\t\t\tvar invdate = selRow.InvDate;\r\n\t\t\tinvdate = oDateFormat.format(new Date(invdate));\r\n\t\t\tif (invdate !== \"\") {\r\n\t\t\t\toEntry1.InvDate = invdate + \"T00:00:00\";\r\n\t\t\t}\r\n\t\t\tif (selRow.DocketNum !== \"\") {\r\n\t\t\t\toEntry1.DocketNum = selRow.DocketNum;\r\n\t\t\t}\r\n\t\t\tif (selRow.SoDocno !== \"\") {\r\n\t\t\t\toEntry1.SoDocno = selRow.SoDocno;\r\n\t\t\t}\r\n\t\t\tif (selRow.VendorCode !== \"\") {\r\n\t\t\t\toEntry1.VendorCode = selRow.VendorCode;\r\n\t\t\t}\r\n\t\t\tif (selRow.TruckType !== \"\") {\r\n\t\t\t\toEntry1.TruckType = selRow.TruckType;\r\n\t\t\t}\r\n\t\t\tif (selRow.MilkRun !== \"\") {\r\n\t\t\t\toEntry1.MilkRun = selRow.MilkRun;\r\n\t\t\t}\r\n\t\t\tif (selRow.Customer !== \"\") {\r\n\t\t\t\toEntry1.Customer = selRow.Customer;\r\n\t\t\t}\r\n\t\t\tif (selRow.CustName !== \"\") {\r\n\t\t\t\toEntry1.CustName = selRow.CustName;\r\n\t\t\t}\r\n\t\t\tif (selRow.TruckNumber !== \"\") {\r\n\t\t\t\toEntry1.TruckNumber = selRow.TruckNumber;\r\n\t\t\t}\r\n\t\t\tif (selRow.TPermitNum !== \"\") {\r\n\t\t\t\toEntry1.TPermitNum = selRow.TPermitNum;\r\n\t\t\t}\r\n\t\t\tvar tpermitdate = selRow.TPermitDate;\r\n\t\t\ttpermitdate = oDateFormat.format(new Date(tpermitdate));\r\n\t\t\tif (tpermitdate !== \"\") {\r\n\t\t\t\toEntry1.TPermitDate = tpermitdate + \"T00:00:00\";\r\n\t\t\t}\r\n\t\t\tif (selRow.RequestType !== \"\") {\r\n\t\t\t\toEntry1.RequestType = selRow.RequestType;\r\n\t\t\t}\r\n\t\t\tif (selRow.Plant !== \"\") {\r\n\t\t\t\toEntry1.Plant = selRow.Plant;\r\n\t\t\t}\r\n\t\t\t//Added by Ramesh Damera as part of New CR on 31st August 2021\r\n\t\t\tif (selRow.TMSProcess == \"\") {\r\n\t\t\t\toEntry1.TMSProcess = l_Tms;\r\n\t\t\t}\r\n\t\t\t//End\r\n\t\t\t// Link Pack items to the Pack header\r\n\t\t\t// Very very Important. Here the name should be exactly like the Entity Set at Backend OData\r\n\t\t\t// InvGrpToReqSet is the same name at back end\r\n\t\t\t//Condition to trigger the TMS process and Non-TMS process\r\n\t\t\tif (v_Reqinv == 'RequestInvoice') {\r\n\t\t\t\tif (itemData.length > 0) {\r\n\t\t\t\t\toEntry1.InvGrpNavReq = itemData;\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tif (itemData.length > 0) {\r\n\t\t\t\t\toEntry1.TMSGrpNavReq = itemData;\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\t\t\t//This is for Proforma Invoice creation\r\n\t\t\tif (v_ProformaInv == 'SalesOrder') {\r\n\t\t\t\tif (itemData.length > 0) {\r\n\t\t\t\t\toEntry1.SlsGrpNavReq = itemData;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t// End of Proforma condition\r\n\t\t\t// New condition for creating Sales Order Invoice for Proforma\r\n\t\t\tif (v_ProformaInv == 'SalesOrder') {\r\n\t\t\t\t//Set the Model and call the .create function to call the OData Service.\r\n\t\t\t\t//\tvar oModel3 = new sap.ui.model.odata.ODataModel(\"http://sapbwdev02.corp.usl.in:8020/sap/opu/odata/sap/ZDLT_SALES_INVOICE_SRV\");\r\n\t\t\t\tvar oModel3 = new sap.ui.model.odata.ODataModel(\"/sap/opu/odata/sap/ZDLT_SALES_INVOICE_SRV\");\r\n\r\n\t\t\t\tthis.getView().setModel(oModel3);\r\n\r\n\t\t\t\toModel3.setHeaders({\r\n\t\t\t\t\t\"X-Requested-With\": \"X\"\r\n\t\t\t\t});\r\n\t\t\t\tsap.m.MessageBox.show(\"Sales Order is requested\", {\r\n\t\t\t\t\ticon: sap.m.MessageBox.Icon.SUCCESS,\r\n\t\t\t\t\ttitle: \"Status\",\r\n\t\t\t\t\tactions: [sap.m.MessageBox.Action.OK],\r\n\t\t\t\t\tonClose: function(oAction) {\r\n\r\n\t\t\t\t\t\t//DcktInvDstlSet  DcktInvNavItem\r\n\t\t\t\t\t\toModel3.create(\"/SlsReqGrpSet\", oEntry1, {\r\n\r\n\t\t\t\t\t\t\tsuccess: function(oData, oResponse) {\r\n\t\t\t\t\t\t\t\t//Update the table\r\n\t\t\t\t\t\t\t\tthat.getView().byId(\"Combplant\").setSelectedKey(l_Plant);\r\n\t\t\t\t\t\t\t\tthat.getView().byId(\"Combstatus\").setSelectedKey(l_Status);\r\n\t\t\t\t\t\t\t\tif (oResponse.statusCode == 201 && oData.MsgType == \"E\") {\r\n\t\t\t\t\t\t\t\t\tthat.onSubmit();\r\n\t\t\t\t\t\t\t\t\tvar _errMsg = oData.Msg;\r\n\t\t\t\t\t\t\t\t\tsap.m.MessageBox.show(_errMsg, sap.m.MessageBox.Icon.ERROR, \"Error\");\r\n\t\t\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t//End of Invoice List Dialog\r\n\t\t\t\t\t\t\t\t\tvar successObj = \"\"; //oResponse.data.DocketNum;\r\n\t\t\t\t\t\t\t\t\tvar message = \"Sales Order : \" + successObj + \"  \" + \"created successfully\";\r\n\r\n\t\t\t\t\t\t\t\t\tjQuery.sap.require(\"sap.m.MessageBox\");\r\n\r\n\t\t\t\t\t\t\t\t\tsap.m.MessageBox.show(message, {\r\n\t\t\t\t\t\t\t\t\t\ticon: sap.m.MessageBox.Icon.SUCCESS,\r\n\t\t\t\t\t\t\t\t\t\ttitle: \"Sales Order Update Status\",\r\n\t\t\t\t\t\t\t\t\t\tactions: [sap.m.MessageBox.Action.OK],\r\n\t\t\t\t\t\t\t\t\t\tonClose: function(oAction) {\r\n\t\t\t\t\t\t\t\t\t\t\tthat.onSubmit();\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\terror: function(oError) {\r\n\t\t\t\t\t\t\t\tvar _errMsg = oError.message + \";  \" + oError.statusText;\r\n\t\t\t\t\t\t\t\tjQuery.sap.require(\"sap.m.MessageBox\");\r\n\t\t\t\t\t\t\t\tsap.m.MessageBox.show(_errMsg, {\r\n\t\t\t\t\t\t\t\t\ticon: sap.m.MessageBox.Icon.ERROR,\r\n\t\t\t\t\t\t\t\t\ttitle: \"Error\"\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t//that.getView().setBusy(false);\r\n\t\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t}); //end of crate request method\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}); //end of message on request ok button\r\n\t\t\t}\r\n\t\t\t//\r\n\r\n\t\t\t//Non-TMS Process\t\t\r\n\t\t\tif (v_Reqinv == 'RequestInvoice') {\r\n\t\t\t\t//Set the Model and call the .create function to call the OData Service.\r\n\t\t\t\t//\tvar oModel3 = new sap.ui.model.odata.ODataModel(\"http://sapbwdev02.corp.usl.in:8020/sap/opu/odata/sap/ZDLT_SALES_INVOICE_SRV\");\r\n\t\t\t\tvar oModel3 = new sap.ui.model.odata.ODataModel(\"/sap/opu/odata/sap/ZDLT_SALES_INVOICE_SRV\");\r\n\r\n\t\t\t\tthis.getView().setModel(oModel3);\r\n\r\n\t\t\t\toModel3.setHeaders({\r\n\t\t\t\t\t\"X-Requested-With\": \"X\"\r\n\t\t\t\t});\r\n\t\t\t\tsap.m.MessageBox.show(\"Invoice is requested\", {\r\n\t\t\t\t\ticon: sap.m.MessageBox.Icon.SUCCESS,\r\n\t\t\t\t\ttitle: \"Status\",\r\n\t\t\t\t\tactions: [sap.m.MessageBox.Action.OK],\r\n\t\t\t\t\tonClose: function(oAction) {\r\n\r\n\t\t\t\t\t\t//DcktInvDstlSet  DcktInvNavItem\r\n\t\t\t\t\t\toModel3.create(\"/InvReqGrpSet\", oEntry1, {\r\n\r\n\t\t\t\t\t\t\tsuccess: function(oData, oResponse) {\r\n\t\t\t\t\t\t\t\t//Update the table\r\n\t\t\t\t\t\t\t\tvar tabledata = new sap.ui.model.json.JSONModel({\r\n\t\t\t\t\t\t\t\t\t\"list\": oData\r\n\t\t\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\t\t\t\tthat.getView().byId(\"Combplant\").setSelectedKey(l_Plant);\r\n\t\t\t\t\t\t\t\tthat.getView().byId(\"Combstatus\").setSelectedKey(l_Status);\r\n\t\t\t\t\t\t\t\tif (oResponse.statusCode == 201 && oData.MsgType == \"E\") {\r\n\t\t\t\t\t\t\t\t\tthat.onSubmit();\r\n\t\t\t\t\t\t\t\t\t//v_dlist = oResponse.data.InvGrpNavReq.results[0].DocketNum;\r\n\r\n\t\t\t\t\t\t\t\t\tthat.getView().byId(\"Combplant\").setSelectedKey(l_Plant);\r\n\t\t\t\t\t\t\t\t\tthat.getView().byId(\"Combstatus\").setSelectedKey(l_Status);\r\n\t\t\t\t\t\t\t\t\t//Based on Rajesh Shoney comments - Commented this code by 28thJuly2021\r\n\t\t\t\t\t\t\t\t\t/*jQuery.sap.require(\"sap.m.MessageBox\");\r\n\t\t\t\t\t\t\t\t\tvar _errMsg = oData.Msg;\r\n\t\t\t\t\t\t\t\t\tsap.m.MessageBox.show(_errMsg, sap.m.MessageBox.Icon.INFORMATION, \"Information\");*/\r\n\t\t\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t\t\t\t// End of Rajesh Shoney Comments\r\n\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t//End of Invoice List Dialog\r\n\t\t\t\t\t\t\t\t\tvar successObj = \"\"; //oResponse.data.DocketNum;\r\n\t\t\t\t\t\t\t\t\tvar message = \"Invoices : \" + successObj + \"  \" + \"created successfully\";\r\n\t\t\t\t\t\t\t\t\tjQuery.sap.require(\"sap.m.MessageBox\");\r\n\t\t\t\t\t\t\t\t\tsap.m.MessageBox.show(message, {\r\n\t\t\t\t\t\t\t\t\t\ticon: sap.m.MessageBox.Icon.SUCCESS,\r\n\t\t\t\t\t\t\t\t\t\ttitle: \"Invoice Update Status\",\r\n\t\t\t\t\t\t\t\t\t\tactions: [sap.m.MessageBox.Action.OK],\r\n\t\t\t\t\t\t\t\t\t\tonClose: function(oAction) {\r\n\t\t\t\t\t\t\t\t\t\t\t/*\t\t\t\t\t\t\t\t\t\t\tvar oView = that.getView();\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar oDialog = oView.byId(\"iDialog\");\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tif (!that.iDialog) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthat.iDialog = Fragment.load({\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t//id: oView.getId(),\t\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname: \"ZDLT_UI5_DIS_INV_REQ.view.detailList\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcontroller: that\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}).then(function(oDialog) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t// connect dialog to the root view of this component (models, lifecycle)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\toView.addDependent(oDialog);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\toDialog.bindElement({\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tpath: path,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmodel: oModel\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\toDialog.open();\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\treturn oDialog;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthat.iDialog.then(function(iDialog) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tiDialog.open();\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t});*/\r\n\t\t\t\t\t\t\t\t\t\t\t//End of change by Ramesh\r\n\t\t\t\t\t\t\t\t\t\t\tthat.onSubmit();\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\terror: function(oError) {\r\n\t\t\t\t\t\t\t\tvar _errMsg = oError.message + \";  \" + oError.statusText;\r\n\t\t\t\t\t\t\t\tsap.m.MessageBox.show(_errMsg, sap.m.MessageBox.Icon.ERROR, \"Error\");\r\n\t\t\t\t\t\t\t\t//that.getView().setBusy(false);\r\n\t\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t}); //end of crate request method\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}); //end of message on request ok button\r\n\t\t\t}\r\n\t\t\t//TMS Process\r\n\r\n\t\t\tif (v_Reqinv == 'ProcessToTMS') {\r\n\t\t\t\t//Set the Model and call the .create function to call the OData Service.\r\n\t\t\t\t//\tvar oModel3 = new sap.ui.model.odata.ODataModel(\"http://sapbwdev02.corp.usl.in:8020/sap/opu/odata/sap/ZDLT_SALES_INVOICE_SRV\");\r\n\t\t\t\tvar oModel3 = new sap.ui.model.odata.ODataModel(\"/sap/opu/odata/sap/ZDLT_SALES_INVOICE_SRV\");\r\n\r\n\t\t\t\tthis.getView().setModel(oModel3);\r\n\r\n\t\t\t\toModel3.setHeaders({\r\n\t\t\t\t\t\"X-Requested-With\": \"X\"\r\n\t\t\t\t});\r\n\t\t\t\tsap.m.MessageBox.show(\"TMS Process is requested\", {\r\n\t\t\t\t\ticon: sap.m.MessageBox.Icon.SUCCESS,\r\n\t\t\t\t\ttitle: \"Status\",\r\n\t\t\t\t\tactions: [sap.m.MessageBox.Action.OK],\r\n\t\t\t\t\tonClose: function(oAction) {\r\n\t\t\t\t\t\t//DcktInvDstlSet  DcktInvNavItem\r\n\t\t\t\t\t\toModel3.create(\"/TMSReqGrpSet\", oEntry1, {\r\n\r\n\t\t\t\t\t\t\tsuccess: function(oData, oResponse) {\r\n\t\t\t\t\t\t\t\t//Update the table\r\n\t\t\t\t\t\t\t\tthat.getView().byId(\"Combplant\").setSelectedKey(l_Plant);\r\n\t\t\t\t\t\t\t\tthat.getView().byId(\"Combstatus\").setSelectedKey(l_Status);\r\n\t\t\t\t\t\t\t\tif (oResponse.statusCode == 201 && oData.MsgType == \"E\") {\r\n\t\t\t\t\t\t\t\t\tthat.onSubmit();\r\n\t\t\t\t\t\t\t\t\tvar _errMsg = oData.Msg;\r\n\t\t\t\t\t\t\t\t\tsap.m.MessageBox.show(_errMsg, sap.m.MessageBox.Icon.ERROR, \"Error\");\r\n\t\t\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\tvar successObj = \"\"; //oResponse.data.DocketNum;\r\n\t\t\t\t\t\t\t\t\tvar message = \"Sent to TMS \" + successObj + \"  \" + \"successfully\";\r\n\r\n\t\t\t\t\t\t\t\t\tjQuery.sap.require(\"sap.m.MessageBox\");\r\n\r\n\t\t\t\t\t\t\t\t\tsap.m.MessageBox.show(message, {\r\n\t\t\t\t\t\t\t\t\t\ticon: sap.m.MessageBox.Icon.SUCCESS,\r\n\t\t\t\t\t\t\t\t\t\ttitle: \"Invoice Update Status\",\r\n\t\t\t\t\t\t\t\t\t\tactions: [sap.m.MessageBox.Action.OK],\r\n\t\t\t\t\t\t\t\t\t\tonClose: function(oAction) {\r\n\t\t\t\t\t\t\t\t\t\t\tthat.onSubmit();\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\terror: function(oError) {\r\n\t\t\t\t\t\t\t\tvar _errMsg = oError.message + \";  \" + oError.statusText;\r\n\t\t\t\t\t\t\t\tsap.m.MessageBox.show(_errMsg, sap.m.MessageBox.Icon.ERROR, \"Error\");\r\n\t\t\t\t\t\t\t\t//that.getView().setBusy(false);\r\n\t\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t}); //end of crate request method\r\n\t\t\t\t\t}\r\n\t\t\t\t}); //end of message on request ok button\r\n\t\t\t}\r\n\t\t\t//End of TMS Process\r\n\r\n\t\t}, //End of On Request\r\n\t\t//\t************************For Close Invoice List Dialog Function***************************************\r\n\t\t//\t*****************************************************************************************************\r\n\t\tonCloseDialog: function() {\r\n\t\t\tthat.iDialog.then(function(iDialog) {\r\n\t\t\t\tiDialog.close();\r\n\t\t\t});\r\n\t\t},\r\n\t\t//\t************************Request for Credit check approval Function***************************************\r\n\t\t//\t*********************************************************************************************************\r\n\t\t//onCrdCheck: function(oEvent) {\r\n\r\n\t\tonReqapprvl: function(oEvent) {\r\n\t\t\t\tthat = this;\r\n\t\t\t\tvar oTable = this.byId(\"table1\");\r\n\t\t\t\t//Added by Ramesh on 25-7-2021 for No records selection condition\r\n\t\t\t\tvar sel = this.getView().byId(\"table1\")._oSelection.aSelectedIndices.length;\r\n\t\t\t\tif (sel == 0) {\r\n\t\t\t\t\tvar _errMsg = \"Please select atleast one row for Approval Request.\";\r\n\t\t\t\t\tsap.m.MessageBox.show(_errMsg, sap.m.MessageBox.Icon.ERROR, \"Error\");\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\t//End by Ramesh on 25-07-2021\r\n\t\t\t\tvar path,\r\n\t\t\t\t\tidx;\r\n\t\t\t\tidx = oTable.getSelectedIndex();\r\n\t\t\t\tvar selRow = oTable.getContextByIndex(idx).getObject();\r\n\t\t\t\t//path = oEvent.getSource().getBindingContext().sPath;\r\n\t\t\t\t//Commented by Ramesh on 25-07-2021\r\n\t\t\t\t// idx = parseInt(path.substring(path.lastIndexOf('/') + 1));\r\n\t\t\t\t// var selRow = oEvent.getSource().getBindingContext().getObject();\r\n\t\t\t\t// // Define an empty Array\r\n\t\t\t\t//End of Comment by Ramesh on 25-07-2021\r\n\t\t\t\t// Create one emtpy Object\r\n\t\t\t\tvar oEntry1 = {};\r\n\r\n\t\t\t\tif (selRow.DocketNum !== \"\") {\r\n\t\t\t\t\toEntry1.DocketNum = selRow.DocketNum;\r\n\t\t\t\t}\r\n\t\t\t\tvar l_plantcr = that.getView().byId(\"Combplant\").getSelectedKey();\r\n\t\t\t\tvar l_statuscr = that.getView().byId(\"Combstatus\").getSelectedKey();\r\n\t\t\t\tif (selRow.CrdCheck == \"Request for Approval\") {\r\n\t\t\t\t\t//Set the Model and call the .create function to call the OData Service.\r\n\t\t\t\t\t//\tvar oModelCr1 = new sap.ui.model.odata.ODataModel(\"http://sapbwdev02.corp.usl.in:8020/sap/opu/odata/sap/ZDLT_SALES_INVOICE_SRV\");\r\n\t\t\t\t\tvar oModelCr1 = new sap.ui.model.odata.ODataModel(\"/sap/opu/odata/sap/ZDLT_SALES_INVOICE_SRV\");\r\n\r\n\t\t\t\t\tthis.getView().setModel(oModelCr1);\r\n\r\n\t\t\t\t\toModelCr1.setHeaders({\r\n\t\t\t\t\t\t\"X-Requested-With\": \"X\"\r\n\t\t\t\t\t});\r\n\t\t\t\t\t/*\tsap.m.MessageBox.show(\"Send for Approval \", {\r\n\t\t\t\t\t\t\ticon: sap.m.MessageBox.Icon.SUCCESS,\r\n\t\t\t\t\t\t\ttitle: \"Status\",\r\n\t\t\t\t\t\t\tactions: [sap.m.MessageBox.Action.OK],\r\n\t\t\t\t\t\t\tonClose: function(oAction) {  */\r\n\r\n\t\t\t\t\toModelCr1.create(\"/CreditRequestSet\", oEntry1, {\r\n\r\n\t\t\t\t\t\tsuccess: function(oData, oResponse) {\r\n\r\n\t\t\t\t\t\t\t//Update the table\r\n\r\n\t\t\t\t\t\t\tthat.getView().byId(\"Combplant\").setSelectedKey(l_plantcr);\r\n\t\t\t\t\t\t\tthat.getView().byId(\"Combstatus\").setSelectedKey(l_statuscr);\r\n\t\t\t\t\t\t\tif (oResponse.statusCode == 201 && oData.MsgType == \"E\") {\r\n\t\t\t\t\t\t\t\tthat.onSubmit();\r\n\t\t\t\t\t\t\t\tvar _errMsg = oData.Msg;\r\n\t\t\t\t\t\t\t\tsap.m.MessageBox.show(_errMsg, sap.m.MessageBox.Icon.ERROR, \"Error\");\r\n\t\t\t\t\t\t\t\treturn;\r\n\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tvar successObj = \"\"; //oResponse.data.DocketNum;\r\n\t\t\t\t\t\t\t\tvar message = \"Sent for Approval\"; //: \" + successObj + \"  \" + \"sent successfully\";\r\n\r\n\t\t\t\t\t\t\t\tjQuery.sap.require(\"sap.m.MessageBox\");\r\n\r\n\t\t\t\t\t\t\t\tsap.m.MessageBox.show(message, {\r\n\t\t\t\t\t\t\t\t\ticon: sap.m.MessageBox.Icon.SUCCESS,\r\n\t\t\t\t\t\t\t\t\ttitle: \"Request for Credit Approve\",\r\n\t\t\t\t\t\t\t\t\tactions: [sap.m.MessageBox.Action.OK],\r\n\t\t\t\t\t\t\t\t\tonClose: function(oAction) {\r\n\t\t\t\t\t\t\t\t\t\tthat.onSubmit();\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\t\t\t} //end of else\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\terror: function(oError) {\r\n\t\t\t\t\t\t\tthat.getView().byId(\"Combplant\").setSelectedKey(l_plantcr);\r\n\t\t\t\t\t\t\tthat.getView().byId(\"Combstatus\").setSelectedKey(l_statuscr);\r\n\t\t\t\t\t\t\tvar _errMsg = oError.message + \";  \" + oError.response.statusText;\r\n\t\t\t\t\t\t\tsap.m.MessageBox.show(_errMsg, sap.m.MessageBox.Icon.ERROR, \"Error\");\r\n\t\t\t\t\t\t\t//that.getView().setBusy(false);\r\n\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t}); //end of crate request method\r\n\t\t\t\t\t/*\t\t} // end of onClose action of message on request ok \r\n\t\t\t\t\t}); //end of message on request ok button */\r\n\t\t\t\t} //end of status\r\n\t\t\t} //End of Oncrdchk\r\n\r\n\t});\r\n});",
		"ZDLT_UI5_DIS_INV_REQ/Component.js": "sap.ui.define([\r\n\t\"sap/ui/core/UIComponent\",\r\n\t\"sap/ui/Device\",\r\n\t\"ZDLT_UI5_DIS_INV_REQ/model/models\"\r\n], function(UIComponent, Device, models) {\r\n\t\"use strict\";\r\n\r\n\treturn UIComponent.extend(\"ZDLT_UI5_DIS_INV_REQ.Component\", {\r\n\r\n\t\tmetadata: {\r\n\t\t\tmanifest: \"json\"\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * The component is initialized by UI5 automatically during the startup of the app and calls the init method once.\r\n\t\t * @public\r\n\t\t * @override\r\n\t\t */\r\n\t\tinit: function() {\r\n\t\t\t// call the base component's init function\r\n\t\t\tUIComponent.prototype.init.apply(this, arguments);\r\n\r\n\t\t\t// set the device model\r\n\t\t\tthis.setModel(models.createDeviceModel(), \"device\");\r\n\t\t\tthis.getRouter().initialize();\r\n\t\t}\r\n\t});\r\n});",
		"ZDLT_UI5_DIS_INV_REQ/view/InvoiceList.fragment.xml": "<core:FragmentDefinition xmlns=\"sap.m\" xmlns:core=\"sap.ui.core\" xmlns:t=\"sap.ui.table\">\r\n\t<Dialog id=\"iDialog\" title=\"Invoice List\" resizable=\"true\" draggable=\"true\" width=\"900px\">\r\n\t<!--<Dialog title=\"Invoice List\">-->\r\n\t\t<!--\r\n\t<List \r\nclass=\"sapUiResponsiveMargin\"\r\nwidth=\"auto\"\r\nitems=\"{/InvoiceListCollection}\" >\r\n<items>\r\n<ObjectListItem\r\ntitle=\"{DocketNum}\"  number=\"{SoDocno}\" /> \r\n</items>\r\n</List>\t\r\n          <content>\r\n            <t:SimpleForm id=\"EditFormId\" editable=\"true\" >\r\n                <t:content>\r\n                    <Label id=\"DocketNum\" text=\"Docket Number\" labelFor=\"DocketNum\" />\r\n                    <Input id=\"DocketNum\" value=\"{DocketNum}\"/>\r\n                </t:content>\r\n            </t:SimpleForm>\r\n        </content>\r\n\r\n<core:FragmentDefinition\r\nxmlns=\"sap.m\"\r\nxmlns:f=\"sap.ui.layout.form\"\r\nxmlns:l=\"sap.ui.layout\"\r\nxmlns:core=\"sap.ui.core\"\r\nid=\"inputdialog\">\r\n    <Dialog id=\"openDialog\" title=\"List Display\">\r\n    <VBox class=\"sapUiSmallMargin\">\r\n    <f:SimpleForm\r\n         id=\"SimpleFormDisplay354\"\r\n         editable=\"true\"\r\n         layout=\"ResponsiveGridLayout\"\r\n         title=\"Change the data\"\r\n         labelSpanXL=\"3\"\r\n     labelSpanL=\"3\"\r\n         labelSpanM=\"3\"\r\n         labelSpanS=\"12\"\r\n         adjustLabelSpan=\"false\"\r\n         emptySpanXL=\"4\"\r\n         emptySpanL=\"4\"\r\n         emptySpanM=\"4\"\r\n         emptySpanS=\"0\"\r\n     columnsXL=\"1\"\r\n         columnsL=\"1\"\r\n         columnsM=\"1\"\r\n         singleContainerFullSize=\"false\">\r\n    <f:content>\r\n    <Label text=\"Docket Number\"/>\r\n    <Text id=\"DocketNum\" text=\"{sample>DocketNum}\"/>\r\n    <Label text=\"SO Number\"/>\r\n    <Input id=\"SoDocno\" value=\"{sample>SoDocno}\"/>\r\n    </f:content>\r\n    </f:SimpleForm>\r\n    </VBox>\r\n<buttons>\r\n <Button text=\"Close\" press=\"onCloseDialog\"/>\r\n</buttons>\r\n</Dialog>\r\n</core:FragmentDefinition>\r\n        \r\n        \r\n-->\r\n\t\t<t:Table id=\"detailList\" items=\"{'/ldata'}\" rows=\"{/ldata}\" selectionMode=\"Single\" suspend=\"true\" visibleRowCount=\"5\" growingScrollToLoad=\"true\"\r\n\t\t\tgrowing=\"true\" ariaLabelledBy=\"title\" fixedColumnCount=\"7\">\r\n<!--<t:Table id=\"detailList\" items=\"{'/HouListSet'}\" rows=\"{/HouListSet}\"  visibleRowCount=\"6\" growingScrollToLoad=\"true\"-->\r\n\t\t\t<t:extension>\r\n\t\t\t\t<OverflowToolbar>\r\n\t\t\t\t\t<Title id=\"title\" text=\"Invoice List\"/>\r\n\t\t\t\t\t<ToolbarSpacer/>\r\n\t\t\t\t</OverflowToolbar>\r\n\t\t\t</t:extension>\r\n\t\t\t<t:columns>\r\n\t\t\t\t<t:Column width=\"9rem\" id=\"DocketNumber\">\r\n\t\t\t\t\t<Label text=\"Docket Number\"/>\r\n\t\t\t\t\t<t:template>\r\n\t\t\t\t\t\t<Text text=\"{DocketNum}\"/>\r\n\t\t\t\t\t\t<!--<Text text=\"{items}\"/>-->\r\n\t\t\t\t\t</t:template>\r\n\t\t\t\t</t:Column>\r\n\r\n\t\t\t\t<t:Column width=\"9rem\" id=\"SalesOrder\">\r\n\t\t\t\t\t<Label text=\"Sales Order Number\"/>\r\n\t\t\t\t\t<t:template>\r\n\t\t\t\t\t\t<!--<Text text=\"{DocketNum}\"/>-->\r\n\t\t\t\t\t\t<Text text=\"{SoDocno}\"/>\r\n\t\t\t\t\t</t:template>\r\n\t\t\t\t</t:Column>\r\n\t\t\t\t\r\n\t\t\t\t<t:Column width=\"8rem\" id=\"DeliveryNum\">\r\n\t\t\t\t\t<Label text=\"Delivery Number\"/>\r\n\t\t\t\t\t<t:template>\r\n\t\t\t\t\t\t<Text text=\"{DelDocno}\"/>\r\n\t\t\t\t\t</t:template>\r\n\t\t\t\t</t:Column>\r\n\r\n\t\t\t\t<t:Column width=\"8rem\" id=\"ShipNum\">\r\n\t\t\t\t\t<Label text=\"Shipment Number\"/>\r\n\t\t\t\t\t<t:template>\r\n\t\t\t\t\t\t<Text text=\"{ShipDocno}\"/>\r\n\t\t\t\t\t</t:template>\r\n\t\t\t\t</t:Column>\r\n\t\t\t\t<t:Column width=\"8rem\" id=\"PgiDocNum\">\r\n\t\t\t\t\t<Label text=\"PGI Document Number\"/>\r\n\t\t\t\t\t<t:template>\r\n\t\t\t\t\t\t<Text text=\"{PgiDocno}\"/>\r\n\t\t\t\t\t</t:template>\r\n\t\t\t\t</t:Column>\r\n\t\t\t\r\n\t\t\t\t<t:Column width=\"8rem\" id=\"InvoiceNum\">\r\n\t\t\t\t\t<Label text=\"Invoice Document Number\"/>\r\n\t\t\t\t\t<t:template>\r\n\t\t\t\t\t\t<Text text=\"{InvDocno}\"/>\r\n\t\t\t\t\t</t:template>\r\n\t\t\t\t</t:Column>\t\r\n\t\t\t\t<t:Column width=\"8rem\" id=\"Remarks\" visible=\"false\">\r\n\t\t\t\t\t<Label text=\"Remarks\" visible=\"false\"/>\r\n\t\t\t\t\t<t:template>\r\n\t\t\t\t\t\t<Text text=\"{Remarks}\"/>\r\n\t\t\t\t\t</t:template>\r\n\t\t\t\t</t:Column>\t\r\n\t\t\t\t</t:columns>\r\n\t\t</t:Table>\r\n\t\t<beginButton>\r\n\t\t\t<Button text=\"Close\" press=\"onCloseDialog\"/>\r\n\t\t</beginButton>\r\n\t</Dialog>\r\n</core:FragmentDefinition>",
		"ZDLT_UI5_DIS_INV_REQ/view/Edit_View.view.xml": "<mvc:View xmlns:html=\"http://www.w3.org/1999/xhtml\" xmlns:core=\"sap.ui.core\" xmlns:mvc=\"sap.ui.core.mvc\" xmlns=\"sap.m\"\n\txmlns:f=\"sap.ui.layout.form\" xmlns:custom=\"ZDLT_UI5_DIS_INV_REQ.customControl\" xmlns:l=\"sap.ui.layout\" xmlns:m=\"sap.m\"\n\txmlns:u=\"sap.ui.unified\" xmlns:dropdown=\"sap.ui.commons\" xmlns:t=\"sap.ui.table\" controllerName=\"ZDLT_UI5_DIS_INV_REQ.controller.Edit_View\"\n\tdisplayBlock=\"true\">\n\t<App class=\"sapUiSizeCompact\" id=\"AppID\">\n\t\t<pages>\n\t\t\t<Page class=\"sapUiContentPadding\" icon=\"../webapp/images/DIAGEO-LOGO.png\">\n\t\t\t\t<customHeader>\n\t\t\t\t\t<Toolbar>\n\t\t\t\t\t\t<Image class=\"sapUiLargeMarginTop sapUiLargeMarginBottom\" width=\"100px\" height=\"30px\" src=\"../webapp/images/DIAGEO-LOGO.png\"/>\n\t\t\t\t\t\t<ToolbarSpacer/>\n\t\t\t\t\t\t<Text id=\"Idtexth\" text=\"Edit Invoice\"/>\n\t\t\t\t\t\t<ToolbarSpacer/>\n\t\t\t\t\t</Toolbar>\n\t\t\t\t</customHeader>\n\t\t\t\t<content>\n\t\t\t\t\t<f:SimpleForm xmlns:sap.ui.layout.form=\"sap.ui.layout.form\" editable=\"true\" layout=\"ResponsiveGridLayout\" id=\"__form0\" labelMinWidth=\"100\"\n\t\t\t\t\t\tlabelSpanL=\"4\" columnsL=\"4\" emptySpanL=\"4\" class=\"editableForm\">\n\t\t\t\t\t\t<f:content>\n\t\t\t\t\t\t\t<Label text=\"Plant\" required=\"true\">\n\t\t\t\t\t\t\t\t<layoutData>\n\t\t\t\t\t\t\t\t\t<l:GridData span=\"L5\"/>\n\t\t\t\t\t\t\t\t</layoutData>\n\t\t\t\t\t\t\t</Label>\n\t\t\t\t\t\t<!--\t<ComboBox items=\"{ path: '/GetPlantsSet', sorter: { path: 'Plant' } }\" id=\"Combplant\" change=\"onEnterPlant\" width=\"50%\" editable=\"false\">\n\t\t\t\t\t\t\t\t<core:Item key=\"{Plant}\" text=\"{path:'Plant'} \"/>\n\t\t\t\t\t\t\t</ComboBox>-->\n\t\t\t\t\t\t\t\t<Input id=\"Combplant\"  editable=\"false\" width=\"50%\" />\n\t\t\t\t\t\t\t<Label text=\"Docket No\" id=\"LblDckt\">\n\t\t\t\t\t\t\t\t<layoutData>\n\t\t\t\t\t\t\t\t\t<l:GridData span=\"L5\"/>\n\t\t\t\t\t\t\t\t</layoutData>\n\t\t\t\t\t\t\t</Label>\n\t\t\t\t\t\t\t<Input id=\"Inpdckt\" value=\"\" editable=\"false\" maxLength=\"40\" width=\"50%\"/>\n\t\t\t\t\t\t</f:content>\n\t\t\t\t\t</f:SimpleForm>\n\t\t\t\t\t<!--Header Details-->\n\t\t\t\t\t<!--<Panel expandable=\"false\" width=\"auto\" headerText=\"Header Details\" class=\"sapUiResponsiveMargin\">-->\n\t\t\t\t\t<!--Startof tabstrip\t-->\n\t\t\t\t\t<IconTabBar selectedKey=\"__filter0\" id=\"__bar0\" select=\"onSelectChanged\" expandable=\"false\" headerMode=\"Inline\">\n\t\t\t\t\t\t<items>\n\t\t\t\t\t\t\t<!--Tabstrip Invoice-->\n\t\t\t\t\t\t\t<IconTabFilter text=\"Invoice\" showAll=\"true\" id=\"__filter0\" design=\"Horizontal\" press=\"onEnterInvoice\">\n\t\t\t\t\t\t\t\t<content>\n\t\t\t\t\t\t\t\t\t<f:SimpleForm id=\"SimpleFormChange1\" editable=\"true\" layout=\"ResponsiveGridLayout\" labelSpanL=\"4\" labelSpanM=\"4\" labelSpanS=\"12\"\n\t\t\t\t\t\t\t\t\t\tadjustLabelSpan=\"false\" emptySpanL=\"0\" emptySpanM=\"0\" emptySpanS=\"0\" columnsL=\"2\" columnsM=\"1\" singleContainerFullSize=\"false\">\n\t\t\t\t\t\t\t\t\t\t<f:content>\n\t\t\t\t\t\t\t\t\t\t\t<!--Container1-->\n\t\t\t\t\t\t\t\t\t\t\t<core:Title text=\"\"/>\n\t\t\t\t\t\t\t\t\t\t\t<Label text=\"Company Code\" id=\"LblCompNam\"/>\n\t\t\t\t\t\t\t\t\t\t\t<Input id=\"InpCompNam\" value=\"\" editable=\"false\" maxLength=\"12\" required=\"true\"/>\n\t\t\t\t\t\t\t\t\t\t\t<Label text=\"Plant Name\" id=\"Lblplntnam\"/>\n\t\t\t\t\t\t\t\t\t\t\t<Input id=\"Inpplntnam\" value=\"\" editable=\"false\" maxLength=\"40\" required=\"true\"/>\n\t\t\t\t\t\t\t\t\t\t\t<Label text=\"Invoice Date\" id=\"Lblinvdate\"/>\n\t\t\t\t\t\t\t\t\t\t\t<DatePicker id=\"Inpinvdate\" valueFormat=\"yyyy-MM-dd\" displayFormat=\"long\" change=\"onEnterInvDate\" required=\"true\"/>\n\t\t\t\t\t\t\t\t\t\t\t<Label text=\"Customer\" id=\"Lblcust\"/>\n\t\t\t\t\t\t\t\t\t\t\t<Input id=\"Inpcust\" value=\"\" maxLength=\"20\" submit=\"onCustInput\" change=\"onCustInput\" required=\"true\"/>\n\t\t\t\t\t\t\t\t\t\t\t<Label text=\"TP/Permit Number\" id=\"Lbltpnum\"/>\n\t\t\t\t\t\t\t\t\t\t\t<Input id=\"Inptpnum\" value=\"\" maxLength=\"35\" submit=\"onEnterTPPermit\" change=\"onEnterTPPermit\" required=\"true\"/>\n\t\t\t\t\t\t\t\t\t\t\t<Label text=\"Order Number\" id=\"Lblordnum\"/>\n\t\t\t\t\t\t\t\t\t\t\t<Input id=\"Inpordnum\" value=\"\" maxLength=\"100\"/>\n\t\t\t\t\t\t\t\t\t\t\t<Label text=\"Export Number\" id=\"Lblexpnum\"/>\n\t\t\t\t\t\t\t\t\t\t\t<Input id=\"Inpexpnum\" value=\"\" maxLength=\"35\"/>\n\t\t\t\t\t\t\t\t\t\t\t<Label text=\"Remarks\" id=\"Lblremarks\"/>\n\t\t\t\t\t\t\t\t\t\t\t<Input id=\"Inpremarks\" value=\"\" maxLength=\"180\"/>\n\t\t\t\t\t\t\t\t\t\t\t<Label text=\"Customer Name\" id=\"Lblcustnam\"/>\n\t\t\t\t\t\t\t\t\t\t\t<Input id=\"Inpcustname\" value=\"\" editable=\"false\" maxLength=\"40\"/>\n\t\t\t\t\t\t\t\t\t\t\t<!--Container2-->\n\t\t\t\t\t\t\t\t\t\t\t<core:Title text=\"\"/>\n\t\t\t\t\t\t\t\t\t\t\t<Label text=\"Sales Organization\" id=\"Lblslsorg\"/>\n\t\t\t\t\t\t\t\t\t\t\t<Input id=\"Inpslsorg\" value=\"\" editable=\"false\" maxLength=\"12\" required=\"true\"/>\n\t\t\t\t\t\t\t\t\t\t\t<Label text=\"Distribution Channel\" id=\"Lbldistrchn\" required=\"true\"/>\n\t\t\t\t\t\t\t\t\t\t\t<ComboBox selectedKey=\"11\" id=\"Combdistr\" change=\"onEnterDistrchn\" editable=\"false\">\n\t\t\t\t\t\t\t\t\t\t\t\t<core:Item text=\"11-DirectSale\" key=\"11\"/>\n\t\t\t\t\t\t\t\t\t\t\t\t<core:Item text=\"12-CSD\" key=\"12\"/>\n\t\t\t\t\t\t\t\t\t\t\t</ComboBox>\n\t\t\t\t\t\t\t\t\t\t\t<Label text=\"Division\" id=\"Lbldiv\" required=\"true\"/>\n\t\t\t\t\t\t\t\t\t\t\t<ComboBox selectedKey=\"11\" value=\"\" id=\"Combdiv\" change=\"onEnterDiv\" editable=\"false\">\n\t\t\t\t\t\t\t\t\t\t\t\t<core:Item text=\"11-IMFL\" key=\"11\"/>\n\t\t\t\t\t\t\t\t\t\t\t\t<core:Item text=\"18-Wine\" key=\"18\"/>\n\t\t\t\t\t\t\t\t\t\t\t</ComboBox>\n\t\t\t\t\t\t\t\t\t\t\t<Label text=\"Sales Group\" id=\"Lblslsgrp\"/>\n\t\t\t\t\t\t\t\t\t\t\t<ComboBox selectedKey=\"015\" value=\"\" id=\"Combslsgrp\" change=\"onEnterSlsgrp\">\n\t\t\t\t\t\t\t\t\t\t\t\t<core:Item text=\"011\" key=\"011\"/>\n\t\t\t\t\t\t\t\t\t\t\t\t<core:Item text=\"012\" key=\"012\"/>\n\t\t\t\t\t\t\t\t\t\t\t\t<core:Item text=\"013\" key=\"013\"/>\n\t\t\t\t\t\t\t\t\t\t\t\t<core:Item text=\"014\" key=\"014\"/>\n\t\t\t\t\t\t\t\t\t\t\t\t<core:Item text=\"015\" key=\"015\"/>\n\t\t\t\t\t\t\t\t\t\t\t</ComboBox>\n\t\t\t\t\t\t\t\t\t\t\t<Label text=\"TP/Permit Date\" id=\"Lbltpdat\"/>\n\t\t\t\t\t\t\t\t\t\t\t<DatePicker id=\"Inptpdat\" value=\"\" valueFormat=\"yyyy-MM-dd\" displayFormat=\"long\" change=\"onEnterTPPermitDate\" required=\"true\"/>\n\t\t\t\t\t\t\t\t\t\t\t<Label text=\"TP/Expiry Date\" id=\"Lblexdat\"/>\n\t\t\t\t\t\t\t\t\t\t\t<DatePicker id=\"Inpexdat\" change=\"onEnterExpdate\" valueFormat=\"yyyy-MM-dd\" displayFormat=\"long\" required=\"true\"/>\n\t\t\t\t\t\t\t\t\t\t\t<Label text=\"Export Order Date\" id=\"Lblexporddat\"/>\n\t\t\t\t\t\t\t\t\t\t\t<DatePicker id=\"Inpexporddat\" valueFormat=\"yyyy-MM-dd\" displayFormat=\"long\" value=\"\"/>\n\t\t\t\t\t\t\t\t\t\t\t<Label text=\"PriceList\" id=\"Lblprclst\"/>\n\t\t\t\t\t\t\t\t\t\t\t<ComboBox id=\"Combprclst\" items=\"{ path: '/GetPriceListSet', sorter: { path: 'PriceListID' } }\" width=\"100%\">\n\t\t\t\t\t\t\t\t\t\t\t\t<core:Item key=\"{PriceListID}\" text=\"{path:'PriceListID'} {path:'PriceListName'}\"/>\n\t\t\t\t\t\t\t\t\t\t\t</ComboBox>\n\t\t\t\t\t\t\t\t\t\t\t<Label text=\"CashDiscount\" id=\"Lblcashdcnt\"/>\n\t\t\t\t\t\t\t\t\t\t\t<Input id=\"Inpcashdcnt\" value=\"0.00\" maxLength=\"12\" change=\"onEnterCash\"/>\n\t\t\t\t\t\t\t\t\t\t\t<Label text=\"Token No\" id=\"idLabelToken\" required=\"true\" visible=\"{this>/IsCSDTokenNoVisible}\"/>\n\t\t\t\t\t\t\t\t\t\t\t<Input id=\"idToken\" enabled=\"true\" maxLength=\"25\" visible=\"{this>/IsCSDTokenNoVisible}\"/>\n\t\t\t\t\t\t\t\t\t\t</f:content>\n\t\t\t\t\t\t\t\t\t</f:SimpleForm>\n\t\t\t\t\t\t\t\t</content>\n\t\t\t\t\t\t\t</IconTabFilter>\n\t\t\t\t\t\t\t<!--Tabstrip Transport-->\n\t\t\t\t\t\t\t<IconTabFilter text=\"Placement\" icon=\"sap-icon://inventory\" wrapping=\"true\" showAll=\"true\"  visible=\"{= ${this>/TruckInd} === 'P' }\" id=\"__filter1\" design=\"Horizontal\" textDirection=\"RTL\">\n\t\t\t\t\t\t\t\t<content>\n\t\t\t\t\t\t\t\t\t<f:SimpleForm id=\"SimpleFormChange3\" editable=\"true\" layout=\"ResponsiveGridLayout\" labelSpanL=\"4\" labelSpanM=\"4\" labelSpanS=\"12\"\n\t\t\t\t\t\t\t\t\t\tadjustLabelSpan=\"false\" emptySpanL=\"0\" emptySpanM=\"0\" emptySpanS=\"0\" columnsL=\"2\" columnsM=\"1\" singleContainerFullSize=\"false\">\n\t\t\t\t\t\t\t\t\t\t<f:content>\n\t\t\t\t\t\t\t\t\t\t\t<Label text=\"Vendor\" id=\"Lbltrpter\"/>\n\t\t\t\t\t\t\t\t\t\t\t<Input id=\"Inptrpter\" value=\"\" editable=\"{this>/TruckEditable}\" maxLength=\"12\" submit=\"onTransporterInput\" change=\"onTransporterInput\"/>\n\t\t\t\t\t\t\t\t\t\t\t<Label text=\"Vendor Name\" id=\"Lbltrpternam\"/>\n\t\t\t\t\t\t\t\t\t\t\t<Input id=\"Inptrpternam\" value=\"\" editable=\"false\" maxLength=\"40\"/>\n\t\t\t\t\t\t\t\t\t\t\t<Label text=\"Truck Type\" id=\"Lbltrcktyp\"/>\n\t\t\t\t\t\t\t\t\t\t\t<ComboBox id=\"Combtrcktyp\" editable=\"{this>/TruckEditable}\" items=\"{namedmodel>/}\">\n\t\t\t\t\t\t\t\t\t\t\t\t<items>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<core:Item key=\"{namedmodel>TruckTypee}\" text=\"{path: 'namedmodel>TruckTypee'} {path: 'namedmodel>TruckTypeText'}\"/>\n\t\t\t\t\t\t\t\t\t\t\t\t</items>\n\t\t\t\t\t\t\t\t\t\t\t</ComboBox>\n\t\t\t\t\t\t\t\t\t\t\t<Label text=\"Truck Number\" id=\"Lbltrcknum\"/>\n\t\t\t\t\t\t\t\t\t\t\t<Input id=\"Inptrcknum\" value=\"\" editable=\"{this>/TruckEditable}\" maxLength=\"10\" change=\"onTruckNumber\"/>\n\t\t\t\t\t\t\t\t\t\t\t<Label text=\"LR Number\" id=\"Lbllrknum\"/>\n\t\t\t\t\t\t\t\t\t\t\t<Input id=\"Inplrnum\" value=\"\" editable=\"{this>/TruckEditable}\" maxLength=\"20\" change=\"onLRNumber\"/>\n\t\t\t\t\t\t\t\t\t\t\t<Label text=\"MilkRun\" id=\"Lblmlkrun\"/>\n\t\t\t\t\t\t\t\t\t\t\t<ComboBox id=\"Combmilkrun\" editable=\"{this>/TruckEditable}\" selectedKey=\"0001\" change=\"onEnterMilkrun\">\n\t\t\t\t\t\t\t\t\t\t\t\t<core:Item text=\"No\" key=\"0001\"/>\n\t\t\t\t\t\t\t\t\t\t\t\t<core:Item text=\"Yes\" key=\"0002\"/>\n\t\t\t\t\t\t\t\t\t\t\t</ComboBox>\n\t\t\t\t\t\t\t\t\t\t</f:content>\n\t\t\t\t\t\t\t\t\t</f:SimpleForm>\n\t\t\t\t\t\t\t\t</content>\n\t\t\t\t\t\t\t</IconTabFilter>\n\t\t\t\t\t\t\t<IconTabFilter text=\"Status\" showAll=\"true\" id=\"__filter4\" design=\"Horizontal\" textDirection=\"RTL\">\n\t\t\t\t\t\t\t\t<content>\n\t\t\t\t\t\t\t\t\t<f:SimpleForm id=\"SimpleFormChange4\" editable=\"true\" layout=\"ResponsiveGridLayout\" labelSpanL=\"4\" labelSpanM=\"4\" labelSpanS=\"12\"\n\t\t\t\t\t\t\t\t\t\tadjustLabelSpan=\"false\" emptySpanL=\"0\" emptySpanM=\"0\" emptySpanS=\"0\" columnsL=\"2\" columnsM=\"1\" singleContainerFullSize=\"false\">\n\t\t\t\t\t\t\t\t\t\t<f:content>\n\t\t\t\t\t\t\t\t\t\t\t<!--Container3-->\n\t\t\t\t\t\t\t\t\t\t\t<core:Title text=\"\"/>\n\t\t\t\t\t\t\t\t\t\t\t<Label text=\"Sale Order\" id=\"LblSaleOrder\"/>\n\t\t\t\t\t\t\t\t\t\t\t<Input id=\"InpSaleOrder\" value=\"\" editable=\"false\" maxLength=\"12\"/>\n\t\t\t\t\t\t\t\t\t\t\t<Label text=\"Delivery\" id=\"LblDelivery\"/>\n\t\t\t\t\t\t\t\t\t\t\t<Input id=\"InpDelivery\" value=\"\" editable=\"false\" maxLength=\"12\"/>\n\t\t\t\t\t\t\t\t\t\t\t<Label text=\"Shipment\" id=\"LblShipment\"/>\n\t\t\t\t\t\t\t\t\t\t\t<Input id=\"InpShipment\" value=\"\" editable=\"false\" maxLength=\"12\"/>\n\t\t\t\t\t\t\t\t\t\t\t<Label text=\"PGI No\" id=\"LblPGINo\"/>\n\t\t\t\t\t\t\t\t\t\t\t<Input id=\"InpPGINo\" value=\"\" editable=\"false\" maxLength=\"12\"/>\n\t\t\t\t\t\t\t\t\t\t\t<Label text=\"Invoice No\" id=\"LblInvId\"/>\n\t\t\t\t\t\t\t\t\t\t\t<Input id=\"InpInvNo\" value=\"\" editable=\"false\" maxLength=\"12\"/>\n\t\t\t\t\t\t\t\t\t\t\t<!--Container for Push buttons-->\n\t\t\t\t\t\t\t\t\t\t\t<core:Title text=\"\"/>\n\t\t\t\t\t\t\t\t\t\t\t<VBox>\n\t\t\t\t\t\t\t\t\t\t\t\t<FlexBox id=\"fb1\" hight=\"100px\" width=\"400px\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<!--<items>-->\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Button text=\"Open\" id=\"Btopend\" width=\"10rem\" activeIcon=\"sap-icon://order-status\" icon=\"sap-icon://order-status\" press=\"onOpend\"/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<!--</items>-->\n\t\t\t\t\t\t\t\t\t\t\t\t</FlexBox>\n\t\t\t\t\t\t\t\t\t\t\t\t<VBox>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<!--<Label text=\"\" width=\"50px\"/>-->\n\t\t\t\t\t\t\t\t\t\t\t\t\t<!--<Input id=\"Idoc\" value=\"\" editable=\"false\" maxLength=\"12\"/>-->\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Input id=\"Idoc\" value=\"\" editable=\"false\" width=\"160px\"/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<!--<Label text=\"\" width=\"50px\"/>-->\n\t\t\t\t\t\t\t\t\t\t\t\t</VBox>\n\t\t\t\t\t\t\t\t\t\t\t\t<!--</items>-->\n\t\t\t\t\t\t\t\t\t\t\t\t<FlexBox id=\"fb2\" hight=\"100px\" width=\"400px\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<!--<items>-->\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Button text=\"Re-Process Docket\" id=\"Btrpdocket\" width=\"10rem\" activeIcon=\"sap-icon://process\" icon=\"sap-icon://process\" press=\"onRpdocket\"/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<!--</items>-->\n\t\t\t\t\t\t\t\t\t\t\t\t</FlexBox>\n\t\t\t\t\t\t\t\t\t\t\t\t<VBox>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Label text=\"\" width=\"50px\"/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Label text=\"\" width=\"50px\"/>\n\t\t\t\t\t\t\t\t\t\t\t\t</VBox>\n\t\t\t\t\t\t\t\t\t\t\t\t<FlexBox id=\"fb3\" hight=\"100px\" width=\"400px\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<!--<items>-->\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Button text=\"Cancel Invoice\" id=\"Btcancelinv\" width=\"10rem\" activeIcon=\"sap-icon://cancel\" icon=\"sap-icon://cancel\" press=\"onCancelinv\"/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<!--</items>-->\n\t\t\t\t\t\t\t\t\t\t\t\t</FlexBox>\n\t\t\t\t\t\t\t\t\t\t\t</VBox>\n\t\t\t\t\t\t\t\t\t\t\t<!--<HBox>-->\n\t\t\t\t\t\t\t\t\t\t\t<!--<items>-->\n\t\t\t\t\t\t\t\t\t\t\t<!--<Button text=\"Cancel Invoice\" id=\"Btcancelinv\" width=\"9rem\" activeIcon=\"sap-icon://cancel\" icon=\"sap-icon://cancel\" press=\"onCancelinv\"/>-->\n\t\t\t\t\t\t\t\t\t\t</f:content>\n\t\t\t\t\t\t\t\t\t</f:SimpleForm>\n\t\t\t\t\t\t\t\t</content>\n\t\t\t\t\t\t\t</IconTabFilter>\n\t\t\t\t\t\t\t<IconTabFilter text=\"CSD\" showAll=\"true\" id=\"idIconTabCSD\" design=\"Horizontal\" textDirection=\"RTL\" visible=\"{this>/IsCSDTokenFieldsVisible}\">\n\t\t\t\t\t\t\t\t<content>\n\t\t\t\t\t\t\t\t\t<f:SimpleForm id=\"idCSDForm\" editable=\"true\" labelSpanL=\"2\" labelSpanM=\"2\" labelSpanS=\"2\" adjustLabelSpan=\"false\" columnsL=\"2\" columnsM=\"2\"\n\t\t\t\t\t\t\t\t\t\tsingleContainerFullSize=\"false\">\n\t\t\t\t\t\t\t\t\t\t<f:content>\n\t\t\t\t\t\t\t\t\t\t\t<!--Container1-->\n\t\t\t\t\t\t\t\t\t\t\t<core:Title text=\"\"/>\n\t\t\t\t\t\t\t\t\t\t\t<Label labelFor=\"idCSDTokenNumber\" text=\"Token No\"/>\n\t\t\t\t\t\t\t\t\t\t\t<Input id=\"idCSDTokenNumber\" enabled=\"false\" maxLength=\"25\"/>\n\t\t\t\t\t\t\t\t\t\t\t<Label labelFor=\"idForm38Input\" text=\"Form 38\" required=\"true\"/>\n\t\t\t\t\t\t\t\t\t\t\t<Input id=\"idForm38Input\" enabled=\"{=! ${this>/IsInvoiceCreated}}\" maxLength=\"25\"/>\n\t\t\t\t\t\t\t\t\t\t\t<Label labelFor=\"idTokenFileUploader\" text=\"Upload File\" visible=\"{!={this>/IsInvoiceCreated}}\"/>\n\t\t\t\t\t\t\t\t\t\t\t<u:FileUploader id=\"idTokenFileUploader\" uploadUrl=\"upload/\" uploadComplete=\"onUploadComplete\" uploadStart=\"onBeforeUploadStart\"\n\t\t\t\t\t\t\t\t\t\t\t\tvisible=\"{=! ${this>/IsInvoiceCreated}}\"/>\n\t\t\t\t\t\t\t\t\t\t\t<core:Title text=\"\"/>\n\t\t\t\t\t\t\t\t\t\t\t<Label text=\"\" labelFor=\"idSaveBtn\"/>\n\t\t\t\t\t\t\t\t\t\t\t<Button text=\"Save\" id=\"idSaveBtn\" press=\"onPressSaveFileButton\" width=\"40%\" visible=\"{=! ${this>/IsInvoiceCreated}}\"/>\n\t\t\t\t\t\t\t\t\t\t\t<Label text=\"\" labelFor=\"idDownloadBtn\" visible=\"{this>/IsInvoiceCreated}\"/>\n\t\t\t\t\t\t\t\t\t\t\t<Button id=\"idDownloadBtn\" text=\"Download Attachement\" press=\"onPressDownloadAttachment\" width=\"70%\" visible=\"{this>/IsInvoiceCreated}\"/>\n\t\t\t\t\t\t\t\t\t\t</f:content>\n\t\t\t\t\t\t\t\t\t</f:SimpleForm>\n\t\t\t\t\t\t\t\t</content>\n\t\t\t\t\t\t\t</IconTabFilter>\n\t\t\t\t\t\t</items>\n\t\t\t\t\t</IconTabBar>\n\t\t\t\t\t<!--</Panel>-->\n\t\t\t\t\t<!--Item Details-->\n\t\t\t\t\t<!--<Panel expandable=\"false\" width=\"auto\" headerText=\"Item Details\" class=\"sapUiResponsiveMargin\">-->\n\t\t\t\t\t<!--Startof tabstrip\t-->\n\t\t\t\t\t<IconTabBar selectedKey=\"__filter2\" id=\"__bar1\" select=\"onSelectItemChanged\" expandable=\"false\" headerMode=\"Inline\">\n\t\t\t\t\t\t<items>\n\t\t\t\t\t\t\t<!--Tabstrip Invoice-->\n\t\t\t\t\t\t\t<IconTabFilter text=\"Items\" showAll=\"true\" id=\"__filter2\" design=\"Horizontal\" press=\"onEnterInvoice\">\n\t\t\t\t\t\t\t\t<content>\n\t\t\t\t\t\t\t\t\t<!--Start of Horizontal Box1-->\n\t\t\t\t\t\t\t\t\t<HBox alignContent=\"Stretch\">\n\t\t\t\t\t\t\t\t\t\t<VBox>\n\t\t\t\t\t\t\t\t\t\t\t<Label text=\"Material Code\" id=\"LblMatcode1\"/>\n\t\t\t\t\t\t\t\t\t\t\t<Input id=\"InpMatcode1\" value=\"\" maxLength=\"12\" required=\"true\" width=\"100%\" submit=\"onMatInput\" change=\"onMatInput\" fieldWidth=\"200%\"/>\n\t\t\t\t\t\t\t\t\t\t</VBox>\n\t\t\t\t\t\t\t\t\t\t<VBox>\n\t\t\t\t\t\t\t\t\t\t\t<Label text=\"Material Description\" id=\"LblMatdesc1\" width=\"325px\"/>\n\t\t\t\t\t\t\t\t\t\t\t<Input id=\"InpMatdesc1\" value=\"\" editable=\"false\" fieldWidth=\"100%\" maxLength=\"40\" required=\"true\" width=\"100%\"/>\n\t\t\t\t\t\t\t\t\t\t</VBox>\n\t\t\t\t\t\t\t\t\t\t<VBox>\n\t\t\t\t\t\t\t\t\t\t\t<Label text=\"Brand\" id=\"LblBrand1\" width=\"70px\"/>\n\t\t\t\t\t\t\t\t\t\t\t<Input id=\"InpBrand1\" value=\"\" editable=\"false\" maxLength=\"12\" required=\"true\" width=\"100%\"/>\n\t\t\t\t\t\t\t\t\t\t</VBox>\n\t\t\t\t\t\t\t\t\t\t<VBox>\n\t\t\t\t\t\t\t\t\t\t\t<Label text=\"Pack\" id=\"Pack1\"/>\n\t\t\t\t\t\t\t\t\t\t\t<Input id=\"InpPack1\" value=\"\" editable=\"false\" maxLength=\"12\" required=\"true\" width=\"200%\" fieldWidth=\"200%\"/>\n\t\t\t\t\t\t\t\t\t\t</VBox>\n\t\t\t\t\t\t\t\t\t\t<VBox>\n\t\t\t\t\t\t\t\t\t\t\t<Label text=\"Quantity\" id=\"Lblqty1\"/>\n\t\t\t\t\t\t\t\t\t\t\t<Input id=\"InpQty1\" value=\"\" maxLength=\"12\" required=\"true\" width=\"100%\" fieldWidth=\"100%\"/>\n\t\t\t\t\t\t\t\t\t\t</VBox>\n\t\t\t\t\t\t\t\t\t\t<VBox>\n\t\t\t\t\t\t\t\t\t\t\t<Label text=\"Uom\" id=\"Lbluom1\" width=\"60px\"/>\n\t\t\t\t\t\t\t\t\t\t\t<ComboBox id=\"combuom1\" selectedKey=\"CS\" width=\"75%\">\n\t\t\t\t\t\t\t\t\t\t\t\t<core:Item text=\"Cases\" key=\"CS\"/>\n\t\t\t\t\t\t\t\t\t\t\t\t<core:Item text=\"Each\" key=\"EA\"/>\n\t\t\t\t\t\t\t\t\t\t\t</ComboBox>\n\t\t\t\t\t\t\t\t\t\t</VBox>\n\t\t\t\t\t\t\t\t\t\t<VBox>\n\t\t\t\t\t\t\t\t\t\t\t<Label text=\"Bottle/Case\" id=\"LblUmren\" visible=\"false\"/>\n\t\t\t\t\t\t\t\t\t\t\t<Input id=\"InpUmren\" value=\"\" maxLength=\"12\" required=\"true\" width=\"100%\" fieldWidth=\"100%\" visible=\"false\"/>\n\t\t\t\t\t\t\t\t\t\t</VBox>\n\t\t\t\t\t\t\t\t\t\t<VBox>\n\t\t\t\t\t\t\t\t\t\t\t<Label text=\"\" id=\"empty1\"/>\n\t\t\t\t\t\t\t\t\t\t\t<!--<Toolbar height=\"4rem\">-->\n\t\t\t\t\t\t\t\t\t\t\t<Button id=\"Btadd\" activeIcon=\"sap-icon://add\" text=\"Add\" icon=\"sap-icon://add\" textDirection=\"LTR\" press=\"onItemAdd\"/>\n\t\t\t\t\t\t\t\t\t\t\t<!--</Toolbar>-->\n\t\t\t\t\t\t\t\t\t\t</VBox>\n\t\t\t\t\t\t\t\t\t</HBox>\n\t\t\t\t\t\t\t\t\t<!--End of Horizontal Box1\t-->\n\t\t\t\t\t\t\t\t\t<!--Horizontal Box for space line-->\n\t\t\t\t\t\t\t\t\t<HBOX>\n\t\t\t\t\t\t\t\t\t\t<Label text=\"\" id=\"empty2\"/>\n\t\t\t\t\t\t\t\t\t</HBOX>\n\t\t\t\t\t\t\t\t\t<!--Start of Item List table   -->\n\t\t\t\t\t\t\t\t\t<t:Table id=\"table1\" items=\"{/data}\" rows=\"{/data}\" selectionMode=\"MultiToggle\" visibleRowCount=\"5\" growingScrollToLoad=\"true\"\n\t\t\t\t\t\t\t\t\t\tgrowing=\"true\" ariaLabelledBy=\"title\">\n\t\t\t\t\t\t\t\t\t\t<t:extension>\n\t\t\t\t\t\t\t\t\t\t\t<OverflowToolbar>\n\t\t\t\t\t\t\t\t\t\t\t\t<Title id=\"title\" text=\"Item List\"/>\n\t\t\t\t\t\t\t\t\t\t\t\t<ToolbarSpacer/>\n\t\t\t\t\t\t\t\t\t\t\t\t<!--<Button id=\"Btadd\" activeIcon=\"sap-icon://add\" text=\"Add\" icon=\"sap-icon://add\" textDirection=\"RTL\" press=\"onItemAdd\"/>-->\n\t\t\t\t\t\t\t\t\t\t\t\t<Button text=\"Fetch SLoc\" id=\"BtSLoc\" activeIcon=\"sap-icon://dimension\" icon=\"sap-icon://dimension\" textDirection=\"RTL\" press=\"onSLoc\"/>\n\t\t\t\t\t\t\t\t\t\t\t\t<Button text=\"Delete\" id=\"Btdelete\" type=\"Reject\" activeIcon=\"sap-icon://delete\" icon=\"sap-icon://delete\" textDirection=\"RTL\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tpress=\"onItemDelete\"/>\n\t\t\t\t\t\t\t\t\t\t\t</OverflowToolbar>\n\t\t\t\t\t\t\t\t\t\t</t:extension>\n\t\t\t\t\t\t\t\t\t\t<t:columns>\n\t\t\t\t\t\t\t\t\t\t\t<t:Column width=\"11rem\">\n\t\t\t\t\t\t\t\t\t\t\t\t<Label text=\"Material Code\"/>\n\t\t\t\t\t\t\t\t\t\t\t\t<t:template>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Text text=\"{MaterialCode}\"/>\n\t\t\t\t\t\t\t\t\t\t\t\t</t:template>\n\t\t\t\t\t\t\t\t\t\t\t</t:Column>\n\t\t\t\t\t\t\t\t\t\t\t<t:Column width=\"22rem\">\n\t\t\t\t\t\t\t\t\t\t\t\t<Label text=\"Material Description\"/>\n\t\t\t\t\t\t\t\t\t\t\t\t<t:template>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Text text=\"{MaterialDesc}\"/>\n\t\t\t\t\t\t\t\t\t\t\t\t</t:template>\n\t\t\t\t\t\t\t\t\t\t\t</t:Column>\n\t\t\t\t\t\t\t\t\t\t\t<t:Column width=\"9rem\">\n\t\t\t\t\t\t\t\t\t\t\t\t<Label text=\"Brand\"/>\n\t\t\t\t\t\t\t\t\t\t\t\t<t:template>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Text text=\"{Brand}\"/>\n\t\t\t\t\t\t\t\t\t\t\t\t</t:template>\n\t\t\t\t\t\t\t\t\t\t\t</t:Column>\n\t\t\t\t\t\t\t\t\t\t\t<t:Column width=\"7rem\">\n\t\t\t\t\t\t\t\t\t\t\t\t<Label text=\"Pack\"/>\n\t\t\t\t\t\t\t\t\t\t\t\t<t:template>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Text text=\"{Pack}\"/>\n\t\t\t\t\t\t\t\t\t\t\t\t</t:template>\n\t\t\t\t\t\t\t\t\t\t\t</t:Column>\n\t\t\t\t\t\t\t\t\t\t\t<t:Column width=\"6rem\">\n\t\t\t\t\t\t\t\t\t\t\t\t<Label text=\"Quantity\"/>\n\t\t\t\t\t\t\t\t\t\t\t\t<t:template>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<!--\t<VBox>-->\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Input value=\"{Quantity}\" change=\"onQtyChange\" editable=\"{this>/SalesOrderCreated}\"/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<!--\t<Text text=\"{Quantity}\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t</VBox>-->\n\t\t\t\t\t\t\t\t\t\t\t\t</t:template>\n\t\t\t\t\t\t\t\t\t\t\t</t:Column>\n\t\t\t\t\t\t\t\t\t\t\t<t:Column width=\"7rem\">\n\t\t\t\t\t\t\t\t\t\t\t\t<Label text=\"SLoc.Qty\"/>\n\t\t\t\t\t\t\t\t\t\t\t\t<t:template>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Text text=\"{BatchQuantity}\"/>\n\t\t\t\t\t\t\t\t\t\t\t\t</t:template>\n\t\t\t\t\t\t\t\t\t\t\t</t:Column>\n\t\t\t\t\t\t\t\t\t\t\t<t:Column width=\"5rem\">\n\t\t\t\t\t\t\t\t\t\t\t\t<Label text=\"Uom\"/>\n\t\t\t\t\t\t\t\t\t\t\t\t<t:template>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Text text=\"{Uom}\"/>\n\t\t\t\t\t\t\t\t\t\t\t\t</t:template>\n\t\t\t\t\t\t\t\t\t\t\t</t:Column>\n\t\t\t\t\t\t\t\t\t\t\t<t:Column width=\"8rem\">\n\t\t\t\t\t\t\t\t\t\t\t\t<Label text=\"Bottle/Case\"/>\n\t\t\t\t\t\t\t\t\t\t\t\t<t:template>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Text text=\"{Umren}\"/>\n\t\t\t\t\t\t\t\t\t\t\t\t</t:template>\n\t\t\t\t\t\t\t\t\t\t\t</t:Column>\n\t\t\t\t\t\t\t\t\t\t</t:columns>\n\t\t\t\t\t\t\t\t\t\t<t:footer>\n\t\t\t\t\t\t\t\t\t\t\t<OverflowToolbar>\n\t\t\t\t\t\t\t\t\t\t\t\t<ToolbarSpacer/>\n\t\t\t\t\t\t\t\t\t\t\t\t<Label text=\"Total Quantity in Cases:\" design=\"Bold\" width=\"180px\"/>\n\t\t\t\t\t\t\t\t\t\t\t\t<Input id=\"Txt1\" value=\"\" type=\"Number\" editable=\"false\" textDirection=\"LTR\" width=\"11rem\"/>\n\t\t\t\t\t\t\t\t\t\t\t\t<ToolbarSpacer/>\n\t\t\t\t\t\t\t\t\t\t\t</OverflowToolbar>\n\t\t\t\t\t\t\t\t\t\t</t:footer>\n\t\t\t\t\t\t\t\t\t</t:Table>\n\t\t\t\t\t\t\t\t</content>\n\t\t\t\t\t\t\t</IconTabFilter>\n\t\t\t\t\t\t\t<IconTabFilter text=\"SLoc\" showAll=\"true\" id=\"__filter3\" design=\"Horizontal\" textDirection=\"RTL\">\n\t\t\t\t\t\t\t\t<content>\n\t\t\t\t\t\t\t\t\t<!--Start of Item List table   -->\n\t\t\t\t\t\t\t\t\t<t:Table id=\"table2\" items=\"{/data}\" rows=\"{/data}\" selectionMode=\"MultiToggle\" visibleRowCount=\"5\" growingScrollToLoad=\"true\"\n\t\t\t\t\t\t\t\t\t\tgrowing=\"true\" ariaLabelledBy=\"title\">\n\t\t\t\t\t\t\t\t\t\t<t:extension>\n\t\t\t\t\t\t\t\t\t\t\t<OverflowToolbar>\n\t\t\t\t\t\t\t\t\t\t\t\t<Title id=\"title1\" text=\"SLoc. List\"/>\n\t\t\t\t\t\t\t\t\t\t\t\t<ToolbarSpacer/>\n\t\t\t\t\t\t\t\t\t\t\t</OverflowToolbar>\n\t\t\t\t\t\t\t\t\t\t</t:extension>\n\t\t\t\t\t\t\t\t\t\t<t:columns>\n\t\t\t\t\t\t\t\t\t\t\t<t:Column width=\"22rem\">\n\t\t\t\t\t\t\t\t\t\t\t\t<Label text=\"Material Description\"/>\n\t\t\t\t\t\t\t\t\t\t\t\t<t:template>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Text text=\"{MaterialDesc}\"/>\n\t\t\t\t\t\t\t\t\t\t\t\t</t:template>\n\t\t\t\t\t\t\t\t\t\t\t</t:Column>\n\t\t\t\t\t\t\t\t\t\t\t<t:Column width=\"6rem\">\n\t\t\t\t\t\t\t\t\t\t\t\t<Label text=\"Quantity\"/>\n\t\t\t\t\t\t\t\t\t\t\t\t<t:template>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Text text=\"{Quantity}\"/>\n\t\t\t\t\t\t\t\t\t\t\t\t</t:template>\n\t\t\t\t\t\t\t\t\t\t\t</t:Column>\n\t\t\t\t\t\t\t\t\t\t\t<t:Column width=\"11rem\">\n\t\t\t\t\t\t\t\t\t\t\t\t<Label text=\"Material Code\"/>\n\t\t\t\t\t\t\t\t\t\t\t\t<t:template>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Text text=\"{MaterialCode}\"/>\n\t\t\t\t\t\t\t\t\t\t\t\t</t:template>\n\t\t\t\t\t\t\t\t\t\t\t</t:Column>\n\t\t\t\t\t\t\t\t\t\t\t<t:Column width=\"9rem\">\n\t\t\t\t\t\t\t\t\t\t\t\t<Label text=\"SLoc.\"/>\n\t\t\t\t\t\t\t\t\t\t\t\t<t:template>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Text text=\"{Sloc}\"/>\n\t\t\t\t\t\t\t\t\t\t\t\t</t:template>\n\t\t\t\t\t\t\t\t\t\t\t</t:Column>\n\t\t\t\t\t\t\t\t\t\t\t<t:Column width=\"7rem\">\n\t\t\t\t\t\t\t\t\t\t\t\t<Label text=\"SLoc.Qty\"/>\n\t\t\t\t\t\t\t\t\t\t\t\t<t:template>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Input value=\"{BatchQty}\"/>\n\t\t\t\t\t\t\t\t\t\t\t\t</t:template>\n\t\t\t\t\t\t\t\t\t\t\t</t:Column>\n\t\t\t\t\t\t\t\t\t\t\t<t:Column width=\"6rem\">\n\t\t\t\t\t\t\t\t\t\t\t\t<Label text=\"Slocstock\"/>\n\t\t\t\t\t\t\t\t\t\t\t\t<t:template>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Text text=\"{Slocstock}\"/>\n\t\t\t\t\t\t\t\t\t\t\t\t</t:template>\n\t\t\t\t\t\t\t\t\t\t\t</t:Column>\n\t\t\t\t\t\t\t\t\t\t\t<t:Column width=\"6rem\">\n\t\t\t\t\t\t\t\t\t\t\t\t<Label text=\"Uom\"/>\n\t\t\t\t\t\t\t\t\t\t\t\t<t:template>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Text text=\"{Uom}\"/>\n\t\t\t\t\t\t\t\t\t\t\t\t</t:template>\n\t\t\t\t\t\t\t\t\t\t\t</t:Column>\n\t\t\t\t\t\t\t\t\t\t\t<t:Column width=\"8rem\">\n\t\t\t\t\t\t\t\t\t\t\t\t<Label text=\"Bottle/Case\"/>\n\t\t\t\t\t\t\t\t\t\t\t\t<t:template>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Text text=\"{Umren}\"/>\n\t\t\t\t\t\t\t\t\t\t\t\t</t:template>\n\t\t\t\t\t\t\t\t\t\t\t</t:Column>\n\t\t\t\t\t\t\t\t\t\t</t:columns>\n\t\t\t\t\t\t\t\t\t\t<t:footer>\n\t\t\t\t\t\t\t\t\t\t\t<OverflowToolbar>\n\t\t\t\t\t\t\t\t\t\t\t\t<ToolbarSpacer/>\n\t\t\t\t\t\t\t\t\t\t\t\t<ToolbarSpacer/>\n\t\t\t\t\t\t\t\t\t\t\t</OverflowToolbar>\n\t\t\t\t\t\t\t\t\t\t</t:footer>\n\t\t\t\t\t\t\t\t\t</t:Table>\n\t\t\t\t\t\t\t\t</content>\n\t\t\t\t\t\t\t</IconTabFilter>\n\t\t\t\t\t\t</items>\n\t\t\t\t\t</IconTabBar>\n\t\t\t\t\t<!--</Panel>-->\n\t\t\t\t</content>\n\t\t\t\t<footer>\n\t\t\t\t\t<OverflowToolbar>\n\t\t\t\t\t\t<ToolbarSpacer/>\n\t\t\t\t\t\t<Button id=\"Idcancel\" text=\"Cancel\" type=\"Accept\" press=\"onCancel\"/>\n\t\t\t\t\t\t<Button id=\"Idsubmit\" text=\"Submit\" type=\"Accept\" press=\"onSubmit\"/>\n\t\t\t\t\t</OverflowToolbar>\n\t\t\t\t</footer>\n\t\t\t\t<!--End of Item List table-->\n\t\t\t</Page>\n\t\t</pages>\n\t</App>\n</mvc:View>",
		"ZDLT_UI5_DIS_INV_REQ/view/Main_View.view.xml": "<mvc:View xmlns:html=\"http://www.w3.org/1999/xhtml\" xmlns:mvc=\"sap.ui.core.mvc\" xmlns:l=\"sap.ui.layout\" xmlns:t=\"sap.ui.table\"\r\n\txmlns:core=\"sap.ui.core\" xmlns:f=\"sap.ui.layout.form\" xmlns=\"sap.m\" xmlns:lt=\"sap.ui.commons.layout\"\r\n\tcontrollerName=\"ZDLT_UI5_DIS_INV_REQ.controller.Main_View\" displayBlock=\"true\">\r\n\t<!--<core:Fragment   fragmentName=\"InvoiceList\" type=\"XML\" />-->\r\n\t<!--<core:Fragment   fragmentName=\"ZDLT_UI5_DIS_INV_REQ.view.detailList\" type=\"XML\" />-->\r\n\t<App class=\"sapUiSizeCompact\" id=\"AppID\">\r\n\t\t<pages>\r\n\t\t\t<!--<Page title=\"Request Invoice\">-->\r\n\t\t\t<Page id=\"idPage1\" class=\"sapUiContentPadding\" icon=\"../webapp/images/DIAGEO-LOGO.png\">\r\n\t\t\t\t<customHeader>\r\n\t\t\t\t\t<Toolbar>\r\n\t\t\t\t\t\t<Image class=\"sapUiLargeMarginTop sapUiLargeMarginBottom\" width=\"100px\" height=\"30px\" src=\"../webapp/images/DIAGEO-LOGO.png\"/>\r\n\t\t\t\t\t\t<ToolbarSpacer/>\r\n\t\t\t\t\t\t<Text text=\"Request Invoice\"/>\r\n\t\t\t\t\t\t<ToolbarSpacer/>\r\n\t\t\t\t\t</Toolbar>\r\n\t\t\t\t</customHeader>\r\n\t\t\t\t<content>\r\n\t\t\t\t\t<l:Grid defaultSpan=\"L12 M12 S12\" width=\"auto\">\r\n\t\t\t\t\t\t<f:SimpleForm xmlns:sap.ui.layout.form=\"sap.ui.layout.form\" editable=\"true\" layout=\"ResponsiveGridLayout\" id=\"__form0\" labelMinWidth=\"100\"\r\n\t\t\t\t\t\t\tlabelSpanL=\"4\" columnsL=\"4\" emptySpanL=\"4\" class=\"editableForm\">\r\n\t\t\t\t\t\t\t<f:content>\r\n\t\t\t\t\t\t\t\t<Label text=\"Plant\">\r\n\t\t\t\t\t\t\t\t\t<layoutData>\r\n\t\t\t\t\t\t\t\t\t\t<l:GridData span=\"L5\"/>\r\n\t\t\t\t\t\t\t\t\t</layoutData>\r\n\t\t\t\t\t\t\t\t</Label>\r\n\t\t\t\t\t\t\t\t<ComboBox items=\"{ path: '/GetPlantsSet', sorter: { path: 'Plant' } }\" change=\"onEnterPlant\" width=\"60%\" id=\"Combplant\">\r\n\t\t\t\t\t\t\t\t\t<core:Item key=\"{Plant}\" text=\"{Plant}\"/>\r\n\t\t\t\t\t\t\t\t</ComboBox>\r\n\t\t\t\t\t\t\t\t<Label text=\"Status\" id=\"Lblstatus\">\r\n\t\t\t\t\t\t\t\t\t<layoutData>\r\n\t\t\t\t\t\t\t\t\t\t<l:GridData span=\"L5\"/>\r\n\t\t\t\t\t\t\t\t\t</layoutData>\r\n\t\t\t\t\t\t\t\t</Label>\r\n\t\t\t\t\t\t\t\t<ComboBox selectedKey=\"0\" value=\"\" id=\"Combstatus\" change=\"onEnterStatus\" width=\"60%\" class=\"form-control\">\r\n\t\t\t\t\t\t\t\t\t<core:Item text=\"Open\" key=\"0\"/>\r\n\t\t\t\t\t\t\t\t\t<core:Item text=\"Invoice\" key=\"2\"/>\r\n\t\t\t\t\t\t\t\t\t<core:Item text=\"Re-Request\" key=\"9\"/>\r\n\t\t\t\t\t\t\t\t\t<core:Item text=\"In-Process TMS\" key=\"12\"/>\r\n\t\t\t\t\t\t\t\t\t<!--Added on 29th June by Ramesh -->\r\n\t\t\t\t\t\t\t\t\t<core:Item text=\"Credit Check Rejected\" key=\"10\"/>\r\n\t\t\t\t\t\t\t\t\t<core:Item text=\"Cancelled Invoice\" key=\"20\"/>\r\n\t\t\t\t\t\t\t\t</ComboBox>\r\n\t\t\t\t\t\t\t\t<!--Added by Ramesh on 27-07-2021-->\r\n\t\t\t\t\t\t\t\t<Label text=\"Distribution Channel\" id=\"Lbldistrchn\">\r\n\t\t\t\t\t\t\t\t\t<layoutData>\r\n\t\t\t\t\t\t\t\t\t\t<l:GridData span=\"L5\"/>\r\n\t\t\t\t\t\t\t\t\t</layoutData>\r\n\t\t\t\t\t\t\t\t</Label>\r\n\t\t\t\t\t\t\t\t<ComboBox selectedKey=\"1\" id=\"Combdistr\" change=\"onEnterDistrchn\" width=\"60%\" class=\"form-control\">\r\n\t\t\t\t\t\t\t\t\t<core:Item text=\"All\" key=\"1\"/>\r\n\t\t\t\t\t\t\t\t\t<core:Item text=\"11-DirectSale\" key=\"11\"/>\r\n\t\t\t\t\t\t\t\t\t<core:Item text=\"12-CSD\" key=\"12\"/>\r\n\t\t\t\t\t\t\t\t</ComboBox>\r\n\t\t\t\t\t\t\t\t<!--End of change-->\r\n\t\t\t\t\t\t\t</f:content>\r\n\t\t\t\t\t\t</f:SimpleForm>\r\n\t\t\t\t\t</l:Grid>\r\n\t\t\t\t</content>\r\n\t\t\t\t<content>\r\n\t\t\t\t\t<!-- Radio Button Logic-->\r\n\t\t\t\t\t<HBox>\r\n\t\t\t\t\t\t<VBox>\r\n\t\t\t\t\t\t\t<Label text=\"\" width=\"50px\"/>\r\n\t\t\t\t\t\t\t<Label text=\"\" width=\"50px\"/>\r\n\t\t\t\t\t\t</VBox>\r\n\t\t\t\t\t\t<VBox>\r\n\t\t\t\t\t\t\t<Label text=\"\" width=\"60px\"/>\r\n\t\t\t\t\t\t\t<Label text=\"\" width=\"60px\"/>\r\n\t\t\t\t\t\t</VBox>\r\n\t\t\t\t\t\t<VBox>\r\n\t\t\t\t\t\t\t<Label text=\"\" width=\"60px\"/>\r\n\t\t\t\t\t\t\t<Label text=\"\" width=\"60px\"/>\r\n\t\t\t\t\t\t</VBox>\r\n\t\t\t\t\t\t<VBox>\r\n\t\t\t\t\t\t\t<Label text=\"\" width=\"60px\"/>\r\n\t\t\t\t\t\t\t<Label text=\"\" width=\"60px\"/>\r\n\t\t\t\t\t\t</VBox>\r\n\t\t\t\t\t\t<VBox>\r\n\t\t\t\t\t\t\t<Label text=\"\" width=\"40px\"/>\r\n\t\t\t\t\t\t\t<Label text=\"\" width=\"40px\"/>\r\n\t\t\t\t\t\t</VBox>\r\n\t\t\t\t\t\t<VBox>\r\n\t\t\t\t\t\t\t<Label text=\"\" width=\"60px\"/>\r\n\t\t\t\t\t\t\t<Label text=\"\" width=\"60px\"/>\r\n\t\t\t\t\t\t</VBox>\r\n\t\t\t\t\t\t<VBox>\r\n\t\t\t\t\t\t\t<Label text=\"\" width=\"40px\"/>\r\n\t\t\t\t\t\t\t<Label text=\"\" width=\"40px\"/>\r\n\t\t\t\t\t\t</VBox>\r\n\t\t\t\t\t\t<VBox>\r\n\t\t\t\t\t\t\t<Label text=\"\" width=\"60px\"/>\r\n\t\t\t\t\t\t\t<Label text=\"\" width=\"60px\"/>\r\n\t\t\t\t\t\t</VBox>\r\n\t\t\t\t\t\t<VBox>\r\n\t\t\t\t\t\t\t<Label text=\"\" width=\"40px\"/>\r\n\t\t\t\t\t\t\t<Label text=\"\" width=\"40px\"/>\r\n\t\t\t\t\t\t</VBox>\r\n\t\t\t\t\t\t<RadioButtonGroup id=\"rbg3\" columns=\"2\" class=\"sapUiMediumMarginBottom\" select='handleSelect' >\r\n\t\t\t\t\t\t\t<RadioButton id=\"RB3-1\" text=\"TMS Process\"/>\r\n\t\t\t\t\t\t\t<RadioButton id=\"RB3-2\" text=\"Non-TMS Process\"/>\r\n\t\t\t\t\t\t</RadioButtonGroup>\r\n\t\t\t\t\t</HBox>\r\n\t\t\t\t\t<!--Empty rows-->\r\n\t\t\t\t\t<HBox>\r\n\t\t\t\t\t\t<VBox>\r\n\t\t\t\t\t\t\t<Label text=\"\" width=\"50px\"/>\r\n\t\t\t\t\t\t\t<Label text=\"\" width=\"50px\"/>\r\n\t\t\t\t\t\t</VBox>\r\n\t\t\t\t\t\t<VBox>\r\n\t\t\t\t\t\t\t<Label text=\"\" width=\"60px\"/>\r\n\t\t\t\t\t\t\t<Label text=\"\" width=\"60px\"/>\r\n\t\t\t\t\t\t</VBox>\r\n\t\t\t\t\t\t<VBox>\r\n\t\t\t\t\t\t\t<Label text=\"\" width=\"60px\"/>\r\n\t\t\t\t\t\t\t<Label text=\"\" width=\"60px\"/>\r\n\t\t\t\t\t\t</VBox>\r\n\t\t\t\t\t\t<VBox>\r\n\t\t\t\t\t\t\t<Label text=\"\" width=\"60px\"/>\r\n\t\t\t\t\t\t\t<Label text=\"\" width=\"60px\"/>\r\n\t\t\t\t\t\t</VBox>\r\n\t\t\t\t\t\t<VBox>\r\n\t\t\t\t\t\t\t<Label text=\"\" width=\"40px\"/>\r\n\t\t\t\t\t\t\t<Label text=\"\" width=\"40px\"/>\r\n\t\t\t\t\t\t</VBox>\r\n\t\t\t\t\t\t<Label text=\"Invoice From: \" textAlign=\"Center\" width=\"100px\" class=\"sapUiTinyMarginTop\"/>\r\n\t\t\t\t\t\t<DatePicker id=\"Inpreqfrmdat\" value=\"\" valueFormat=\"yyyy-MM-dd\" displayFormat=\"long\" required=\"true\" width=\"80%\"/>\r\n\t\t\t\t\t\t<Label text=\"Invoice To: \" textAlign=\"Center\" width=\"80px\" class=\"sapUiTinyMarginTop\"/>\r\n\t\t\t\t\t\t<DatePicker id=\"Inpreqtodat\" value=\"\" valueFormat=\"yyyy-MM-dd\" displayFormat=\"long\" required=\"true\" width=\"80%\"/>\r\n\t\t\t\t\t\t<VBox>\r\n\t\t\t\t\t\t\t<!--<Label text=\"\" width=\"40px\"></Label>-->\r\n\t\t\t\t\t\t\t<Button id=\"BtGo\" activeIcon=\"sap-icon://add\" text=\"GO\" width=\"100%\" textDirection=\"LTR\" press=\"onSubmit\"/>\r\n\t\t\t\t\t\t</VBox>\r\n\t\t\t\t\t</HBox>\r\n\t\t\t\t\t<!--selectionMode=\"MultiToggle\"-->\r\n\t\t\t\t</content>\r\n\t\t\t\t<t:Table id=\"table1\" items=\"{/data}\" rows=\"{/data}\" selectionMode=\"Single\" selectionBehavior=\"Row\" visibleRowCount=\"10\"\r\n\t\t\t\t\tgrowingScrollToLoad=\"true\" growing=\"true\" ariaLabelledBy=\"title\" fixedColumnCount=\"6\">\r\n\t\t\t\t\t<t:extension>\r\n\t\t\t\t\t\t<OverflowToolbar>\r\n\t\t\t\t\t\t\t<!--<Title id=\"title\" text=\"Request List\"/>-->\r\n\t\t\t\t\t\t\t<Button id=\"btRqinv\" activeIcon=\"sap-icon://process\" icon=\"sap-icon://process\" textDirection=\"RTL\" press=\"onRqinv\" text=\"Process Document\"/>\r\n\t\t\t\t\t\t\t<Button id=\"btRqtms\" activeIcon=\"sap-icon://process\" icon=\"sap-icon://process\" textDirection=\"RTL\" press=\"onRqinv\" text=\"Process Document\"/>\r\n\t\t\t\t\t\t\t<ToolbarSpacer/>\r\n\t\t\t\t\t\t\t<Button id=\"btInvldis\" activeIcon=\"sap-icon://step\" icon=\"sap-icon://step\" textDirection=\"RTL\" press=\"onInvlist\"\r\n\t\t\t\t\t\t\t\ttext=\"Document Flow\"/>\r\n\t\t\t\t\t\t\t<Button id=\"btReqapprvl\" activeIcon=\"sap-icon://approvals\" icon=\"sap-icon://approvals\" textDirection=\"RTL\" press=\"onReqapprvl\"\r\n\t\t\t\t\t\t\t\ttext=\"Request for Approval\"/>\r\n\t\t\t\t\t\t\t<Button id=\"btPrint\" activeIcon=\"sap-icon://print\" icon=\"sap-icon://print\" textDirection=\"RTL\" press=\"onItemPrint\" text=\"Print\"/>\r\n\t\t\t\t\t\t\t<Button id=\"btEdit\" activeIcon=\"sap-icon://user-edit\" icon=\"sap-icon://user-edit\" textDirection=\"RTL\" press=\"onItemEdit\"\r\n\t\t\t\t\t\t\t\ttext=\"Edit / Display\"/>\r\n\t\t\t\t\t\t\t<Button text=\"Delete\" id=\"Btdelete\" activeIcon=\"sap-icon://delete\" icon=\"sap-icon://delete\" textDirection=\"RTL\" press=\"onItemDelete\"/>\r\n\t\t\t\t\t\t\t<Button id=\"btRefresh\" activeIcon=\"sap-icon://refresh\" icon=\"sap-icon://refresh\" textDirection=\"RTL\" press=\"onItemRefresh\" text=\"Refresh\"\r\n\t\t\t\t\t\t\t\tvisible=\"false\"/>\r\n\t\t\t\t\t\t</OverflowToolbar>\r\n\t\t\t\t\t</t:extension>\r\n\t\t\t\t\t<t:columns>\r\n\t\t\t\t\t\t<t:Column width=\"9rem\" id=\"DocketNumber\">\r\n\t\t\t\t\t\t\t<Label text=\"Docket Number\"/>\r\n\t\t\t\t\t\t\t<t:template>\r\n\t\t\t\t\t\t\t\t<Text text=\"{DocketNum}\"/>\r\n\t\t\t\t\t\t\t</t:template>\r\n\t\t\t\t\t\t</t:Column>\r\n\t\t\t\t\t\t<t:Column width=\"8rem\" id=\"TPermitNumber\">\r\n\t\t\t\t\t\t\t<Label text=\"TP Permit Number\"/>\r\n\t\t\t\t\t\t\t<t:template>\r\n\t\t\t\t\t\t\t\t<Text text=\"{TPermitNum}\"/>\r\n\t\t\t\t\t\t\t</t:template>\r\n\t\t\t\t\t\t</t:Column>\r\n\t\t\t\t\t\t<t:Column width=\"9rem\" id=\"InvoiceDate\">\r\n\t\t\t\t\t\t\t<Label text=\"Invoice Date\"/>\r\n\t\t\t\t\t\t\t<t:template>\r\n\t\t\t\t\t\t\t\t<!--<Text text=\"{InvDate}\"/>-->\r\n\t\t\t\t\t\t\t\t<DatePicker value=\"{ path: 'InvDate', type: 'sap.ui.model.type.Date', formatOptions: {source: {pattern: 'timestamp'}} }\" editable=\"false\"/>\r\n\t\t\t\t\t\t\t</t:template>\r\n\t\t\t\t\t\t</t:Column>\r\n\t\t\t\t\t\t<t:Column width=\"8rem\" id=\"RequestInvoice\">\r\n\t\t\t\t\t\t\t<Label text=\"Status / Invoice\"/>\r\n\t\t\t\t\t\t\t<t:template>\r\n\t\t\t\t\t\t\t\t<Text text=\"{ReqInv}\"/>\r\n\t\t\t\t\t\t\t\t<!--Commented by Ramesh on 25-07-2021-->\r\n\t\t\t\t\t\t\t\t<!--<Link text=\"{ReqInv}\"/> -->\r\n\t\t\t\t\t\t\t\t<!--press=\"onRequest\"/>-->\r\n\t\t\t\t\t\t\t\t<!--end of comment by Ramesh on 25-07-2021-->\r\n\t\t\t\t\t\t\t</t:template>\r\n\t\t\t\t\t\t</t:Column>\r\n\t\t\t\t\t\t<t:Column width=\"9rem\" id=\"TruckNumber\">\r\n\t\t\t\t\t\t\t<Label text=\"Truck Number\"/>\r\n\t\t\t\t\t\t\t<t:template>\r\n\t\t\t\t\t\t\t\t<Text text=\"{TruckNumber}\"/>\r\n\t\t\t\t\t\t\t</t:template>\r\n\t\t\t\t\t\t</t:Column>\r\n\t\t\t\t\t\t<t:Column width=\"11rem\" id=\"TruckType\">\r\n\t\t\t\t\t\t\t<Label text=\"Truck Type\"/>\r\n\t\t\t\t\t\t\t<t:template>\r\n\t\t\t\t\t\t\t\t<Text text=\"{TruckTypeTxt}\"/>\r\n\t\t\t\t\t\t\t</t:template>\r\n\t\t\t\t\t\t</t:Column>\r\n\t\t\t\t\t\t<t:Column width=\"11rem\" id=\"RequestType\">\r\n\t\t\t\t\t\t\t<!--<Label text=\"Request Type\"/>-->\r\n\t\t\t\t\t\t\t<!--Changed on 29th June by Ramesh - Changed to Remarks from Request Type-->\r\n\t\t\t\t\t\t\t<Label text=\"Remarks\"/>\r\n\t\t\t\t\t\t\t<t:template>\r\n\t\t\t\t\t\t\t\t<Text text=\"{RequestType}\"/>\r\n\t\t\t\t\t\t\t</t:template>\r\n\t\t\t\t\t\t</t:Column>\r\n\t\t\t\t\t\t<t:Column width=\"9rem\" id=\"TPermitDate\">\r\n\t\t\t\t\t\t\t<Label text=\"TP Permit Date\"/>\r\n\t\t\t\t\t\t\t<t:template>\r\n\t\t\t\t\t\t\t\t<!--<Text text=\"{TPermitDate}\"/>-->\r\n\t\t\t\t\t\t\t\t<DatePicker value=\"{ path: 'TPermitDate', type: 'sap.ui.model.type.Date', formatOptions: {source: {pattern: 'timestamp'}} }\"\r\n\t\t\t\t\t\t\t\t\teditable=\"false\"/>\r\n\t\t\t\t\t\t\t</t:template>\r\n\t\t\t\t\t\t</t:Column>\r\n\t\t\t\t\t\t<t:Column width=\"5rem\" id=\"MilkRun\">\r\n\t\t\t\t\t\t\t<Label text=\"Milk Run\"/>\r\n\t\t\t\t\t\t\t<t:template>\r\n\t\t\t\t\t\t\t\t<Text text=\"{MilkRun}\"/>\r\n\t\t\t\t\t\t\t</t:template>\r\n\t\t\t\t\t\t</t:Column>\r\n\t\t\t\t\t\t<t:Column width=\"8rem\" id=\"VendorCode\">\r\n\t\t\t\t\t\t\t<Label text=\"Vendor Code\"/>\r\n\t\t\t\t\t\t\t<t:template>\r\n\t\t\t\t\t\t\t\t<Text text=\"{VendorCode}\"/>\r\n\t\t\t\t\t\t\t</t:template>\r\n\t\t\t\t\t\t</t:Column>\r\n\t\t\t\t\t\t<t:Column width=\"8rem\" id=\"Customer\">\r\n\t\t\t\t\t\t\t<Label text=\"Customer\"/>\r\n\t\t\t\t\t\t\t<t:template>\r\n\t\t\t\t\t\t\t\t<Text text=\"{Customer}\"/>\r\n\t\t\t\t\t\t\t</t:template>\r\n\t\t\t\t\t\t</t:Column>\r\n\t\t\t\t\t\t<t:Column width=\"19rem\" id=\"CustName\">\r\n\t\t\t\t\t\t\t<Label text=\"Customer Name\"/>\r\n\t\t\t\t\t\t\t<t:template>\r\n\t\t\t\t\t\t\t\t<Text text=\"{CustName}\"/>\r\n\t\t\t\t\t\t\t</t:template>\r\n\t\t\t\t\t\t</t:Column>\r\n\t\t\t\t\t\t<t:Column width=\"11rem\" id=\"CreditCheck\">\r\n\t\t\t\t\t\t\t<Label text=\"Credit Check Status\"/>\r\n\t\t\t\t\t\t\t<t:template>\r\n\t\t\t\t\t\t\t\t<Text text=\"{CrdCheck}\"/>\r\n\t\t\t\t\t\t\t\t<!--Commented by Ramesh on 25-07-2021-->\r\n\t\t\t\t\t\t\t\t<!--<Link text=\"{CrdCheck}\" press=\"onCrdCheck\"/>-->\r\n\t\t\t\t\t\t\t\t<!--end of comment by Ramesh on 25-07-2021-->\r\n\t\t\t\t\t\t\t\t<!--<Text text=\"{CrdCheck}\"/>-->\r\n\t\t\t\t\t\t\t</t:template>\r\n\t\t\t\t\t\t</t:Column>\r\n\t\t\t\t\t\t<t:Column width=\"8rem\" id=\"ProformaInvoice\" visible=\"false\">\r\n\t\t\t\t\t\t\t<Label text=\"Proforma Invoice\" visible=\"false\"/>\r\n\t\t\t\t\t\t\t<t:template>\r\n\t\t\t\t\t\t\t\t<Link text=\"{Profermaind}\" press=\"onProrequest\"/>\r\n\t\t\t\t\t\t\t\t<!-- press=\"onProfermaind\"/> -->\r\n\t\t\t\t\t\t\t\t<!--<Text text=\"{Profermaind}\"/>-->\r\n\t\t\t\t\t\t\t</t:template>\r\n\t\t\t\t\t\t</t:Column>\r\n\t\t\t\t\t\t<!--\t\t\t\t\t\t<t:Column width=\"11rem\" id=\"RequestType\">-->\r\n\t\t\t\t\t\t<!--<Label text=\"Request Type\"/>-->\r\n\t\t\t\t\t\t<!--Changed on 29th June by Ramesh - Changed to Remarks from Request Type-->\r\n\t\t\t\t\t\t<!--\t\t\t\t\t\t\t<Label text=\"Remarks\"/>-->\r\n\t\t\t\t\t\t<!--\t\t\t\t\t\t\t<t:template>-->\r\n\t\t\t\t\t\t<!--\t\t\t\t\t\t\t\t<Text text=\"{RequestType}\"/>-->\r\n\t\t\t\t\t\t<!--\t\t\t\t\t\t\t</t:template>-->\r\n\t\t\t\t\t\t<!--\t\t\t\t\t\t</t:Column>-->\r\n\t\t\t\t\t\t<t:Column width=\"8rem\" id=\"SaleOrder\" visible=\"false\">\r\n\t\t\t\t\t\t\t<Label text=\"Sale Order\" visible=\"false\"/>\r\n\t\t\t\t\t\t\t<t:template>\r\n\t\t\t\t\t\t\t\t<Text text=\"{SoDocno}\"/>\r\n\t\t\t\t\t\t\t</t:template>\r\n\t\t\t\t\t\t</t:Column>\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t<t:Column width=\"8rem\" id=\"idColumnTokenNo\">\r\n\t\t\t\t\t\t\t<Label text=\"Form 38\"/>\r\n\t\t\t\t\t\t\t<t:template>\r\n\t\t\t\t\t\t\t\t<Text text=\"{Form38}\"/>\r\n\t\t\t\t\t\t\t</t:template>\r\n\t\t\t\t\t\t</t:Column>\r\n\t\t\t\t\t</t:columns>\r\n\t\t\t\t</t:Table>\r\n\t\t\t</Page>\r\n\t\t</pages>\r\n\t</App>\r\n</mvc:View>",
		"ZDLT_UI5_DIS_INV_REQ/model/models.js": "sap.ui.define([\r\n\t\"sap/ui/model/json/JSONModel\",\r\n\t\"sap/ui/Device\"\r\n], function(JSONModel, Device) {\r\n\t\"use strict\";\r\n\r\n\treturn {\r\n\r\n\t\tcreateDeviceModel: function() {\r\n\t\t\tvar oModel = new JSONModel(Device);\r\n\t\t\toModel.setDefaultBindingMode(\"OneWay\");\r\n\t\t\treturn oModel;\r\n\t\t}\r\n\r\n\t};\r\n});"
	}
});